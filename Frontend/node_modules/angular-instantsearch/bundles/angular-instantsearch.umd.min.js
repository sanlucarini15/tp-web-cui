!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("algoliasearch/lite"),require("instantsearch.js/es"),require("nouislider"),require("@angular/common"),require("instantsearch.js/es/connectors"),require("algoliasearch"),require("querystring-es3/encode"),require("@angular/core"),require("algoliasearch-helper")):"function"==typeof define&&define.amd?define("angular-instantsearch",["exports","algoliasearch/lite","instantsearch.js/es","nouislider","@angular/common","instantsearch.js/es/connectors","algoliasearch","querystring-es3/encode","@angular/core","algoliasearch-helper"],e):e(t["angular-instantsearch"]={},t.algoliasearchProxy,t.instantsearch,t.noUiSlider,t.ng.common,t.instantsearch.connectors,t.algoliasearch,t.qs.encode,t.ng.core,t.algoliasearchHelper)}(this,function(t,e,n,u,r,s,i,a,p,o){"use strict";"default"in e&&e["default"];n=n&&n.hasOwnProperty("default")?n["default"]:n;var c="default"in i?i["default"]:i,l="default"in a?a["default"]:a,h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function d(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var f=Object.assign||function f(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t};function m(r){return function(t,e){var n="ais-"+r;return t&&(n+="-"+t),e&&(n+="--"+e),n}}function g(t){return"string"==typeof t?parseInt(t,10):t}function y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var b=function St(){},v=function(){function t(t){var n=this;this.state={},this.updateState=function(t,e){if(e)return Promise.resolve().then(function(){n.state=t});n.state=t},this.cx=m(t)}return t.prototype.createWidget=function(t,e){void 0===e&&(e={}),this.widget=t(this.updateState,y)(e)},t.prototype.ngOnInit=function(){this.instantSearchParent.addWidget(this.widget)},t.prototype.ngOnDestroy=function(){r.isPlatformBrowser(this.instantSearchParent.platformId)&&this.instantSearchParent.removeWidget(this.widget)},t.prototype.getItemClass=function(t){var e=this.cx("item");return t.isRefined&&(e=e+" "+this.cx("item","selected")),e},t.propDecorators={autoHideContainer:[{type:p.Input}]},t}(),I="3.0.0-beta.5",x=function(){function t(t){var e=this;this.platformId=t,this.instanceName="default",this.change=new p.EventEmitter,this.onRender=function(){e.change.emit({results:e.instantSearchInstance.helper.lastResults,state:e.instantSearchInstance.helper.state})}}return t.prototype.ngOnInit=function(){this.createInstantSearchInstance(this.config)},t.prototype.ngAfterViewInit=function(){this.instantSearchInstance.start()},t.prototype.ngOnDestroy=function(){this.instantSearchInstance.removeListener("render",this.onRender),this.instantSearchInstance.dispose()},t.prototype.createInstantSearchInstance=function(t){t.searchParameters||(t.searchParameters={}),Object.assign(t.searchParameters,{highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"}),r.isPlatformBrowser(this.platformId)||("undefined"!=typeof t.urlSync&&delete t.urlSync,"undefined"!=typeof t.routing&&delete t.routing),"function"==typeof t.searchClient.addAlgoliaAgent&&(t.searchClient.addAlgoliaAgent("angular ("+p.VERSION.full+")"),t.searchClient.addAlgoliaAgent("angular-instantsearch ("+I+")")),this.instantSearchInstance=n(t),this.instantSearchInstance.on("render",this.onRender)},t.prototype.addWidget=function(t){this.instantSearchInstance.addWidget(t)},t.prototype.removeWidget=function(t){this.instantSearchInstance.removeWidget(t)},t.prototype.refresh=function(){this.instantSearchInstance.refresh()},t.decorators=[{type:p.Component,args:[{selector:"ais-instantsearch",template:"<ng-content></ng-content>"}]}],t.ctorParameters=function(){return[{type:Object,decorators:[{type:p.Inject,args:[p.PLATFORM_ID]}]}]},t.propDecorators={config:[{type:p.Input}],instanceName:[{type:p.Input}],change:[{type:p.Output}]},t}(),C=function(n){function t(t){var e=n.call(this,"Breadcrumb")||this;return e.instantSearchParent=t,e.state={createURL:function(){return"#"},items:[],refine:y},e}return d(t,n),Object.defineProperty(t.prototype,"isHidden",{get:function(){return 0===this.state.items.length&&this.autoHideContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var n=this;return this.state.items.map(function(t,e){return f({},t,{separator:0!==e,isLast:e===n.state.items.length-1})})},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectBreadcrumb,{attributes:this.attributes,rootPath:this.rootPath,separator:this.separator,transformItems:this.transformItems}),n.prototype.ngOnInit.call(this)},t.prototype.handleClick=function(t,e){t.preventDefault(),t.stopPropagation(),e.value&&this.state.refine(e.value)},t.decorators=[{type:p.Component,args:[{selector:"ais-breadcrumb",template:'\n    <div\n      [class]="cx()"\n      *ngIf="!isHidden"\n    >\n      <ul [class]="cx(\'list\')">\n        <li\n          *ngFor="let item of items"\n          [ngClass]="[cx(\'item\'), item.isLast ? cx(\'item\', \'selected\') : \'\']"\n          (click)="handleClick($event, item)"\n        >\n          <span\n            *ngIf="item.separator"\n            [class]="cx(\'separator\')"\n            aria-hidden="true"\n          >\n            >\n          </span>\n          <a\n            [class]="cx(\'link\')"\n            href="{{state.createURL(item.value)}}"\n            *ngIf="!item.isLast"\n            (click)="handleClick($event, item)"\n          >\n            {{item.label}}\n          </a>\n\n          <span *ngIf="item.isLast">\n            {{item.label}}\n          </span>\n        </li>\n      </ul>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={attributes:[{type:p.Input}],rootPath:[{type:p.Input}],separator:[{type:p.Input}],transformItems:[{type:p.Input}]},t}(v),P=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[C],entryComponents:[C],exports:[C],imports:[r.CommonModule]}]}],t}(),M=function(n){function t(t){var e=n.call(this,"ClearRefinements")||this;return e.instantSearchParent=t,e.resetLabel="Clear refinements",e.state={hasRefinements:!1,refine:y,createURL:function(){return"#"}},e}return d(t,n),Object.defineProperty(t.prototype,"isHidden",{get:function(){return!this.state.hasRefinements&&this.autoHideContainer},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectClearRefinements,{includedAttributes:this.includedAttributes,excludedAttributes:this.excludedAttributes,transformItems:this.transformItems}),n.prototype.ngOnInit.call(this)},t.prototype.handleClick=function(t){t.preventDefault(),this.state.hasRefinements&&this.state.refine()},t.decorators=[{type:p.Component,args:[{selector:"ais-clear-refinements",template:"\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <button\n        [class]=\"cx('button') + (!state.hasRefinements ? (' ' + cx('button', 'disabled')) : '')\"\n        (click)=\"handleClick($event)\"\n        [disabled]=\"!state.hasRefinements\"\n      >\n        {{resetLabel}}\n      </button>\n    </div>\n  "}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={resetLabel:[{type:p.Input}],includedAttributes:[{type:p.Input}],excludedAttributes:[{type:p.Input}],transformItems:[{type:p.Input}]},t}(v),w=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[M],entryComponents:[M],exports:[M],imports:[r.CommonModule]}]}],t}(),S=function(n){function t(t){var e=n.call(this,"CurrentRefinements")||this;return e.instantSearchParent=t,e.state={createURL:y,refine:y,items:[]},e}return d(t,n),Object.defineProperty(t.prototype,"isHidden",{get:function(){return 0===this.state.items.length&&this.autoHideContainer},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectCurrentRefinements,{includedAttributes:this.includedAttributes,excludedAttributes:this.excludedAttributes,transformItems:this.transformItems}),n.prototype.ngOnInit.call(this)},t.prototype.handleClick=function(t,e){t.preventDefault(),this.state.refine(e)},t.decorators=[{type:p.Component,args:[{selector:"ais-current-refinements",template:'\n    <div\n      [class]="cx()"\n      *ngIf="!isHidden"\n    >\n      <ul\n        [class]="cx(\'list\')"\n        *ngFor="let item of state.items"\n      >\n        <li [class]="cx(\'item\')">\n          <span [class]="cx(\'label\')">{{item.label | titlecase}}:</span>\n\n          <span\n            [class]="cx(\'category\')"\n            *ngFor="let refinement of item.refinements"\n          >\n            <span [class]="cx(\'categoryLabel\')">{{refinement.label}}</span>\n            <button [class]="cx(\'delete\')" (click)="handleClick($event, refinement)">✕</button>\n          </span>\n        </li>\n      </ul>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={includedAttributes:[{type:p.Input}],excludedAttributes:[{type:p.Input}],transformItems:[{type:p.Input}]},t}(v),R=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[S],entryComponents:[S],exports:[S],imports:[r.CommonModule]}]}],t}(),L=function(n){function t(t){var e=n.call(this,"HierarchicalMenu")||this;return e.instantSearchParent=t,e.state={createURL:function(){return"#"},items:[],refine:y},e}return d(t,n),Object.defineProperty(t.prototype,"isHidden",{get:function(){return 0===this.state.items.length&&this.autoHideContainer},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectHierarchicalMenu,{limit:g(this.limit),attributes:this.attributes,rootPath:this.rootPath,separator:this.separator,showParentLevel:this.showParentLevel,sortBy:this.sortBy,transformItems:this.transformItems}),n.prototype.ngOnInit.call(this)},t.decorators=[{type:p.Component,args:[{selector:"ais-hierarchical-menu",template:'\n    <div\n      [class]="cx()"\n      *ngIf="!isHidden"\n    >\n      <ul [class]="cx(\'list\') + \' \' + cx(\'list\', \'lvl0\')">\n        <ais-hierarchical-menu-item\n          *ngFor="let item of state.items"\n          [item]="item"\n          [createURL]="state.createURL"\n          [refine]="state.refine"\n        >\n        </ais-hierarchical-menu-item>\n      </ul>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={attributes:[{type:p.Input}],separator:[{type:p.Input}],rootPath:[{type:p.Input}],showParentLevel:[{type:p.Input}],limit:[{type:p.Input}],sortBy:[{type:p.Input}],transformItems:[{type:p.Input}]},t}(v),O=function(){function t(){this.lvl=1,this.cx=m("HierarchicalMenu")}return t.prototype.getItemClass=function(t){var e=this.cx("item");return t.isRefined&&(e=e+" "+this.cx("item","selected")),this.isArray(t.data)&&0<t.data.length&&(e=e+" "+this.cx("item","parent")),e},t.prototype.getListClass=function(){return this.cx("list")+" "+this.cx("list","child")+" "+this.cx("list","lvl"+this.lvl)},t.prototype.isArray=function(t){return Array.isArray(t)},t.prototype.handleClick=function(t,e){t.preventDefault(),t.stopPropagation(),this.refine(e.value)},t.decorators=[{type:p.Component,args:[{selector:"ais-hierarchical-menu-item",template:'\n    <li\n      [class]="getItemClass(item)"\n      (click)="handleClick($event, item)"\n    >\n      <a\n        [class]="cx(\'link\')"\n        href="{{createURL(item.value)}}"\n        (click)="handleClick($event, item)"\n      >\n        <span [class]="cx(\'label\')">{{item.label}}</span>\n        <span [class]="cx(\'count\')">{{item.count}}</span>\n      </a>\n\n      <ul\n        [class]="getListClass()"\n        *ngIf="item.isRefined && isArray(item.data) && item.data.length > 0"\n      >\n        <ais-hierarchical-menu-item\n          *ngFor="let child of item.data"\n          [item]="child"\n          [createURL]="createURL"\n          [refine]="refine"\n          [lvl]="lvl + 1"\n        >\n        </ais-hierarchical-menu-item>\n      </ul>\n    </li>\n  '}]}],t.propDecorators={lvl:[{type:p.Input}],refine:[{type:p.Input}],createURL:[{type:p.Input}],item:[{type:p.Input}]},t}(),N=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[L,O],entryComponents:[L],exports:[L],imports:[r.CommonModule]}]}],t}(),k=function(n){function t(t){var e=n.call(this,"HitsPerPage")||this;return e.instantSearchParent=t,e.state={items:[],refine:y},e}return d(t,n),Object.defineProperty(t.prototype,"isHidden",{get:function(){return 0===this.state.items.length&&this.autoHideContainer},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectHitsPerPage,{items:this.items,transformItems:this.transformItems}),n.prototype.ngOnInit.call(this)},t.decorators=[{type:p.Component,args:[{selector:"ais-hits-per-page",template:'\n    <div\n      [class]="cx()"\n      *ngIf="!isHidden"\n    >\n      <select\n        [class]="cx(\'select\')"\n        (change)="state.refine($event.target.value)"\n      >\n        <option\n          [class]="cx(\'option\')"\n          *ngFor="let item of state.items"\n          [value]="item.value"\n          [selected]="item.isRefined"\n        >\n          {{item.label}}\n        </option>\n      </select>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={items:[{type:p.Input}],transformItems:[{type:p.Input}]},t}(v),A=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[k],entryComponents:[k],exports:[k],imports:[r.CommonModule]}]}],t}(),j=require("lodash/get"),H=function(){function t(){this.tagName="em",this.cx=m("Highlight")}return Object.defineProperty(t.prototype,"content",{get:function(){if("highlighted"===this.attribute)return this.hit.highlighted?this.replaceWithTagName(this.hit.highlighted):this.hit.label;if(this.hit.hasOwnProperty("_highlightResult")){var t=j(this.hit._highlightResult,this.attribute);if(t!==undefined&&"string"==typeof t.value)return this.replaceWithTagName(t.value)}var e=j(this.hit,this.attribute);return e||(console.warn("Could not find attribute ["+this.attribute+"] into hit object, will display an empty string."),"")},enumerable:!0,configurable:!0}),t.prototype.replaceWithTagName=function(t){return t.replace(new RegExp("<em>","g"),"<"+this.tagName+' class="'+this.cx("highlighted")+'">').replace(new RegExp("</em>","g"),"</"+this.tagName+">")},t.decorators=[{type:p.Component,args:[{selector:"ais-highlight",template:'<span [class]="cx()" [innerHtml]="content"></span>'}]}],t.propDecorators={attribute:[{type:p.Input}],hit:[{type:p.Input}],tagName:[{type:p.Input}]},t}(),T=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[H],entryComponents:[H],exports:[H],imports:[r.CommonModule]}]}],t}(),D=function(e){function t(t){var n=e.call(this,"Hits")||this;return n.instantSearchParent=t,n.state={hits:[],results:{}},n.updateState=function(t,e){e||(n.state=t)},n}return d(t,e),t.prototype.ngOnInit=function(){this.createWidget(s.connectHitsWithInsights,{escapeHTML:this.escapeHTML,transformItems:this.transformItems}),e.prototype.ngOnInit.call(this)},t.decorators=[{type:p.Component,args:[{selector:"ais-hits",template:'\n    <div [class]="cx()">\n      <ng-container *ngTemplateOutlet="template; context: state"></ng-container>\n\n      \x3c!-- default rendering if no template specified --\x3e\n      <div *ngIf="!template">\n        <ul [class]="cx(\'list\')">\n          <li\n            [class]="cx(\'item\')"\n            *ngFor="let hit of state.hits"\n          >\n            <ais-highlight attribute="name" [hit]="hit">\n            </ais-highlight>\n          </li>\n        </ul>\n      </div>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={template:[{type:p.ContentChild,args:[p.TemplateRef]}],escapeHTML:[{type:p.Input}],transformItems:[{type:p.Input}]},t}(v),B=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[D],entryComponents:[D],exports:[D],imports:[r.CommonModule,T]}]}],t}(),W=function(e){function t(t){var n=e.call(this,"InfiniteHits")||this;return n.instantSearchParent=t,n.showPrevious=!1,n.showPreviousLabel="Show previous results",n.showMoreLabel="Show more results",n.state={hits:[],isFirstPage:!1,isLastPage:!1,showMore:y,showPrevious:y,results:{}},n.updateState=function(t,e){e||(n.state=t)},n}return d(t,e),t.prototype.ngOnInit=function(){this.createWidget(s.connectInfiniteHitsWithInsights,{escapeHTML:this.escapeHTML,transformItems:this.transformItems}),e.prototype.ngOnInit.call(this)},t.prototype.showMoreHandler=function(t){t.preventDefault(),this.state.showMore()},t.prototype.showPreviousHandler=function(t){t.preventDefault(),this.state.showPrevious()},t.decorators=[{type:p.Component,args:[{selector:"ais-infinite-hits",template:'\n    <div [class]="cx()">\n      <ng-container *ngTemplateOutlet="template; context: state"></ng-container>\n\n      \x3c!-- default rendering if no template specified --\x3e\n      <button\n        [ngClass]="[cx(\'loadPrevious\'), this.state.isFirstPage ? cx(\'loadPrevious\', \'disabled\') : \'\']"\n        (click)="showPreviousHandler($event)"\n        [disabled]="state.isFirstPage"\n        *ngIf="showPrevious && !template"\n      >\n        {{showPreviousLabel}}\n      </button>\n\n      <div *ngIf="!template">\n        <ul [class]="cx(\'list\')">\n          <li\n            [class]="cx(\'item\')"\n            *ngFor="let hit of state.hits"\n          >\n            <ais-highlight attribute="name" [hit]="hit">\n            </ais-highlight>\n          </li>\n        </ul>\n      </div>\n\n      <button\n        [ngClass]="[cx(\'loadMore\'), this.state.isLastPage ? cx(\'loadMore\', \'disabled\') : \'\']"\n        (click)="showMoreHandler($event)"\n        [disabled]="state.isLastPage"\n        *ngIf="!template"\n      >\n        {{showMoreLabel}}\n      </button>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={template:[{type:p.ContentChild,args:[p.TemplateRef]}],escapeHTML:[{type:p.Input}],showPrevious:[{type:p.Input}],showPreviousLabel:[{type:p.Input}],showMoreLabel:[{type:p.Input}],transformItems:[{type:p.Input}]},t}(v),F=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[W],entryComponents:[W],exports:[W],imports:[r.CommonModule,T]}]}],t}(),$=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:p.NgModule,args:[{declarations:[x],entryComponents:[x],exports:[x],imports:[r.CommonModule]}]}],t}(),U=function(n){function t(t){var e=n.call(this,"Menu")||this;return e.instantSearchParent=t,e.showMoreLabel="Show more",e.showLessLabel="Show less",e.state={items:[],refine:y,createURL:y,isShowingMore:!1,canToggleShowMore:!1,toggleShowMore:y},e}return d(t,n),Object.defineProperty(t.prototype,"isHidden",{get:function(){return 0===this.state.items.length&&this.autoHideContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMoreClass",{get:function(){var t=this.cx("showMore");return this.state.canToggleShowMore||(t=t+" "+this.cx("showMore","disabled")),t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectMenu,{attribute:this.attribute,showMore:this.showMore,limit:this.limit,showMoreLimit:this.showMoreLimit,sortBy:this.sortBy,transformItems:this.transformItems}),n.prototype.ngOnInit.call(this)},t.prototype.handleClick=function(t,e){t.preventDefault(),t.stopPropagation(),this.state.refine(e)},t.decorators=[{type:p.Component,args:[{selector:"ais-menu",template:'\n    <div\n      [class]="cx()"\n      *ngIf="!isHidden"\n    >\n      <ul [class]="cx(\'list\')">\n        <li\n          [class]="getItemClass(item)"\n          *ngFor="let item of state.items"\n          (click)="handleClick($event, item.value)"\n        >\n          <a\n            href="{{state.createURL(item.value)}}"\n            [class]="cx(\'link\')"\n            (click)="handleClick($event, item.value)"\n          >\n            <span [class]="cx(\'label\')">{{item.label}}</span>\n            <span [class]="cx(\'count\')">{{item.count}}</span>\n          </a>\n        </li>\n      </ul>\n\n      <button\n        *ngIf="showMore"\n        (click)="state.toggleShowMore()"\n        [class]="showMoreClass"\n        [disabled]="!state.canToggleShowMore"\n      >\n        {{state.isShowingMore ? showLessLabel : showMoreLabel}}\n      </button>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={showMoreLabel:[{type:p.Input}],showLessLabel:[{type:p.Input}],attribute:[{type:p.Input}],showMore:[{type:p.Input}],limit:[{type:p.Input}],showMoreLimit:[{type:p.Input}],sortBy:[{type:p.Input}],transformItems:[{type:p.Input}]},t}(v),q=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[U],entryComponents:[U],exports:[U],imports:[r.CommonModule]}]}],t}(),E=function(n){function t(t){var e=n.call(this,"NumericMenu")||this;return e.instantSearchParent=t,e.state={items:[],refine:y,createURL:y},e}return d(t,n),Object.defineProperty(t.prototype,"isHidden",{get:function(){return 0===this.state.items.length&&this.autoHideContainer},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectNumericMenu,{attribute:this.attribute,items:this.items,transformItems:this.transformItems}),n.prototype.ngOnInit.call(this)},t.prototype.refine=function(t,e){t.preventDefault(),t.stopPropagation(),this.state.refine(e.value)},t.decorators=[{type:p.Component,args:[{selector:"ais-numeric-menu",template:'\n    <div\n      [class]="cx()"\n      *ngIf="!isHidden"\n    >\n      <ul [class]="cx(\'list\')">\n        <li\n          [class]="getItemClass(item)"\n          *ngFor="let item of state.items"\n        >\n          <label [class]="cx(\'label\')">\n            <input\n              [class]="cx(\'radio\')"\n              type="radio"\n              name="NumericMenu"\n              [checked]="item.isRefined"\n              (change)="refine($event, item)"\n            />\n            <span [class]="cx(\'labelText\')">{{item.label}}</span>\n          </label>\n        </li>\n      </ul>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={attribute:[{type:p.Input}],items:[{type:p.Input}],transformItems:[{type:p.Input}]},t}(v),_=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[E],entryComponents:[E],exports:[E],imports:[r.CommonModule]}]}],t}(),V=require("lodash/range"),z=function(n){function t(t){var e=n.call(this,"Pagination")||this;return e.instantSearchParent=t,e.showFirst=!0,e.showLast=!0,e.showPrevious=!0,e.showNext=!0,e.padding=3,e.state={createURL:y,currentRefinement:0,nbHits:0,nbPages:0,refine:y},e}return d(t,n),Object.defineProperty(t.prototype,"pages",{get:function(){var t=this.state,e=t.nbPages,n=t.currentRefinement,r=Array.apply(null,{length:e}).map(Number.call,Number),s="string"==typeof this.padding?parseInt(this.padding,10):this.padding;if(s&&0<s){if(e<2*s+1)return r;var i=n-s-1,a=n+s+1;return i<0?V(0,n+s+Math.abs(i)):e<a?V(n-s-(a-e),e):V(n-s,n+s+1)}return r},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectPagination,{maxPages:g(this.totalPages)}),n.prototype.ngOnInit.call(this)},t.prototype.refine=function(t,e){t.stopPropagation(),t.preventDefault(),e<0||e===this.state.currentRefinement||e>=this.state.nbPages||this.state.refine(e)},t.decorators=[{type:p.Component,args:[{selector:"ais-pagination",template:"\n    <div [ngClass]=\"[cx(), state.nbPages <= 1 ? cx('', 'noRefinement') : '']\">\n      <ul [class]=\"cx('list')\">\n        <li\n          *ngIf=\"showFirst\"\n          (click)=\"refine($event, 0)\"\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'firstPage') +\n            (state.currentRefinement === 0 ? ' ' + cx('item', 'disabled') : '')\n          \"\n        >\n          <a\n            [href]=\"state.createURL(0)\"\n            [class]=\"cx('link')\"\n          >\n            ‹‹\n          </a>\n        </li>\n\n        <li\n          *ngIf=\"showPrevious\"\n          (click)=\"refine($event, state.currentRefinement - 1)\"\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'previousPage') +\n            (state.currentRefinement === 0 ? ' ' + cx('item', 'disabled') : '')\n          \"\n        >\n          <a\n            [href]=\"state.createURL(state.currentRefinement - 1)\"\n            [class]=\"cx('link')\"\n          >\n            ‹\n          </a>\n        </li>\n\n        <li\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'page') +\n            (state.currentRefinement === page ? ' ' + cx('item', 'selected') : '')\n          \"\n          *ngFor=\"let page of pages\"\n          (click)=\"refine($event, page)\"\n        >\n          <a\n            [class]=\"cx('link')\"\n            [href]=\"state.createURL(page)\"\n          >\n            {{page + 1}}\n          </a>\n        </li>\n\n        <li\n          *ngIf=\"showNext\"\n          (click)=\"refine($event, state.currentRefinement + 1)\"\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'nextPage') +\n            (state.currentRefinement + 1 === state.nbPages ? ' ' + cx('item', 'disabled') : '')\n          \"\n        >\n          <a\n            [href]=\"state.createURL(state.currentRefinement + 1)\"\n            [class]=\"cx('link')\"\n          >\n            ›\n          </a>\n        </li>\n\n        <li\n          *ngIf=\"showLast\"\n          (click)=\"refine($event, state.nbPages - 1)\"\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'lastPage') +\n            (state.currentRefinement + 1 === state.nbPages ? ' ' + cx('item', 'disabled') : '')\n          \"\n        >\n          <a\n            [href]=\"state.createURL(state.nbPages - 1)\"\n            [class]=\"cx('link')\"\n          >\n            ››\n          </a>\n        </li>\n      </ul>\n    </div>\n  "}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={showFirst:[{type:p.Input}],showLast:[{type:p.Input}],showPrevious:[{type:p.Input}],showNext:[{type:p.Input}],padding:[{type:p.Input}],totalPages:[{type:p.Input}]},t}(v),Q=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[z],entryComponents:[z],exports:[z],imports:[r.CommonModule]}]}],t}(),Y=function(e){function t(t){var l=e.call(this,"RangeSlider")||this;return l.instantSearchParent=t,l.pips=!0,l.tooltips=!0,l.state={range:{min:0,max:1},refine:y,start:[0,1]},l.updateState=function(t,e){if(e){var n={animate:!1,behaviour:"snap",connect:!0,range:{min:0,max:1},start:[0,1],step:l.step,tooltips:l.tooltips&&[{to:l.formatTooltip},{to:l.formatTooltip}]};!0===l.pips||"undefined"==typeof l.pips?Object.assign(n,{pips:{density:3,mode:"positions",stepped:!0,values:[0,50,100]}}):l.pips!==undefined&&Object.assign(n,{pips:l.pips}),l.slider=u.create(l.sliderContainer.nativeElement,n),l.sliderContainer.nativeElement.noUiSlider.on("change",l.handleChange)}var r=(l.state=t).range,s=r.min,i=r.max,a=t.start,o=s===i,c=o?{min:s,max:i+1e-4}:{min:s,max:i};l.slider.updateOptions({disabled:o,range:c,start:a})},l.handleChange=function(t){l.state.refine(t)},l.formatTooltip=function(t){return t.toFixed(g(l.precision))},l}return d(t,e),Object.defineProperty(t.prototype,"step",{get:function(){var t=g(this.precision)||2;return 1/Math.pow(10,t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectRange,{attribute:this.attribute,max:g(this.max),min:g(this.min),precision:g(this.precision)}),e.prototype.ngOnInit.call(this)},t.decorators=[{type:p.Component,args:[{selector:"ais-range-slider",template:'\n    <div [class]="cx()">\n      <div [class]="cx(\'body\')">\n        <div #sliderContainer></div>\n      </div>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={sliderContainer:[{type:p.ViewChild,args:["sliderContainer"]}],pips:[{type:p.Input}],tooltips:[{type:p.Input}],attribute:[{type:p.Input}],min:[{type:p.Input}],max:[{type:p.Input}],precision:[{type:p.Input}]},t}(v),K=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[Y],entryComponents:[Y],exports:[Y],imports:[r.CommonModule]}]}],t}(),J=function(n){function t(t){var e=n.call(this,"RefinementList")||this;return e.instantSearchParent=t,e.showMoreLabel="Show more",e.showLessLabel="Show less",e.searchPlaceholder="Search here...",e.state={canRefine:!1,canToggleShowMore:!1,createURL:y,isShowingMore:!1,items:[],refine:y,toggleShowMore:y,searchForItems:y,isFormSearch:!1},e}return d(t,n),Object.defineProperty(t.prototype,"isHidden",{get:function(){return 0===this.state.items.length&&this.autoHideContainer},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectRefinementList,{showMore:this.showMore,limit:g(this.limit),showMoreLimit:g(this.showMoreLimit),attribute:this.attribute,operator:this.operator,sortBy:this.sortBy,escapeFacetValues:!0,transformItems:this.transformItems}),n.prototype.ngOnInit.call(this)},t.prototype.refine=function(t,e){t.preventDefault(),t.stopPropagation(),this.state.canRefine&&(e.isRefined=!e.isRefined,this.state.refine(e.value))},t.decorators=[{type:p.Component,args:[{selector:"ais-refinement-list",template:'\n    <div\n      [class]="cx()"\n      *ngIf="!isHidden"\n    >\n      <div\n        *ngIf="searchable"\n        [class]="cx(\'searchBox\')"\n      >\n        <ais-facets-search\n          [search]="state.searchForItems"\n          [searchPlaceholder]="searchPlaceholder"\n        >\n        </ais-facets-search>\n      </div>\n\n      <ul [class]="cx(\'list\')">\n        <li\n          [class]="getItemClass(item)"\n          *ngFor="let item of state.items"\n          (click)="refine($event, item)"\n        >\n          <label [class]="cx(\'label\')">\n            <input\n              [class]="cx(\'checkbox\')"\n              type="checkbox"\n              value="{{item.value}}"\n              [checked]="item.isRefined"\n            />\n            <span [class]="cx(\'labelText\')">\n              <ais-highlight attribute="highlighted" [hit]="item"></ais-highlight>\n            </span>\n            <span [class]="cx(\'count\')">{{item.count}}</span>\n          </label>\n        </li>\n      </ul>\n\n      <button\n        [class]="cx(\'showMore\')"\n        *ngIf="showMore"\n        (click)="state.toggleShowMore()"\n        [disabled]="!state.canToggleShowMore"\n      >\n        {{state.isShowingMore ? showLessLabel : showMoreLabel}}\n      </button>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={showMoreLabel:[{type:p.Input}],showLessLabel:[{type:p.Input}],searchable:[{type:p.Input}],searchPlaceholder:[{type:p.Input}],attribute:[{type:p.Input}],operator:[{type:p.Input}],limit:[{type:p.Input}],showMore:[{type:p.Input}],showMoreLimit:[{type:p.Input}],sortBy:[{type:p.Input}],transformItems:[{type:p.Input}]},t}(v),G=function(){function t(){this.cx=m("SearchBox"),this.searchQuery=""}return t.prototype.handleChange=function(t){this.searchQuery=t,this.search(t)},t.prototype.handleSubmit=function(t){t.preventDefault(),this.search(this.searchQuery)},t.decorators=[{type:p.Component,args:[{selector:"ais-facets-search",template:'\n    <div [class]="cx()">\n      <form\n        [class]="cx(\'form\')"\n        (submit)="handleSubmit($event)"\n        novalidate\n      >\n        <input\n          [class]="cx(\'input\')"\n          autocapitalize="off"\n          autocorrect="off"\n          placeholder="{{searchPlaceholder}}"\n          role="textbox"\n          spellcheck="false"\n          type="text"\n          [value]="searchQuery"\n          (input)="handleChange($event.target.value)"\n        />\n\n        <button\n          [class]="cx(\'submit\')"\n          title="Submit the search query."\n          type="submit"\n        >\n          <svg\n            [ngClass]="cx(\'submitIcon\')"\n            viewBox="0 0 40 40"\n            width="10"\n            height="10"\n          >\n            <path d="M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"></path>\n          </svg>\n        </button>\n\n        <button\n          [class]="cx(\'reset\')"\n          type="reset"\n          title="Clear the search query."\n          hidden\n        >\n          <svg\n            [ngClass]="cx(\'resetIcon\')"\n            viewBox="0 0 20 20"\n            width="10"\n            height="10"\n          >\n            <path d="M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"></path>\n          </svg>\n        </button>\n      </form>\n    </div>\n  '}]}],t.propDecorators={searchPlaceholder:[{type:p.Input}],search:[{type:p.Input}]},t}(),Z=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[J,G],entryComponents:[J],exports:[J],imports:[r.CommonModule,T]}]}],t}(),X=function(n){function t(t){var e=n.call(this,"SearchBox")||this;return e.instantSearchParent=t,e.placeholder="Search",e.submitTitle="Submit",e.resetTitle="Reset",e.searchAsYouType=!0,e.autofocus=!1,e.submit=new p.EventEmitter,e.reset=new p.EventEmitter,e.change=new p.EventEmitter,e.focus=new p.EventEmitter,e.blur=new p.EventEmitter,e.state={query:"",refine:y},e.createWidget(s.connectSearchBox),e}return d(t,n),t.prototype.ngAfterViewInit=function(){this.autofocus&&this.searchBox.nativeElement.focus()},t.prototype.handleChange=function(t){this.change.emit(t),this.searchAsYouType&&this.state.refine(t)},t.prototype.handleSubmit=function(t){this.submit.emit(t),t.preventDefault(),this.searchAsYouType||this.state.refine(this.searchBox.nativeElement.value)},t.prototype.handleReset=function(t){this.reset.emit(t),this.state.refine("")},t.decorators=[{type:p.Component,args:[{selector:"ais-search-box",template:'\n    <div [class]="cx()">\n      <form\n        [class]="cx(\'form\')"\n        novalidate\n        (submit)="handleSubmit($event)"\n      >\n        <input\n          [class]="cx(\'input\')"\n          autocapitalize="off"\n          autocorrect="off"\n          placeholder="{{placeholder}}"\n          role="textbox"\n          spellcheck="false"\n          type="text"\n          [value]="state.query"\n          (input)="handleChange($event.target.value)"\n          (focus)="focus.emit($event)"\n          (blur)="blur.emit($event)"\n          #searchBox\n        />\n\n        <button\n          [class]="cx(\'submit\')"\n          type="submit"\n          title="{{submitTitle}}"\n        >\n          <svg\n            [ngClass]="cx(\'submitIcon\')"\n            viewBox="0 0 40 40"\n            width="40"\n            height="40"\n          >\n            <path d="M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"></path>\n          </svg>\n        </button>\n\n        <button\n          [class]="cx(\'reset\')"\n          type="reset"\n          title="{{resetTitle}}"\n          (click)="handleReset($event)"\n          [hidden]="!state.query || (state.query && !state.query.trim())">\n          <svg\n            [ngClass]="cx(\'resetIcon\')"\n            viewBox="0 0 20 20"\n            width="20"\n            height="20"\n          >\n            <path d="M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"></path>\n          </svg>\n        </button>\n      </form>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={searchBox:[{type:p.ViewChild,args:["searchBox"]}],placeholder:[{type:p.Input}],submitTitle:[{type:p.Input}],resetTitle:[{type:p.Input}],searchAsYouType:[{type:p.Input}],autofocus:[{type:p.Input}],submit:[{type:p.Output}],reset:[{type:p.Output}],change:[{type:p.Output}],focus:[{type:p.Output}],blur:[{type:p.Output}]},t}(v),tt=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[X],entryComponents:[X],exports:[X],imports:[r.CommonModule]}]}],t}(),et=function(n){function t(t){var e=n.call(this,"SortBy")||this;return e.instantSearchParent=t,e.state={currentRefinement:null,options:[],refine:y},e}return d(t,n),t.prototype.ngOnInit=function(){this.createWidget(s.connectSortBy,{items:this.items,transformItems:this.transformItems}),n.prototype.ngOnInit.call(this)},t.decorators=[{type:p.Component,args:[{selector:"ais-sort-by",template:'\n    <div [class]="cx()">\n      <select\n        [class]="cx(\'select\')"\n        (change)="state.refine($event.target.value)"\n      >\n        <option\n          [class]="cx(\'option\')"\n          *ngFor="let item of state.options"\n          [value]="item.value"\n          [selected]="item.value === state.currentRefinement"\n        >\n          {{item.label}}\n        </option>\n      </select>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={items:[{type:p.Input}],transformItems:[{type:p.Input}]},t}(v),nt=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[et],entryComponents:[et],exports:[et],imports:[r.CommonModule]}]}],t}(),rt=function(n){function t(t){var e=n.call(this,"RatingMenu")||this;return e.instantSearchParent=t,e.andUpLabel="& Up",e.state={createURL:y,hasNoResults:!1,items:[],refine:y},e}return d(t,n),Object.defineProperty(t.prototype,"isHidden",{get:function(){return 0===this.state.items.length&&this.autoHideContainer},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectRatingMenu,{attribute:this.attribute,max:g(this.max)}),n.prototype.ngOnInit.call(this)},t.prototype.handleClick=function(t,e){t.preventDefault(),t.stopPropagation(),this.state.refine(e)},t.decorators=[{type:p.Component,args:[{selector:"ais-rating-menu",template:'\n    <div\n      [ngClass]="[\n        cx(),\n        state.items.length === 0 ? cx(\'\', \'noRefinement\') : \'\'\n      ]"\n      *ngIf="!isHidden"\n    >\n      <svg style="display:none;">\n        <symbol\n          id="ais-StarRating-starSymbol"\n          viewBox="0 0 24 24"\n        >\n          <path d="M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z"/>\n        </symbol>\n        <symbol\n          id="ais-StarRating-starEmptySymbol"\n          viewBox="0 0 24 24"\n        >\n          <path d="M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z"/>\n        </symbol>\n      </svg>\n\n      <ul [class]="cx(\'list\')">\n        <li\n          *ngFor="let item of state.items"\n          [class]="getItemClass(item)"\n          (click)="handleClick($event, item.value)"\n        >\n          <a\n            href="{{state.createURL(item.value)}}"\n            [class]="cx(\'link\')"\n            (click)="handleClick($event, item.value)"\n          >\n            <svg\n              width="24"\n              height="24"\n              *ngFor="let star of item.stars"\n              [ngClass]="cx(\'starIcon\') + \' \' + (star ? cx(\'starIcon\', \'full\') : cx(\'starIcon\', \'empty\'))"\n              aria-hidden="true"\n            >\n              <use\n                *ngIf="star"\n                xlink:href="#ais-StarRating-starSymbol"\n              >\n              </use>\n\n              <use\n                *ngIf="!star"\n                xlink:href="#ais-StarRating-starEmptySymbol"\n              >\n              </use>\n            </svg>\n\n            <span [class]="cx(\'label\')" aria-hidden="true">{{andUpLabel}}</span>\n            <span [class]="cx(\'count\')">{{item.count}}</span>\n          </a>\n        </li>\n      </ul>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={andUpLabel:[{type:p.Input}],attribute:[{type:p.Input}],max:[{type:p.Input}]},t}(v),st=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[rt],entryComponents:[rt],exports:[rt],imports:[r.CommonModule]}]}],t}(),it=function(n){function t(t){var e=n.call(this,"Stats")||this;return e.instantSearchParent=t,e.state={hitPerPage:0,nbHits:0,nbPages:0,page:0,processingTimeMS:0,query:""},e.createWidget(s.connectStats),e}return d(t,n),Object.defineProperty(t.prototype,"templateContext",{get:function(){return{state:this.state}},enumerable:!0,configurable:!0}),t.decorators=[{type:p.Component,args:[{selector:"ais-stats",template:'\n    <div [class]="cx()">\n      <ng-container *ngTemplateOutlet="template; context: templateContext">\n      </ng-container>\n\n      <span *ngIf="!template" [class]="cx(\'text\')">\n        {{state.nbHits}} results found in {{state.processingTimeMS}}ms.\n      </span>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={template:[{type:p.ContentChild,args:[p.TemplateRef]}]},t}(v),at=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[it],entryComponents:[it],exports:[it],imports:[r.CommonModule]}]}],t}(),ot=function(n){function t(t){var e=n.call(this,"ToggleRefinement")||this;return e.instantSearchParent=t,e.state={createURL:y,refine:y,value:{}},e}return d(t,n),t.prototype.ngOnInit=function(){this.createWidget(s.connectToggleRefinement,{attribute:this.attribute,on:this.on,off:this.off}),n.prototype.ngOnInit.call(this)},t.prototype.handleChange=function(t){t.preventDefault(),t.stopPropagation(),this.state.refine(this.state.value)},t.decorators=[{type:p.Component,args:[{selector:"ais-toggle",template:'\n    <div [class]="cx()">\n      <label [class]="cx(\'label\')">\n        <input\n          [class]="cx(\'checkbox\')"\n          type="checkbox"\n          value="{{state.value.name}}"\n          [checked]="state.value.isRefined"\n          (change)="handleChange($event)"\n        />\n\n        <span [class]="cx(\'labelText\')">\n          {{label || state.value.name}}\n        </span>\n\n        <span [class]="cx(\'count\')">{{state.value.count}}</span>\n      </label>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={label:[{type:p.Input}],attribute:[{type:p.Input}],on:[{type:p.Input}],off:[{type:p.Input}]},t}(v),ct=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[ot],entryComponents:[ot],exports:[ot],imports:[r.CommonModule]}]}],t}(),lt=function(n){function t(t){var e=n.call(this,"RangeInput")||this;return e.instantSearchParent=t,e.currency="$",e.separator="to",e.submitLabel="Go",e.precision=0,e.minInputValue="",e.maxInputValue="",e.state={range:{min:undefined,max:undefined},refine:y,start:[0,0]},e}return d(t,n),Object.defineProperty(t.prototype,"step",{get:function(){var t=g(this.precision);return 1/Math.pow(10,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRefine",{get:function(){return this.state.range.min!==this.state.range.max},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectRange,{attribute:this.attribute,max:g(this.max),min:g(this.min),precision:g(this.precision)}),n.prototype.ngOnInit.call(this)},t.prototype.handleChange=function(t,e){var n=g(t.target.value);"min"===e?this.minInputValue=n:this.maxInputValue=n},t.prototype.handleSubmit=function(t){t.preventDefault(),this.state.refine([this.minInputValue,this.maxInputValue])},t.decorators=[{type:p.Component,args:[{selector:"ais-range-input",template:'\n    <div [ngClass]="[\n        cx(), \n        !canRefine ? cx(\'\', \'noRefinement\') : \'\'\n      ]">\n      <form\n        [class]="cx(\'form\')"\n        (submit)="handleSubmit($event)"\n        novalidate\n      >\n        <label [class]="cx(\'label\')">\n          <span [class]="cx(\'currency\')">{{currency}}</span>\n          <input\n            [ngClass]="[\n              cx(\'input\'),\n              cx(\'input\', \'min\')\n            ]"\n            type="number"\n            [min]="state.range.min"\n            [max]="state.range.max"\n            [placeholder]="state.range.min"\n            [value]="minInputValue"\n            [step]="step"\n            (change)="handleChange($event, \'min\')"\n          />\n        </label>\n\n        <span [class]="cx(\'separator\')">{{separator}}</span>\n\n        <label [class]="cx(\'label\')">\n          <span [class]="cx(\'currency\')">{{currency}}</span>\n          <input\n            [ngClass]="[\n              cx(\'input\'),\n              cx(\'input\', \'max\')\n            ]"\n            type="number"\n            [min]="state.range.min"\n            [max]="state.range.max"\n            [placeholder]="state.range.max"\n            [value]="maxInputValue"\n            [step]="step"\n            (change)="handleChange($event, \'max\')"\n          />\n        </label>\n\n        <button\n          [class]="cx(\'submit\')"\n          (click)="handleSubmit($event)"\n        >\n          {{submitLabel}}\n        </button>\n      </form>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={currency:[{type:p.Input}],separator:[{type:p.Input}],submitLabel:[{type:p.Input}],attribute:[{type:p.Input}],min:[{type:p.Input}],max:[{type:p.Input}],precision:[{type:p.Input}]},t}(v),ut=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[lt],entryComponents:[lt],exports:[lt],imports:[r.CommonModule]}]}],t}(),pt=function(){function t(){}return t.decorators=[{type:p.Component,args:[{selector:"ais-panel",template:'\n    <div class="ais-Panel">\n      <div *ngIf="header" class="ais-Panel-header">\n        {{header}}\n      </div>\n\n      <div class="ais-Panel-body">\n        <ng-content></ng-content>\n      </div>\n\n      <div *ngIf="footer" class="ais-Panel-footer">\n        {{footer}}\n      </div>\n    </div>\n  '}]}],t.propDecorators={header:[{type:p.Input}],footer:[{type:p.Input}]},t}(),ht=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[pt],entryComponents:[pt],exports:[pt],imports:[r.CommonModule]}]}],t}(),dt=function(r){function t(t,e){var n=r.call(this,"Configure")||this;return n.differs=t,n.instantSearchParent=e,n.state={refine:y},n}return d(t,r),Object.defineProperty(t.prototype,"searchParameters",{set:function(t){this.internalSearchParameters=t,!this.differ&&t&&(this.differ=this.differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectConfigure,{searchParameters:this.internalSearchParameters}),r.prototype.ngOnInit.call(this)},t.prototype.ngDoCheck=function(){this.differ&&(this.differ.diff(this.internalSearchParameters)&&this.state.refine(this.internalSearchParameters))},t.decorators=[{type:p.Component,args:[{selector:"ais-configure",template:""}]}],t.ctorParameters=function(){return[{type:p.KeyValueDiffers},{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={searchParameters:[{type:p.Input}]},t}(v),ft=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[dt],entryComponents:[dt],exports:[dt],imports:[r.CommonModule]}]}],t}(),mt=function(n){function t(t){var e=n.call(this,"QueryRuleCustomData")||this;return e.instantSearchParent=t,e.state={items:[]},e}return d(t,n),Object.defineProperty(t.prototype,"templateContext",{get:function(){return{items:this.state.items}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.createWidget(s.connectQueryRules,{transformItems:this.transformItems}),n.prototype.ngOnInit.call(this)},t.decorators=[{type:p.Component,args:[{selector:"ais-query-rule-custom-data",template:'\n    <div [class]="cx()">\n      <ng-container *ngTemplateOutlet="template; context: templateContext">\n      </ng-container>\n\n      <div *ngIf="!template">\n        <div *ngFor="let item of state.items">\n          <pre>{{ item | json }}</pre>\n        </div>\n      </div>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={template:[{type:p.ContentChild,args:[p.TemplateRef]}],transformItems:[{type:p.Input}]},t}(v),gt=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[mt],entryComponents:[mt],exports:[mt],imports:[r.CommonModule]}]}],t}(),yt=function(n){function t(t){var e=n.call(this,"QueryRuleContext")||this;return e.instantSearchParent=t,e}return d(t,n),t.prototype.ngOnInit=function(){this.createWidget(s.connectQueryRules,{trackedFilters:this.trackedFilters,transformRuleContexts:this.transformRuleContexts}),n.prototype.ngOnInit.call(this)},t.decorators=[{type:p.Component,args:[{selector:"ais-query-rule-context",template:""}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]}]},t.propDecorators={trackedFilters:[{type:p.Input}],transformRuleContexts:[{type:p.Input}]},t}(v),bt=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[yt],entryComponents:[yt],exports:[yt],imports:[r.CommonModule]}]}],t}(),vt=function(r){function t(t,e){var n=r.call(this,"VoiceSearch")||this;return n.instantSearchParent=t,n.zone=e,n.buttonTitle="Search by voice",n.disabledButtonTitle="Search by voice (not supported on this browser)",n.state={isBrowserSupported:undefined,isListening:undefined,toggleListening:y,voiceListeningState:{status:"initial",transcript:"",isSpeechFinal:!1,errorCode:undefined},templateContext:{status:"initial",errorCode:undefined,transcript:"",isSpeechFinal:!1,isListening:!1,isBrowserSupported:!1}},n.handleClick=function(t){t.currentTarget.blur(),n.state.toggleListening()},n.isNotAllowedError=function(){return"error"===n.state.voiceListeningState.status&&"not-allowed"===n.state.voiceListeningState.errorCode},n.updateState=function(t){n.zone.run(function(){n.state=f({},t,{templateContext:{status:t.voiceListeningState.status,errorCode:t.voiceListeningState.errorCode,transcript:t.voiceListeningState.transcript,isSpeechFinal:t.voiceListeningState.isSpeechFinal,isListening:t.isListening,isBrowserSupported:t.isBrowserSupported}})})},n}return d(t,r),t.prototype.ngOnInit=function(){this.createWidget(s.connectVoiceSearch,{searchAsYouSpeak:this.searchAsYouSpeak}),r.prototype.ngOnInit.call(this)},t.decorators=[{type:p.Component,args:[{selector:"ais-voice-search",template:'\n    <div [class]="cx()">\n      <button\n        type="button"\n        [class]="cx(\'button\')"\n        [title]="state.isBrowserSupported ? buttonTitle : disabledButtonTitle"\n        [disabled]="!state.isBrowserSupported"\n        (click)="handleClick($event)"\n      >\n        <ng-container *ngTemplateOutlet="button ? button : defaultButton; context: state.templateContext"></ng-container>\n      </button>\n      <div [class]="cx(\'status\')">\n        <ng-container *ngTemplateOutlet="status ? status : defaultStatus; context: state.templateContext"></ng-container>\n      </div>\n    </div>\n\n    <ng-template #defaultButton let-status="status" let-errorCode="errorCode" let-isListening="isListening">\n      <svg\n        xmlns=\'http://www.w3.org/2000/svg\'\n        width=\'16\'\n        height=\'16\'\n        viewBox=\'0 0 24 24\'\n        fill=\'none\'\n        stroke=\'currentColor\'\n        strokeWidth=\'2\'\n        strokeLinecap=\'round\'\n        strokeLinejoin=\'round\'\n      >\n        <ng-container *ngIf="isNotAllowedError(); then errorSvgContent else normalSvgContent">\n        </ng-container>\n        <ng-template #errorSvgContent>\n          <line x1="1" y1="1" x2="23" y2="23"></line>\n          <path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path>\n          <path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path>\n          <line x1="12" y1="19" x2="12" y2="23"></line>\n          <line x1="8" y1="23" x2="16" y2="23"></line>\n        </ng-template>\n        <ng-template #normalSvgContent>\n          <path\n            d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"\n            [attr.fill]="isListening ? \'currentColor\' : \'none\'"\n          ></path>\n          <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>\n          <line x1="12" y1="19" x2="12" y2="23"></line>\n          <line x1="8" y1="23" x2="16" y2="23"></line>\n        </ng-template>\n      </svg>\n    </ng-template>\n    <ng-template #defaultStatus let-transcript="transcript">\n      <p>{{transcript}}</p>\n    </ng-template>\n  '}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:p.Inject,args:[p.forwardRef(function(){return x})]}]},{type:p.NgZone}]},t.propDecorators={button:[{type:p.ContentChild,args:["button"]}],status:[{type:p.ContentChild,args:["status"]}],searchAsYouSpeak:[{type:p.Input}],buttonTitle:[{type:p.Input}],disabledButtonTitle:[{type:p.Input}]},t}(v),It=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{declarations:[vt],entryComponents:[vt],exports:[vt],imports:[r.CommonModule]}]}],t}(),xt=c||i,Ct=l||a;var Pt=[$,B,tt,w,q,Q,Z,A,nt,_,at,ct,F,R,N,st,K,P,T,ut,ht,ft,gt,bt,It],Mt=function(){function t(){}return t.decorators=[{type:p.NgModule,args:[{exports:Pt,imports:[$.forRoot()]}]}],t}(),wt=function(){function t(){}return t.forRoot=function(){return{ngModule:Mt}},t.decorators=[{type:p.NgModule,args:[{imports:Pt,exports:Pt}]}],t}();t.NgAisBreadcrumbModule=P,t.NgAisClearRefinementsModule=w,t.NgAisCurrentRefinementsModule=R,t.NgAisHierarchicalMenuModule=N,t.NgAisHitsPerPageModule=A,t.NgAisHitsModule=B,t.NgAisInfiniteHitsModule=F,t.NgAisInstantSearchModule=$,t.NgAisMenuModule=q,t.NgAisNumericMenuModule=_,t.NgAisPaginationModule=Q,t.NgAisRangeSliderModule=K,t.NgAisRefinementListModule=Z,t.NgAisSearchBoxModule=tt,t.NgAisSortByModule=nt,t.NgAisRatingMenuModule=st,t.NgAisStatsModule=at,t.NgAisToggleModule=ct,t.NgAisHighlightModule=T,t.NgAisRangeInputModule=ut,t.NgAisPanelModule=ht,t.NgAisConfigureModule=ft,t.NgAisQueryRuleCustomDataModule=gt,t.NgAisQueryRuleContextModule=bt,t.NgAisVoiceSearchModule=It,t.createSSRSearchClient=function Rt(t){var e=t.appId,n=t.apiKey,o=t.httpClient,c=t.HttpHeaders,l=t.transferState,u=t.makeStateKey,r=t.options,s=xt(e,n,void 0===r?{}:r);return s.addAlgoliaAgent("angular ("+p.VERSION.full+")"),s.addAlgoliaAgent("angular-instantsearch ("+I+")"),s.addAlgoliaAgent("angular-instantsearch-server ("+I+")"),s._request=function(t,r){var s=new c;s=(s=s.set("content-type","POST"===r.method?"application/x-www-form-urlencoded":"application/json")).set("accept","application/json");var i=t+(t.includes("?")?"&":"?")+Ct(r.headers),a=u("ngais("+r.body+")");if(l.hasKey(a)){var e=JSON.parse(l.get(a,JSON.stringify({})));return Promise.resolve({statusCode:e.status,body:e.body,headers:e.headers})}return new Promise(function(e,n){o.request(r.method,i,{headers:s,body:r.body,observe:"response"}).subscribe(function(t){l.set(a,JSON.stringify(t)),e({statusCode:t.status,body:t.body,headers:t.headers})},function(t){return n({statusCode:t.status,body:t.body,headers:t.headers})})})},s},t.parseServerRequest=function Lt(t){if(t&&t.url&&t.url.includes("?")){var e=t.url.split("?")[1];return o.AlgoliaSearchHelper.getConfigurationFromQueryString(e)}return{}},t.BaseWidget=v,t.Widget=b,t.NgAisInstantSearch=x,t.NgAisRootModule=Mt,t.NgAisModule=wt,t.ɵb=C,t.ɵc=M,t.ɵw=dt,t.ɵd=S,t.ɵe=L,t.ɵf=O,t.ɵi=H,t.ɵg=k,t.ɵh=D,t.ɵj=W,t.ɵk=U,t.ɵl=E,t.ɵm=z,t.ɵa=pt,t.ɵy=yt,t.ɵx=mt,t.ɵv=lt,t.ɵn=Y,t.ɵs=rt,t.ɵp=G,t.ɵo=J,t.ɵq=X,t.ɵr=et,t.ɵt=it,t.ɵu=ot,t.ɵz=vt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular-instantsearch.umd.min.js.map