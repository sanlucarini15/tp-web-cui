{"version":3,"file":"angular-instantsearch.umd.js.map","sources":["node_modules/tslib/tslib.es6.js","ng://angular-instantsearch/utils.ts","ng://angular-instantsearch/base-widget.ts","ng://angular-instantsearch/version.ts","ng://angular-instantsearch/instantsearch/instantsearch.ts","ng://angular-instantsearch/breadcrumb/breadcrumb.ts","ng://angular-instantsearch/breadcrumb/breadcrumb.module.ts","ng://angular-instantsearch/clear-refinements/clear-refinements.ts","ng://angular-instantsearch/clear-refinements/clear-refinements.module.ts","ng://angular-instantsearch/current-refinements/current-refinements.ts","ng://angular-instantsearch/current-refinements/current-refinements.module.ts","ng://angular-instantsearch/hierarchical-menu/hierarchical-menu.ts","ng://angular-instantsearch/hierarchical-menu/hierarchical-menu-item.ts","ng://angular-instantsearch/hierarchical-menu/hierarchical-menu.module.ts","ng://angular-instantsearch/hits-per-page/hits-per-page.ts","ng://angular-instantsearch/hits-per-page/hits-per-page.module.ts","ng://angular-instantsearch/highlight/highlight.ts","ng://angular-instantsearch/highlight/highlight.module.ts","ng://angular-instantsearch/hits/hits.ts","ng://angular-instantsearch/hits/hits.module.ts","ng://angular-instantsearch/infinite-hits/infinite-hits.ts","ng://angular-instantsearch/infinite-hits/infinite-hits.module.ts","ng://angular-instantsearch/instantsearch/instantsearch.module.ts","ng://angular-instantsearch/menu/menu.ts","ng://angular-instantsearch/menu/menu.module.ts","ng://angular-instantsearch/numeric-menu/numeric-menu.ts","ng://angular-instantsearch/numeric-menu/numeric-menu.module.ts","ng://angular-instantsearch/pagination/pagination.ts","ng://angular-instantsearch/pagination/pagination.module.ts","ng://angular-instantsearch/range-slider/range-slider.ts","ng://angular-instantsearch/range-slider/range-slider.module.ts","ng://angular-instantsearch/refinement-list/refinement-list.ts","ng://angular-instantsearch/refinement-list/facets-search.ts","ng://angular-instantsearch/refinement-list/refinement-list.module.ts","ng://angular-instantsearch/search-box/search-box.ts","ng://angular-instantsearch/search-box/search-box.module.ts","ng://angular-instantsearch/sort-by/sort-by.ts","ng://angular-instantsearch/sort-by/sort-by.module.ts","ng://angular-instantsearch/rating-menu/rating-menu.ts","ng://angular-instantsearch/rating-menu/rating-menu.module.ts","ng://angular-instantsearch/stats/stats.ts","ng://angular-instantsearch/stats/stats.module.ts","ng://angular-instantsearch/toggle/toggle.ts","ng://angular-instantsearch/toggle/toggle.module.ts","ng://angular-instantsearch/range-input/range-input.ts","ng://angular-instantsearch/range-input/range-input.module.ts","ng://angular-instantsearch/panel/panel.ts","ng://angular-instantsearch/panel/panel.module.ts","ng://angular-instantsearch/configure/configure.ts","ng://angular-instantsearch/configure/configure.module.ts","ng://angular-instantsearch/query-rule-custom-data/query-rule-custom-data.ts","ng://angular-instantsearch/query-rule-custom-data/query-rule-custom-data.module.ts","ng://angular-instantsearch/query-rule-context/query-rule-context.ts","ng://angular-instantsearch/query-rule-context/query-rule-context.module.ts","ng://angular-instantsearch/voice-search/voice-search.ts","ng://angular-instantsearch/voice-search/voice-search.module.ts","ng://angular-instantsearch/create-ssr-search-client.ts","ng://angular-instantsearch/parse-server-request.ts","ng://angular-instantsearch/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export function bem(widgetName: string) {\n  const cx = function(element?: string, subElement?: string) {\n    let cssClass = `ais-${widgetName}`;\n    if (element) {\n      cssClass += `-${element}`;\n    }\n    if (subElement) {\n      cssClass += `--${subElement}`;\n    }\n    return cssClass;\n  };\n  return cx;\n}\n\nexport function parseNumberInput(input?: number | string) {\n  return typeof input === 'string' ? parseInt(input, 10) : input;\n}\n\nexport function noop(...args: any[]): void {}\n\nexport function capitalize(s) {\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n","import { Input, OnDestroy, OnInit } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { bem, noop } from './utils';\n\nexport class Widget {\n  public init: (\n    params: {\n      templatesConfig: object;\n      state: object;\n      results: object[];\n      createURL: (value: any) => string;\n      instantSearchInstance: object;\n    }\n  ) => void;\n  public getConfiguration?: () => object;\n  public render: (\n    params: {\n      templatesConfig: object;\n      state: object;\n      results: {}[];\n      createURL: (value: any) => string;\n      instantSearchInstance: object;\n    }\n  ) => void;\n  public dispose: (\n    params: {\n      helper: object;\n      state: object;\n    }\n  ) => object | void;\n}\n\nexport type Connector = (\n  renderFn: (state: object, isFirstRendering: boolean) => void,\n  unmountFn: () => void\n) => (widgetOptions?: object) => Widget;\n\nexport class BaseWidget implements OnInit, OnDestroy {\n  public instantSearchParent: any;\n\n  @Input() public autoHideContainer?: boolean;\n\n  public widget?: Widget;\n  public state?: object = {};\n  public cx: Function;\n\n  constructor(widgetName: string) {\n    this.cx = bem(widgetName);\n  }\n\n  public createWidget(connector: Connector, options: object = {}) {\n    this.widget = connector(this.updateState, noop)(options);\n  }\n\n  public ngOnInit() {\n    // add widget to the InstantSearch Instance\n    this.instantSearchParent.addWidget(this.widget);\n  }\n\n  public ngOnDestroy() {\n    if (isPlatformBrowser(this.instantSearchParent.platformId)) {\n      this.instantSearchParent.removeWidget(this.widget);\n    }\n  }\n\n  public updateState = (\n    state: {},\n    isFirstRendering: boolean\n  ): Promise<void> | void => {\n    if (isFirstRendering) {\n      return Promise.resolve().then(() => {\n        this.state = state;\n      });\n    }\n\n    this.state = state;\n  };\n\n  // helper method for genering item list className\n  public getItemClass(item: { isRefined?: boolean }) {\n    let className = this.cx('item');\n\n    if (item.isRefined) {\n      className = `${className} ${this.cx('item', 'selected')}`;\n    }\n\n    return className;\n  }\n}\n","export const VERSION = '3.0.0-beta.5';\n","import {\n  AfterViewInit,\n  Component,\n  Input,\n  OnInit,\n  OnDestroy,\n  Output,\n  EventEmitter,\n  Inject,\n  PLATFORM_ID,\n  VERSION as AngularVersion,\n} from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\nimport * as algoliasearchProxy from 'algoliasearch/lite';\nimport instantsearch from 'instantsearch.js/es';\nimport { AlgoliaSearchHelper } from 'algoliasearch-helper';\n\nimport { Widget } from '../base-widget';\nimport { VERSION } from '../version';\n\nconst algoliasearch = algoliasearchProxy.default || algoliasearchProxy;\n\nexport type SearchRequest = {\n  indexName: string;\n  params: SearchRequestParameters;\n};\n\nexport type SearchForFacetValuesRequest = {\n  indexName: string;\n  params: SearchForFacetValuesRequestParameters;\n};\n\n// Documentation: https://www.algolia.com/doc/api-reference/search-api-parameters/\nexport type SearchParameters = {\n  // Attributes\n  attributesToRetrieve?: string[];\n  restrictSearchableAttributes?: string[];\n\n  // Filtering\n  filters?: string;\n  facetFilters?: string[];\n  optionalFilters?: string[];\n  numericFilters?: string[];\n  sumOrFiltersScores?: boolean;\n\n  // Faceting\n  facets?: string[];\n  maxValuesPerFacet?: number;\n  facetingAfterDistinct?: boolean;\n  sortFacetValuesBy?: string;\n\n  // Highlighting / Snippeting\n  attributesToHighlight?: string[];\n  attributesToSnippet?: string[];\n  highlightPreTag?: string;\n  highlightPostTag?: string;\n  snippetEllipsisText?: string;\n  restrictHighlightAndSnippetArrays?: boolean;\n\n  // Pagination\n  page?: number;\n  hitsPerPage?: number;\n  offset?: number;\n  length?: number;\n\n  // Typos\n  minWordSizefor1Typo?: number;\n  minWordSizefor2Typos?: number;\n  typoTolerance?: string | boolean;\n  allowTyposOnNumericTokens?: boolean;\n  ignorePlurals?: boolean | string[];\n  disableTypoToleranceOnAttributes?: string[];\n\n  // Geo-Search\n  aroundLatLng?: string;\n  aroundLatLngViaIP?: boolean;\n  aroundRadius?: number | 'all';\n  aroundPrecision?: number;\n  minimumAroundRadius?: number;\n  insideBoundingBox?: GeoRectangle | GeoRectangle[];\n  insidePolygon?: GeoPolygon | GeoPolygon[];\n\n  // Query Strategy\n  queryType?: string;\n  removeWordsIfNoResults?: string;\n  advancedSyntax?: boolean;\n  optionalWords?: string | string[];\n  removeStopWords?: boolean | string[];\n  disableExactOnAttributes?: string[];\n  exactOnSingleWordQuery?: string;\n  alternativesAsExact?: string[];\n\n  // Query Rules\n  enableRules?: boolean;\n  ruleContexts?: string[];\n\n  // Advanced\n  minProximity?: number;\n  responseFields?: string[];\n  maxFacetHits?: number;\n  percentileComputation?: boolean;\n  distinct?: number | boolean;\n  getRankingInfo?: boolean;\n  clickAnalytics?: boolean;\n  analytics?: boolean;\n  analyticsTags?: string[];\n  synonyms?: boolean;\n  replaceSynonymsInHighlight?: boolean;\n};\n\nexport interface SearchRequestParameters extends SearchParameters {\n  query: string;\n}\n\nexport interface SearchForFacetValuesRequestParameters\n  extends SearchParameters {\n  facetQuery: string;\n  facetName: string;\n}\n\nexport type GeoRectangle = [number, number, number, number];\nexport type GeoPolygon = [number, number, number, number, number, number];\n\nexport type FacetSortByStringOptions =\n  | 'count'\n  | 'count:asc'\n  | 'count:desc'\n  | 'name'\n  | 'name:asc'\n  | 'name:desc'\n  | 'isRefined';\n\n// Documentation: https://www.algolia.com/doc/rest-api/search/?language=javascript#search-multiple-indexes\nexport type SearchResponse = {\n  hits: Hit[];\n  page?: number;\n  nbHits?: number;\n  nbPages?: number;\n  hitsPerPage?: number;\n  processingTimeMS?: number;\n  query?: string;\n  params?: string;\n  index?: string;\n};\n\ntype HitAttributeHighlightResult = {\n  value: string;\n  matchLevel: 'none' | 'partial' | 'full';\n  matchedWords: string[];\n  fullyHighlighted?: boolean;\n};\n\ntype HitHighlightResult = {\n  [attribute: string]:\n    | HitAttributeHighlightResult\n    | HitAttributeHighlightResult[]\n    | HitHighlightResult;\n};\n\ntype HitAttributeSnippetResult = Pick<\n  HitAttributeHighlightResult,\n  'value' | 'matchLevel'\n>;\n\ntype HitSnippetResult = {\n  [attribute: string]:\n    | HitAttributeSnippetResult\n    | HitAttributeSnippetResult[]\n    | HitSnippetResult;\n};\n\nexport type Hit = {\n  [attribute: string]: any;\n  objectID: string;\n  _highlightResult?: HitHighlightResult;\n  _snippetResult?: HitSnippetResult;\n  _rankingInfo?: {\n    promoted: boolean;\n    nbTypos: number;\n    firstMatchedWord: number;\n    proximityDistance?: number;\n    geoDistance: number;\n    geoPrecision?: number;\n    nbExactWords: number;\n    words: number;\n    filters: number;\n    userScore: number;\n    matchedGeoLocation?: {\n      lat: number;\n      lng: number;\n      distance: number;\n    };\n  };\n  _distinctSeqID?: number;\n  __position: number;\n  __queryID?: string;\n};\n\n// Documentation: https://www.algolia.com/doc/rest-api/search/?language=javascript#search-for-facet-values\nexport type SearchForFacetValuesResponse = {\n  value: string;\n  highlighted?: string;\n  count?: number;\n};\n\nexport type SearchClient = {\n  addAlgoliaAgent?: (agent: string) => void;\n  search: (requests: SearchRequest[]) => Promise<{ results: SearchResponse[] }>;\n  searchForFacetValues?: (\n    requests: SearchForFacetValuesRequest[]\n  ) => Promise<{ facetHits: SearchForFacetValuesResponse[] }[]>;\n};\n\nexport type InstantSearchConfig = {\n  searchClient: SearchClient;\n  indexName: string;\n\n  numberLocale?: string;\n  searchFunction?: (helper: AlgoliaSearchHelper) => void;\n  searchParameters?: SearchParameters | void;\n  urlSync?:\n    | boolean\n    | {\n        mapping?: object;\n        threshold?: number;\n        trackedParameters?: string[];\n        useHash?: boolean;\n        getHistoryState?: () => object;\n      };\n  routing?:\n    | boolean\n    | {\n        router?: {\n          onUpdate: (cb: (object) => void) => void;\n          read: () => object;\n          write: (routeState: object) => void;\n          createURL: (routeState: object) => string;\n          dispose: () => void;\n        };\n        stateMapping?: {\n          stateToRoute(object): object;\n          routeToState(object): object;\n        };\n      };\n};\n\nexport class InstantSearchInstance {\n  public start: () => void;\n\n  public addWidget: (widget: Widget) => void;\n  public addWidgets: (widgets: Widget[]) => void;\n\n  public removeWidget: (widget: Widget) => void;\n  public removeWidgets: (widgets: Widget[]) => void;\n\n  // EventEmmiter\n  public on: (eventName: string, callback: Function) => void;\n  public removeListener: (eventName: string, callback: Function) => void;\n\n  public helper: {\n    lastResults: Object;\n    state: Object;\n  };\n\n  public refresh: () => void;\n  public dispose: () => void;\n}\n\n@Component({\n  selector: 'ais-instantsearch',\n  template: `<ng-content></ng-content>`,\n})\nexport class NgAisInstantSearch implements AfterViewInit, OnInit, OnDestroy {\n  @Input() public config: InstantSearchConfig;\n  @Input() public instanceName: string = 'default';\n\n  @Output()\n  change: EventEmitter<{ results: {}; state: {} }> = new EventEmitter<{\n    results: {};\n    state: {};\n  }>();\n\n  public instantSearchInstance: InstantSearchInstance;\n\n  constructor(@Inject(PLATFORM_ID) private platformId: Object) {}\n\n  public ngOnInit() {\n    this.createInstantSearchInstance(this.config);\n  }\n\n  public ngAfterViewInit() {\n    this.instantSearchInstance.start();\n  }\n\n  public ngOnDestroy() {\n    this.instantSearchInstance.removeListener('render', this.onRender);\n    this.instantSearchInstance.dispose();\n  }\n\n  public createInstantSearchInstance(config: InstantSearchConfig) {\n    // add default searchParameters with highlighting config\n    if (!config.searchParameters) config.searchParameters = {};\n    Object.assign(config.searchParameters, {\n      highlightPreTag: '__ais-highlight__',\n      highlightPostTag: '__/ais-highlight__',\n    });\n\n    // remove URLSync widget if on SSR\n    if (!isPlatformBrowser(this.platformId)) {\n      if (typeof config.urlSync !== 'undefined') delete config.urlSync;\n      if (typeof config.routing !== 'undefined') delete config.routing;\n    }\n\n    if (typeof config.searchClient.addAlgoliaAgent === 'function') {\n      config.searchClient.addAlgoliaAgent(`angular (${AngularVersion.full})`);\n      config.searchClient.addAlgoliaAgent(`angular-instantsearch (${VERSION})`);\n    }\n\n    this.instantSearchInstance = instantsearch(config);\n    this.instantSearchInstance.on('render', this.onRender);\n  }\n\n  public addWidget(widget: Widget) {\n    this.instantSearchInstance.addWidget(widget);\n  }\n\n  public removeWidget(widget: Widget) {\n    this.instantSearchInstance.removeWidget(widget);\n  }\n\n  public refresh() {\n    this.instantSearchInstance.refresh();\n  }\n\n  onRender = () => {\n    this.change.emit({\n      results: this.instantSearchInstance.helper.lastResults,\n      state: this.instantSearchInstance.helper.state,\n    });\n  };\n}\n","import { Component, Input, Inject, forwardRef } from '@angular/core';\nimport { connectBreadcrumb } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { noop } from '../utils';\n\nexport type BreadcrumbState = {\n  createURL: (value: string) => string;\n  items: BreadcrumbItem[];\n  refine: (value: string) => void;\n};\n\nexport type BreadcrumbItem = {\n  name: string;\n  value: string;\n};\n\n@Component({\n  selector: 'ais-breadcrumb',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <ul [class]=\"cx('list')\">\n        <li\n          *ngFor=\"let item of items\"\n          [ngClass]=\"[cx('item'), item.isLast ? cx('item', 'selected') : '']\"\n          (click)=\"handleClick($event, item)\"\n        >\n          <span\n            *ngIf=\"item.separator\"\n            [class]=\"cx('separator')\"\n            aria-hidden=\"true\"\n          >\n            >\n          </span>\n          <a\n            [class]=\"cx('link')\"\n            href=\"{{state.createURL(item.value)}}\"\n            *ngIf=\"!item.isLast\"\n            (click)=\"handleClick($event, item)\"\n          >\n            {{item.label}}\n          </a>\n\n          <span *ngIf=\"item.isLast\">\n            {{item.label}}\n          </span>\n        </li>\n      </ul>\n    </div>\n  `,\n})\nexport class NgAisBreadcrumb extends BaseWidget {\n  // instance options\n  @Input() public attributes: string[];\n  @Input() public rootPath?: string;\n  @Input() public separator?: string;\n  @Input()\n  public transformItems?: <U extends BreadcrumbItem>(\n    items: BreadcrumbItem[]\n  ) => U[];\n\n  get isHidden() {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  get items() {\n    return this.state.items.map((item, idx) => ({\n      ...item,\n      separator: idx !== 0,\n      isLast: idx === this.state.items.length - 1,\n      // FIXME: get rid of this. We can use `last` local variable\n      // https://angular.io/api/common/NgForOf#local-variables\n    }));\n  }\n\n  public state: BreadcrumbState = {\n    createURL: () => '#',\n    items: [],\n    refine: noop,\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('Breadcrumb');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectBreadcrumb, {\n      attributes: this.attributes,\n      rootPath: this.rootPath,\n      separator: this.separator,\n      transformItems: this.transformItems,\n    });\n\n    super.ngOnInit();\n  }\n\n  public handleClick(event: MouseEvent, item: BreadcrumbItem): void {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (item.value) {\n      this.state.refine(item.value);\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisBreadcrumb } from './breadcrumb';\n\n@NgModule({\n  declarations: [NgAisBreadcrumb],\n  entryComponents: [NgAisBreadcrumb],\n  exports: [NgAisBreadcrumb],\n  imports: [CommonModule],\n})\nexport class NgAisBreadcrumbModule {}\n","import { Component, Input, Inject, forwardRef } from '@angular/core';\nimport { connectClearRefinements } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { noop } from '../utils';\n\ntype ClearRefinementsState = {\n  hasRefinements: boolean;\n  refine: () => void;\n  createURL: () => string;\n};\n\n@Component({\n  selector: 'ais-clear-refinements',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <button\n        [class]=\"cx('button') + (!state.hasRefinements ? (' ' + cx('button', 'disabled')) : '')\"\n        (click)=\"handleClick($event)\"\n        [disabled]=\"!state.hasRefinements\"\n      >\n        {{resetLabel}}\n      </button>\n    </div>\n  `,\n})\nexport class NgAisClearRefinements extends BaseWidget {\n  // rendering options\n  @Input() public resetLabel: string = 'Clear refinements';\n\n  // instance options\n  @Input() public includedAttributes: string[];\n  @Input() public excludedAttributes: string[];\n  @Input() public transformItems?: (items: string[]) => string[];\n\n  public state: ClearRefinementsState = {\n    hasRefinements: false,\n    refine: noop,\n    createURL: () => '#',\n  };\n\n  get isHidden(): boolean {\n    return !this.state.hasRefinements && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('ClearRefinements');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectClearRefinements, {\n      includedAttributes: this.includedAttributes,\n      excludedAttributes: this.excludedAttributes,\n      transformItems: this.transformItems,\n    });\n\n    super.ngOnInit();\n  }\n\n  public handleClick(event: MouseEvent) {\n    event.preventDefault();\n\n    if (this.state.hasRefinements) {\n      this.state.refine();\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisClearRefinements } from './clear-refinements';\n\n@NgModule({\n  declarations: [NgAisClearRefinements],\n  entryComponents: [NgAisClearRefinements],\n  exports: [NgAisClearRefinements],\n  imports: [CommonModule],\n})\nexport class NgAisClearRefinementsModule {}\n","import { Component, Input, Inject, forwardRef } from '@angular/core';\n\nimport { connectCurrentRefinements } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { noop } from '../utils';\n\nexport type CurrentRefinementsItem = {\n  attribute: string;\n  label: string;\n  refine: Function;\n  refinements: {\n    type: string;\n    // TODO: create multiple types for each of the available refinement\n    // https://github.com/algolia/angular-instantsearch/pull/463#discussion_r255911232\n    attribute: string;\n    label: string;\n    value: string;\n    operator?: string;\n    exhaustive?: boolean;\n    count?: number;\n  }[];\n};\n\nexport type CurrentRefinementsState = {\n  createURL: Function;\n  refine: Function;\n  items: CurrentRefinementsItem[];\n};\n\n@Component({\n  selector: 'ais-current-refinements',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <ul\n        [class]=\"cx('list')\"\n        *ngFor=\"let item of state.items\"\n      >\n        <li [class]=\"cx('item')\">\n          <span [class]=\"cx('label')\">{{item.label | titlecase}}:</span>\n\n          <span\n            [class]=\"cx('category')\"\n            *ngFor=\"let refinement of item.refinements\"\n          >\n            <span [class]=\"cx('categoryLabel')\">{{refinement.label}}</span>\n            <button [class]=\"cx('delete')\" (click)=\"handleClick($event, refinement)\">â</button>\n          </span>\n        </li>\n      </ul>\n    </div>\n  `,\n})\nexport class NgAisCurrentRefinements extends BaseWidget {\n  // instance options\n  @Input() public includedAttributes?: string[];\n  @Input() public excludedAttributes?: string[];\n  @Input()\n  public transformItems?: <U extends CurrentRefinementsItem>(\n    items: CurrentRefinementsItem[]\n  ) => U[];\n\n  public state: CurrentRefinementsState = {\n    createURL: noop,\n    refine: noop,\n    items: [],\n  };\n\n  get isHidden() {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('CurrentRefinements');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectCurrentRefinements, {\n      includedAttributes: this.includedAttributes,\n      excludedAttributes: this.excludedAttributes,\n      transformItems: this.transformItems,\n    });\n    super.ngOnInit();\n  }\n\n  public handleClick(event: MouseEvent, refinement: {}) {\n    event.preventDefault();\n    this.state.refine(refinement);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisCurrentRefinements } from './current-refinements';\n\n@NgModule({\n  declarations: [NgAisCurrentRefinements],\n  entryComponents: [NgAisCurrentRefinements],\n  exports: [NgAisCurrentRefinements],\n  imports: [CommonModule],\n})\nexport class NgAisCurrentRefinementsModule {}\n","import { Component, Input, Inject, forwardRef } from '@angular/core';\n\nimport { connectHierarchicalMenu } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport {\n  NgAisInstantSearch,\n  FacetSortByStringOptions,\n} from '../instantsearch/instantsearch';\nimport { parseNumberInput, noop } from '../utils';\n\nexport type HierarchicalMenuState = {\n  createURL: (value: string) => string;\n  items: HierarchicalMenuItem[];\n  refine: (value: string) => void;\n};\n\nexport type HierarchicalMenuItem = {\n  value: string;\n  label: string;\n  count: number;\n  isRefined: boolean;\n  data: HierarchicalMenuItem[] | null;\n};\n\n@Component({\n  selector: 'ais-hierarchical-menu',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <ul [class]=\"cx('list') + ' ' + cx('list', 'lvl0')\">\n        <ais-hierarchical-menu-item\n          *ngFor=\"let item of state.items\"\n          [item]=\"item\"\n          [createURL]=\"state.createURL\"\n          [refine]=\"state.refine\"\n        >\n        </ais-hierarchical-menu-item>\n      </ul>\n    </div>\n  `,\n})\nexport class NgAisHierarchicalMenu extends BaseWidget {\n  @Input() public attributes: string[];\n  @Input() public separator?: string;\n  @Input() public rootPath?: string;\n  @Input() public showParentLevel?: boolean;\n  @Input() public limit?: number | string;\n  @Input()\n  public sortBy?:\n    | FacetSortByStringOptions[]\n    | ((a: HierarchicalMenuItem, b: HierarchicalMenuItem) => number);\n\n  @Input()\n  public transformItems?: <U extends HierarchicalMenuItem>(\n    items: HierarchicalMenuItem[]\n  ) => U[];\n\n  public state: HierarchicalMenuState = {\n    createURL: () => '#',\n    items: [],\n    refine: noop,\n  };\n\n  get isHidden(): boolean {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('HierarchicalMenu');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectHierarchicalMenu, {\n      limit: parseNumberInput(this.limit),\n      attributes: this.attributes,\n      rootPath: this.rootPath,\n      separator: this.separator,\n      showParentLevel: this.showParentLevel,\n      sortBy: this.sortBy,\n      transformItems: this.transformItems,\n    });\n\n    super.ngOnInit();\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { bem } from '../utils';\nimport {\n  HierarchicalMenuItem,\n  HierarchicalMenuState,\n} from './hierarchical-menu';\n\n@Component({\n  selector: 'ais-hierarchical-menu-item',\n  template: `\n    <li\n      [class]=\"getItemClass(item)\"\n      (click)=\"handleClick($event, item)\"\n    >\n      <a\n        [class]=\"cx('link')\"\n        href=\"{{createURL(item.value)}}\"\n        (click)=\"handleClick($event, item)\"\n      >\n        <span [class]=\"cx('label')\">{{item.label}}</span>\n        <span [class]=\"cx('count')\">{{item.count}}</span>\n      </a>\n\n      <ul\n        [class]=\"getListClass()\"\n        *ngIf=\"item.isRefined && isArray(item.data) && item.data.length > 0\"\n      >\n        <ais-hierarchical-menu-item\n          *ngFor=\"let child of item.data\"\n          [item]=\"child\"\n          [createURL]=\"createURL\"\n          [refine]=\"refine\"\n          [lvl]=\"lvl + 1\"\n        >\n        </ais-hierarchical-menu-item>\n      </ul>\n    </li>\n  `,\n})\nexport class NgAisHierarchicalMenuItem {\n  @Input() public lvl: number = 1;\n  @Input() public refine: HierarchicalMenuState['refine'];\n  @Input() public createURL: HierarchicalMenuState['createURL'];\n  @Input() public item: HierarchicalMenuItem;\n\n  public cx = bem('HierarchicalMenu');\n\n  public getItemClass(item): string {\n    let className = this.cx('item');\n\n    if (item.isRefined) {\n      className = `${className} ${this.cx('item', 'selected')}`;\n    }\n\n    if (this.isArray(item.data) && item.data.length > 0) {\n      className = `${className} ${this.cx('item', 'parent')}`;\n    }\n\n    return className;\n  }\n\n  public getListClass(): string {\n    return `${this.cx('list')} ${this.cx('list', 'child')} ${this.cx(\n      'list',\n      `lvl${this.lvl}`\n    )}`;\n  }\n\n  public isArray(potentialArray: any): boolean {\n    return Array.isArray(potentialArray);\n  }\n\n  public handleClick(event: MouseEvent, item: HierarchicalMenuItem): void {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.refine(item.value);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisHierarchicalMenu } from './hierarchical-menu';\nimport { NgAisHierarchicalMenuItem } from './hierarchical-menu-item';\n\n@NgModule({\n  declarations: [NgAisHierarchicalMenu, NgAisHierarchicalMenuItem],\n  entryComponents: [NgAisHierarchicalMenu],\n  exports: [NgAisHierarchicalMenu],\n  imports: [CommonModule],\n})\nexport class NgAisHierarchicalMenuModule {}\n","import { Component, Input, Inject, forwardRef } from '@angular/core';\n\nimport { connectHitsPerPage } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { noop } from '../utils';\n\nexport type HitsPerPageState = {\n  items: HitsPerPageRenderingItem[];\n  refine: (value: number) => void;\n};\n\nexport type HitsPerPageInstanceItem = {\n  value: number;\n  label: string;\n  default?: boolean;\n};\n\nexport type HitsPerPageRenderingItem = {\n  value: number;\n  label: string;\n  isRefined: boolean;\n};\n\n@Component({\n  selector: 'ais-hits-per-page',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <select\n        [class]=\"cx('select')\"\n        (change)=\"state.refine($event.target.value)\"\n      >\n        <option\n          [class]=\"cx('option')\"\n          *ngFor=\"let item of state.items\"\n          [value]=\"item.value\"\n          [selected]=\"item.isRefined\"\n        >\n          {{item.label}}\n        </option>\n      </select>\n    </div>\n  `,\n})\nexport class NgAisHitsPerPage extends BaseWidget {\n  @Input() public items: HitsPerPageInstanceItem[];\n  @Input()\n  public transformItems?: <U extends HitsPerPageRenderingItem>(\n    items: HitsPerPageRenderingItem[]\n  ) => U[];\n\n  public state: HitsPerPageState = {\n    items: [],\n    refine: noop,\n    // TODO: add hasNoResults and disable <select> when true\n  };\n\n  get isHidden(): boolean {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('HitsPerPage');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectHitsPerPage, {\n      items: this.items,\n      transformItems: this.transformItems,\n    });\n    super.ngOnInit();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisHitsPerPage } from './hits-per-page';\n\n@NgModule({\n  declarations: [NgAisHitsPerPage],\n  entryComponents: [NgAisHitsPerPage],\n  exports: [NgAisHitsPerPage],\n  imports: [CommonModule],\n})\nexport class NgAisHitsPerPageModule {}\n","const get = require('lodash/get');\nimport { Component, Input } from '@angular/core';\nimport { bem } from '../utils';\n\n@Component({\n  selector: 'ais-highlight',\n  template: `<span [class]=\"cx()\" [innerHtml]=\"content\"></span>`,\n})\nexport class NgAisHighlight {\n  @Input() attribute: string;\n  @Input() hit: { _highlightResult?: {}; label?: string; highlighted?: string };\n  @Input() tagName: string = 'em';\n\n  cx = bem('Highlight');\n\n  get content() {\n    if (this.attribute === 'highlighted') {\n      return this.hit.highlighted\n        ? this.replaceWithTagName(this.hit.highlighted)\n        : this.hit.label;\n    }\n\n    if (this.hit.hasOwnProperty('_highlightResult')) {\n      const attributeHighlighted = get(\n        this.hit._highlightResult,\n        this.attribute\n      );\n\n      // check that the attributeHighlighted is a string\n      if (\n        attributeHighlighted !== undefined &&\n        typeof attributeHighlighted.value === 'string'\n      ) {\n        return this.replaceWithTagName(attributeHighlighted.value);\n      }\n    }\n\n    const fallback = get(this.hit, this.attribute);\n    if (!fallback) {\n      console.warn(\n        `Could not find attribute [${\n          this.attribute\n        }] into hit object, will display an empty string.`\n      );\n\n      return '';\n    }\n\n    return fallback;\n  }\n\n  replaceWithTagName(value: string) {\n    return value\n      .replace(\n        new RegExp('<em>', 'g'),\n        `<${this.tagName} class=\"${this.cx('highlighted')}\">`\n      )\n      .replace(new RegExp('</em>', 'g'), `</${this.tagName}>`);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisHighlight } from './highlight';\n\n@NgModule({\n  declarations: [NgAisHighlight],\n  entryComponents: [NgAisHighlight],\n  exports: [NgAisHighlight],\n  imports: [CommonModule],\n})\nexport class NgAisHighlightModule {}\n","import {\n  Inject,\n  Input,\n  Component,\n  ContentChild,\n  TemplateRef,\n  forwardRef,\n} from '@angular/core';\n\nimport { connectHitsWithInsights } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch, Hit } from '../instantsearch/instantsearch';\n\nexport type HitsState = {\n  hits: Hit[];\n  results: {};\n};\n\n@Component({\n  selector: 'ais-hits',\n  template: `\n    <div [class]=\"cx()\">\n      <ng-container *ngTemplateOutlet=\"template; context: state\"></ng-container>\n\n      <!-- default rendering if no template specified -->\n      <div *ngIf=\"!template\">\n        <ul [class]=\"cx('list')\">\n          <li\n            [class]=\"cx('item')\"\n            *ngFor=\"let hit of state.hits\"\n          >\n            <ais-highlight attribute=\"name\" [hit]=\"hit\">\n            </ais-highlight>\n          </li>\n        </ul>\n      </div>\n    </div>\n  `,\n})\nexport class NgAisHits extends BaseWidget {\n  @ContentChild(TemplateRef) public template?: TemplateRef<any>;\n\n  @Input() public escapeHTML?: boolean;\n  @Input() public transformItems?: <U extends Hit>(items: Hit[]) => U[];\n\n  public state: HitsState = {\n    hits: [],\n    results: {},\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('Hits');\n  }\n\n  ngOnInit() {\n    this.createWidget(connectHitsWithInsights, {\n      escapeHTML: this.escapeHTML,\n      transformItems: this.transformItems,\n    });\n    super.ngOnInit();\n  }\n\n  updateState = (state, isFirstRendering: boolean) => {\n    if (isFirstRendering) return;\n    this.state = state;\n  };\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisHighlightModule } from '../highlight/highlight.module';\nimport { NgAisHits } from './hits';\n\n@NgModule({\n  declarations: [NgAisHits],\n  entryComponents: [NgAisHits],\n  exports: [NgAisHits],\n  imports: [CommonModule, NgAisHighlightModule],\n})\nexport class NgAisHitsModule {}\n","import {\n  Component,\n  ContentChild,\n  Input,\n  TemplateRef,\n  Inject,\n  forwardRef,\n} from '@angular/core';\n\nimport { connectInfiniteHitsWithInsights } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch, Hit } from '../instantsearch/instantsearch';\nimport { noop } from '../utils';\n\nexport type InfiniteHitsState = {\n  hits: Hit[];\n  results: any;\n  isFirstPage: boolean;\n  isLastPage: boolean;\n  showMore: Function;\n  showPrevious: Function;\n};\n\n@Component({\n  selector: 'ais-infinite-hits',\n  template: `\n    <div [class]=\"cx()\">\n      <ng-container *ngTemplateOutlet=\"template; context: state\"></ng-container>\n\n      <!-- default rendering if no template specified -->\n      <button\n        [ngClass]=\"[cx('loadPrevious'), this.state.isFirstPage ? cx('loadPrevious', 'disabled') : '']\"\n        (click)=\"showPreviousHandler($event)\"\n        [disabled]=\"state.isFirstPage\"\n        *ngIf=\"showPrevious && !template\"\n      >\n        {{showPreviousLabel}}\n      </button>\n\n      <div *ngIf=\"!template\">\n        <ul [class]=\"cx('list')\">\n          <li\n            [class]=\"cx('item')\"\n            *ngFor=\"let hit of state.hits\"\n          >\n            <ais-highlight attribute=\"name\" [hit]=\"hit\">\n            </ais-highlight>\n          </li>\n        </ul>\n      </div>\n\n      <button\n        [ngClass]=\"[cx('loadMore'), this.state.isLastPage ? cx('loadMore', 'disabled') : '']\"\n        (click)=\"showMoreHandler($event)\"\n        [disabled]=\"state.isLastPage\"\n        *ngIf=\"!template\"\n      >\n        {{showMoreLabel}}\n      </button>\n    </div>\n  `,\n})\nexport class NgAisInfiniteHits extends BaseWidget {\n  @ContentChild(TemplateRef) public template?: any;\n\n  // rendering options\n  @Input() public escapeHTML: boolean;\n  @Input() public showPrevious: boolean = false;\n  @Input() public showPreviousLabel: string = 'Show previous results';\n  @Input() public showMoreLabel: string = 'Show more results';\n  @Input() public transformItems?: <U extends Hit>(items: Hit[]) => U[];\n\n  // inner widget state returned from connector\n  public state: InfiniteHitsState = {\n    hits: [],\n    isFirstPage: false,\n    isLastPage: false,\n    showMore: noop,\n    showPrevious: noop,\n    results: {},\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('InfiniteHits');\n  }\n\n  ngOnInit() {\n    this.createWidget(connectInfiniteHitsWithInsights, {\n      escapeHTML: this.escapeHTML,\n      transformItems: this.transformItems,\n    });\n    super.ngOnInit();\n  }\n\n  public showMoreHandler(event: MouseEvent) {\n    event.preventDefault();\n    this.state.showMore();\n  }\n\n  public showPreviousHandler(event: MouseEvent) {\n    event.preventDefault();\n    this.state.showPrevious();\n  }\n\n  updateState = (state, isFirstRendering: boolean) => {\n    if (isFirstRendering) return;\n    this.state = state;\n  };\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisHighlightModule } from '../highlight/highlight.module';\nimport { NgAisInfiniteHits } from './infinite-hits';\n\n@NgModule({\n  declarations: [NgAisInfiniteHits],\n  entryComponents: [NgAisInfiniteHits],\n  exports: [NgAisInfiniteHits],\n  imports: [CommonModule, NgAisHighlightModule],\n})\nexport class NgAisInfiniteHitsModule {}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\n\nimport { NgAisInstantSearch } from './instantsearch';\n\n@NgModule({\n  declarations: [NgAisInstantSearch],\n  entryComponents: [NgAisInstantSearch],\n  exports: [NgAisInstantSearch],\n  imports: [CommonModule],\n})\nexport class NgAisInstantSearchModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: NgAisInstantSearchModule,\n      providers: [],\n    };\n  }\n}\n","import { Component, Input, Inject, forwardRef } from '@angular/core';\n\nimport { connectMenu } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport {\n  NgAisInstantSearch,\n  FacetSortByStringOptions,\n} from '../instantsearch/instantsearch';\nimport { noop } from '../utils';\n\nexport type MenuItem = {\n  value: string;\n  label: string;\n  count: number;\n  isRefined: boolean;\n};\n\nexport type MenuState = {\n  items: MenuItem[];\n  refine: Function;\n  createURL: Function;\n  isShowingMore: boolean;\n  canToggleShowMore: boolean;\n  toggleShowMore: Function;\n};\n\n@Component({\n  selector: 'ais-menu',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <ul [class]=\"cx('list')\">\n        <li\n          [class]=\"getItemClass(item)\"\n          *ngFor=\"let item of state.items\"\n          (click)=\"handleClick($event, item.value)\"\n        >\n          <a\n            href=\"{{state.createURL(item.value)}}\"\n            [class]=\"cx('link')\"\n            (click)=\"handleClick($event, item.value)\"\n          >\n            <span [class]=\"cx('label')\">{{item.label}}</span>\n            <span [class]=\"cx('count')\">{{item.count}}</span>\n          </a>\n        </li>\n      </ul>\n\n      <button\n        *ngIf=\"showMore\"\n        (click)=\"state.toggleShowMore()\"\n        [class]=\"showMoreClass\"\n        [disabled]=\"!state.canToggleShowMore\"\n      >\n        {{state.isShowingMore ? showLessLabel : showMoreLabel}}\n      </button>\n    </div>\n  `,\n})\nexport class NgAisMenu extends BaseWidget {\n  // rendering options\n  @Input() public showMoreLabel: string = 'Show more';\n  @Input() public showLessLabel: string = 'Show less';\n\n  // instance options\n  @Input() public attribute: string;\n  @Input() public showMore?: boolean;\n  @Input() public limit?: number;\n  @Input() public showMoreLimit?: number;\n  @Input()\n  public sortBy?:\n    | FacetSortByStringOptions[]\n    | ((a: MenuItem, b: MenuItem) => number);\n  @Input()\n  public transformItems?: <U extends MenuItem>(items: MenuItem[]) => U[];\n\n  public state: MenuState = {\n    items: [],\n    refine: noop,\n    createURL: noop,\n    isShowingMore: false,\n    canToggleShowMore: false,\n    toggleShowMore: noop,\n  };\n\n  get isHidden() {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  get showMoreClass() {\n    let className = this.cx('showMore');\n\n    if (!this.state.canToggleShowMore) {\n      className = `${className} ${this.cx('showMore', 'disabled')}`;\n    }\n\n    return className;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('Menu');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectMenu, {\n      attribute: this.attribute,\n      showMore: this.showMore,\n      limit: this.limit,\n      showMoreLimit: this.showMoreLimit,\n      sortBy: this.sortBy,\n      transformItems: this.transformItems,\n    });\n\n    super.ngOnInit();\n  }\n\n  handleClick(event: MouseEvent, value: string) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.state.refine(value);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisMenu } from './menu';\n\n@NgModule({\n  declarations: [NgAisMenu],\n  entryComponents: [NgAisMenu],\n  exports: [NgAisMenu],\n  imports: [CommonModule],\n})\nexport class NgAisMenuModule {}\n","import { Component, Input, Inject, forwardRef } from '@angular/core';\n\nimport { connectNumericMenu } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { noop } from '../utils';\n\nexport type NumericMenuItem = {\n  label: string;\n  value: string;\n  isRefined: boolean;\n};\n\nexport type NumericMenuState = {\n  createURL: Function;\n  items: NumericMenuItem[];\n  refine: Function;\n  hasNoResults?: boolean;\n};\n\n@Component({\n  selector: 'ais-numeric-menu',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <ul [class]=\"cx('list')\">\n        <li\n          [class]=\"getItemClass(item)\"\n          *ngFor=\"let item of state.items\"\n        >\n          <label [class]=\"cx('label')\">\n            <input\n              [class]=\"cx('radio')\"\n              type=\"radio\"\n              name=\"NumericMenu\"\n              [checked]=\"item.isRefined\"\n              (change)=\"refine($event, item)\"\n            />\n            <span [class]=\"cx('labelText')\">{{item.label}}</span>\n          </label>\n        </li>\n      </ul>\n    </div>\n  `,\n})\nexport class NgAisNumericMenu extends BaseWidget {\n  @Input() public attribute: string;\n  @Input() public items: { label: string; start?: number; end?: number }[];\n  @Input()\n  public transformItems?: <U extends NumericMenuItem>(\n    items: NumericMenuItem[]\n  ) => U[];\n\n  public state: NumericMenuState = {\n    items: [],\n    refine: noop,\n    createURL: noop,\n  };\n\n  get isHidden() {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('NumericMenu');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectNumericMenu, {\n      attribute: this.attribute,\n      items: this.items,\n      transformItems: this.transformItems,\n    });\n    super.ngOnInit();\n  }\n\n  public refine(event: MouseEvent, item: { value: string }) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.state.refine(item.value);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisNumericMenu } from './numeric-menu';\n\n@NgModule({\n  declarations: [NgAisNumericMenu],\n  entryComponents: [NgAisNumericMenu],\n  exports: [NgAisNumericMenu],\n  imports: [CommonModule],\n})\nexport class NgAisNumericMenuModule {}\n","const range = require('lodash/range');\nimport { Component, Input, Inject, forwardRef } from '@angular/core';\nimport { connectPagination } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { parseNumberInput, noop } from '../utils';\n\n@Component({\n  selector: 'ais-pagination',\n  template: `\n    <div [ngClass]=\"[cx(), state.nbPages <= 1 ? cx('', 'noRefinement') : '']\">\n      <ul [class]=\"cx('list')\">\n        <li\n          *ngIf=\"showFirst\"\n          (click)=\"refine($event, 0)\"\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'firstPage') +\n            (state.currentRefinement === 0 ? ' ' + cx('item', 'disabled') : '')\n          \"\n        >\n          <a\n            [href]=\"state.createURL(0)\"\n            [class]=\"cx('link')\"\n          >\n            â¹â¹\n          </a>\n        </li>\n\n        <li\n          *ngIf=\"showPrevious\"\n          (click)=\"refine($event, state.currentRefinement - 1)\"\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'previousPage') +\n            (state.currentRefinement === 0 ? ' ' + cx('item', 'disabled') : '')\n          \"\n        >\n          <a\n            [href]=\"state.createURL(state.currentRefinement - 1)\"\n            [class]=\"cx('link')\"\n          >\n            â¹\n          </a>\n        </li>\n\n        <li\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'page') +\n            (state.currentRefinement === page ? ' ' + cx('item', 'selected') : '')\n          \"\n          *ngFor=\"let page of pages\"\n          (click)=\"refine($event, page)\"\n        >\n          <a\n            [class]=\"cx('link')\"\n            [href]=\"state.createURL(page)\"\n          >\n            {{page + 1}}\n          </a>\n        </li>\n\n        <li\n          *ngIf=\"showNext\"\n          (click)=\"refine($event, state.currentRefinement + 1)\"\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'nextPage') +\n            (state.currentRefinement + 1 === state.nbPages ? ' ' + cx('item', 'disabled') : '')\n          \"\n        >\n          <a\n            [href]=\"state.createURL(state.currentRefinement + 1)\"\n            [class]=\"cx('link')\"\n          >\n            âº\n          </a>\n        </li>\n\n        <li\n          *ngIf=\"showLast\"\n          (click)=\"refine($event, state.nbPages - 1)\"\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'lastPage') +\n            (state.currentRefinement + 1 === state.nbPages ? ' ' + cx('item', 'disabled') : '')\n          \"\n        >\n          <a\n            [href]=\"state.createURL(state.nbPages - 1)\"\n            [class]=\"cx('link')\"\n          >\n            âºâº\n          </a>\n        </li>\n      </ul>\n    </div>\n  `,\n})\nexport class NgAisPagination extends BaseWidget {\n  // rendering options\n  @Input() public showFirst: boolean = true;\n  @Input() public showLast: boolean = true;\n  @Input() public showPrevious: boolean = true;\n  @Input() public showNext: boolean = true;\n  @Input() public padding: number | string = 3;\n\n  // instance options\n  @Input() public totalPages?: number | string;\n\n  public state = {\n    createURL: noop,\n    currentRefinement: 0,\n    nbHits: 0,\n    nbPages: 0,\n    refine: noop,\n  };\n\n  get pages() {\n    const { nbPages, currentRefinement } = this.state;\n\n    const pagesArray = Array.apply(null, { length: nbPages }).map(\n      Number.call,\n      Number\n    );\n\n    const pagesPadding =\n      typeof this.padding === 'string'\n        ? parseInt(this.padding, 10)\n        : this.padding;\n\n    if (pagesPadding && pagesPadding > 0) {\n      // should not display pages that does not exists\n      if (nbPages < pagesPadding * 2 + 1) {\n        return pagesArray;\n      }\n\n      const minDelta = currentRefinement - pagesPadding - 1;\n      const maxDelta = currentRefinement + pagesPadding + 1;\n\n      if (minDelta < 0) {\n        return range(0, currentRefinement + pagesPadding + Math.abs(minDelta));\n      }\n\n      if (maxDelta > nbPages) {\n        return range(\n          currentRefinement - pagesPadding - (maxDelta - nbPages),\n          nbPages\n        );\n      }\n\n      return range(\n        currentRefinement - pagesPadding,\n        currentRefinement + pagesPadding + 1\n      );\n    }\n\n    return pagesArray;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('Pagination');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectPagination, {\n      maxPages: parseNumberInput(this.totalPages),\n    });\n    super.ngOnInit();\n  }\n\n  public refine(event: MouseEvent, page: number) {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (\n      page < 0 ||\n      page === this.state.currentRefinement ||\n      page >= this.state.nbPages\n    ) {\n      return;\n    }\n\n    this.state.refine(page);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisPagination } from './pagination';\n\n@NgModule({\n  declarations: [NgAisPagination],\n  entryComponents: [NgAisPagination],\n  exports: [NgAisPagination],\n  imports: [CommonModule],\n})\nexport class NgAisPaginationModule {}\n","import { Component, Input, ViewChild, Inject, forwardRef } from '@angular/core';\n\nimport { connectRange } from 'instantsearch.js/es/connectors';\nimport * as noUiSlider from 'nouislider';\n\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { parseNumberInput, noop } from '../utils';\n\nexport type RangeSliderState = {\n  range: { min: number; max: number };\n  refine: Function;\n  start: number[];\n};\n\n@Component({\n  selector: 'ais-range-slider',\n  template: `\n    <div [class]=\"cx()\">\n      <div [class]=\"cx('body')\">\n        <div #sliderContainer></div>\n      </div>\n    </div>\n  `,\n})\nexport class NgAisRangeSlider extends BaseWidget {\n  @ViewChild('sliderContainer') public sliderContainer: any;\n\n  // rendering options\n  @Input() public pips: boolean = true;\n  @Input() public tooltips: boolean = true;\n\n  // instance options\n  @Input() public attribute: string;\n  @Input() public min?: number;\n  @Input() public max?: number;\n  @Input() public precision?: number;\n\n  public state: RangeSliderState = {\n    range: { min: 0, max: 1 },\n    refine: noop,\n    start: [0, 1],\n  };\n\n  private slider: any;\n\n  get step() {\n    // compute step from the precision value\n    const precision = parseNumberInput(this.precision) || 2;\n    return 1 / Math.pow(10, precision);\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('RangeSlider');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectRange, {\n      attribute: this.attribute,\n      max: parseNumberInput(this.max),\n      min: parseNumberInput(this.min),\n      precision: parseNumberInput(this.precision),\n    });\n\n    super.ngOnInit();\n  }\n\n  public updateState = (state, isFirstRendering: boolean) => {\n    if (isFirstRendering) {\n      // create slider\n      const config = {\n        animate: false,\n        behaviour: 'snap',\n        connect: true,\n        range: { min: 0, max: 1 },\n        start: [0, 1],\n        step: this.step,\n        tooltips: this.tooltips && [\n          { to: this.formatTooltip },\n          { to: this.formatTooltip },\n        ],\n      };\n\n      if (this.pips === true || typeof this.pips === 'undefined') {\n        Object.assign(config, {\n          pips: {\n            density: 3,\n            mode: 'positions',\n            stepped: true,\n            values: [0, 50, 100],\n          },\n        });\n      } else if (this.pips !== undefined) {\n        Object.assign(config, { pips: this.pips });\n      }\n\n      this.slider = noUiSlider.create(\n        this.sliderContainer.nativeElement,\n        config\n      );\n\n      // register listen events\n      this.sliderContainer.nativeElement.noUiSlider.on(\n        'change',\n        this.handleChange\n      );\n    }\n\n    // update component inner state\n    this.state = state;\n\n    // update the slider state\n    const {\n      range: { min, max },\n      start,\n    } = state;\n\n    const disabled = min === max;\n    const range = disabled ? { min, max: max + 0.0001 } : { min, max };\n\n    this.slider.updateOptions({ disabled, range, start });\n  };\n\n  public handleChange = (values: string[] | number[]) => {\n    this.state.refine(values);\n  };\n\n  public formatTooltip = (value: number) => {\n    return value.toFixed(parseNumberInput(this.precision));\n  };\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisRangeSlider } from './range-slider';\n\n@NgModule({\n  declarations: [NgAisRangeSlider],\n  entryComponents: [NgAisRangeSlider],\n  exports: [NgAisRangeSlider],\n  imports: [CommonModule],\n})\nexport class NgAisRangeSliderModule {}\n","import { Component, Input, Inject, forwardRef } from '@angular/core';\nimport { connectRefinementList } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport {\n  NgAisInstantSearch,\n  FacetSortByStringOptions,\n} from '../instantsearch/instantsearch';\nimport { noop, parseNumberInput } from '../utils';\n\nexport type RefinementListItem = {\n  value: string;\n  label: string;\n  count: number;\n  isRefined: boolean;\n};\n\nexport type RefinementListState = {\n  canRefine: boolean;\n  canToggleShowMore: boolean;\n  createURL: Function;\n  isShowingMore: boolean;\n  items: RefinementListItem[];\n  refine: Function;\n  toggleShowMore: Function;\n  searchForItems: Function;\n  isFormSearch: boolean;\n};\n\n@Component({\n  selector: 'ais-refinement-list',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <div\n        *ngIf=\"searchable\"\n        [class]=\"cx('searchBox')\"\n      >\n        <ais-facets-search\n          [search]=\"state.searchForItems\"\n          [searchPlaceholder]=\"searchPlaceholder\"\n        >\n        </ais-facets-search>\n      </div>\n\n      <ul [class]=\"cx('list')\">\n        <li\n          [class]=\"getItemClass(item)\"\n          *ngFor=\"let item of state.items\"\n          (click)=\"refine($event, item)\"\n        >\n          <label [class]=\"cx('label')\">\n            <input\n              [class]=\"cx('checkbox')\"\n              type=\"checkbox\"\n              value=\"{{item.value}}\"\n              [checked]=\"item.isRefined\"\n            />\n            <span [class]=\"cx('labelText')\">\n              <ais-highlight attribute=\"highlighted\" [hit]=\"item\"></ais-highlight>\n            </span>\n            <span [class]=\"cx('count')\">{{item.count}}</span>\n          </label>\n        </li>\n      </ul>\n\n      <button\n        [class]=\"cx('showMore')\"\n        *ngIf=\"showMore\"\n        (click)=\"state.toggleShowMore()\"\n        [disabled]=\"!state.canToggleShowMore\"\n      >\n        {{state.isShowingMore ? showLessLabel : showMoreLabel}}\n      </button>\n    </div>\n  `,\n})\nexport class NgAisRefinementList extends BaseWidget {\n  // rendering options\n  @Input() public showMoreLabel: string = 'Show more';\n  @Input() public showLessLabel: string = 'Show less';\n  @Input() public searchable?: boolean;\n  @Input() public searchPlaceholder: string = 'Search here...';\n\n  // instance options\n  @Input() public attribute: string;\n  @Input() public operator: 'or' | 'and';\n  @Input() public limit: number;\n  @Input() public showMore: boolean;\n  @Input() public showMoreLimit: number;\n  @Input()\n  public sortBy:\n    | FacetSortByStringOptions[]\n    | ((a: RefinementListItem, b: RefinementListItem) => number);\n  @Input()\n  public transformItems?: <U extends RefinementListItem>(\n    items: RefinementListItem[]\n  ) => U[];\n\n  public state: RefinementListState = {\n    canRefine: false,\n    canToggleShowMore: false,\n    createURL: noop,\n    isShowingMore: false,\n    items: [],\n    refine: noop,\n    toggleShowMore: noop,\n    searchForItems: noop,\n    isFormSearch: false,\n  };\n\n  get isHidden() {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('RefinementList');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectRefinementList, {\n      showMore: this.showMore,\n      limit: parseNumberInput(this.limit),\n      showMoreLimit: parseNumberInput(this.showMoreLimit),\n      attribute: this.attribute,\n      operator: this.operator,\n      sortBy: this.sortBy,\n      escapeFacetValues: true,\n      transformItems: this.transformItems,\n    });\n\n    super.ngOnInit();\n  }\n\n  public refine(\n    event: MouseEvent,\n    item: { isRefined: boolean; value: string }\n  ) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this.state.canRefine) {\n      // update UI directly, it will update the checkbox state\n      item.isRefined = !item.isRefined;\n\n      // refine through Algolia API\n      this.state.refine(item.value);\n    }\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { bem } from '../utils';\n\n@Component({\n  selector: 'ais-facets-search',\n  template: `\n    <div [class]=\"cx()\">\n      <form\n        [class]=\"cx('form')\"\n        (submit)=\"handleSubmit($event)\"\n        novalidate\n      >\n        <input\n          [class]=\"cx('input')\"\n          autocapitalize=\"off\"\n          autocorrect=\"off\"\n          placeholder=\"{{searchPlaceholder}}\"\n          role=\"textbox\"\n          spellcheck=\"false\"\n          type=\"text\"\n          [value]=\"searchQuery\"\n          (input)=\"handleChange($event.target.value)\"\n        />\n\n        <button\n          [class]=\"cx('submit')\"\n          title=\"Submit the search query.\"\n          type=\"submit\"\n        >\n          <svg\n            [ngClass]=\"cx('submitIcon')\"\n            viewBox=\"0 0 40 40\"\n            width=\"10\"\n            height=\"10\"\n          >\n            <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n          </svg>\n        </button>\n\n        <button\n          [class]=\"cx('reset')\"\n          type=\"reset\"\n          title=\"Clear the search query.\"\n          hidden\n        >\n          <svg\n            [ngClass]=\"cx('resetIcon')\"\n            viewBox=\"0 0 20 20\"\n            width=\"10\"\n            height=\"10\"\n          >\n            <path d=\"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z\"></path>\n          </svg>\n        </button>\n      </form>\n    </div>\n  `,\n})\nexport class NgAisFacetsSearch {\n  @Input() public searchPlaceholder: string;\n  @Input() public search: Function;\n\n  public cx = bem('SearchBox');\n\n  public searchQuery = '';\n\n  public handleChange(value: string) {\n    this.searchQuery = value;\n    this.search(value);\n  }\n\n  public handleSubmit(event) {\n    event.preventDefault();\n    this.search(this.searchQuery);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisHighlightModule } from '../highlight/highlight.module';\nimport { NgAisRefinementList } from './refinement-list';\nimport { NgAisFacetsSearch } from './facets-search';\n\n@NgModule({\n  declarations: [NgAisRefinementList, NgAisFacetsSearch],\n  entryComponents: [NgAisRefinementList],\n  exports: [NgAisRefinementList],\n  imports: [CommonModule, NgAisHighlightModule],\n})\nexport class NgAisRefinementListModule {}\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  Inject,\n  forwardRef,\n  ViewChild,\n  AfterViewInit,\n  ElementRef,\n} from '@angular/core';\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { noop } from '../utils';\n\n@Component({\n  selector: 'ais-search-box',\n  template: `\n    <div [class]=\"cx()\">\n      <form\n        [class]=\"cx('form')\"\n        novalidate\n        (submit)=\"handleSubmit($event)\"\n      >\n        <input\n          [class]=\"cx('input')\"\n          autocapitalize=\"off\"\n          autocorrect=\"off\"\n          placeholder=\"{{placeholder}}\"\n          role=\"textbox\"\n          spellcheck=\"false\"\n          type=\"text\"\n          [value]=\"state.query\"\n          (input)=\"handleChange($event.target.value)\"\n          (focus)=\"focus.emit($event)\"\n          (blur)=\"blur.emit($event)\"\n          #searchBox\n        />\n\n        <button\n          [class]=\"cx('submit')\"\n          type=\"submit\"\n          title=\"{{submitTitle}}\"\n        >\n          <svg\n            [ngClass]=\"cx('submitIcon')\"\n            viewBox=\"0 0 40 40\"\n            width=\"40\"\n            height=\"40\"\n          >\n            <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n          </svg>\n        </button>\n\n        <button\n          [class]=\"cx('reset')\"\n          type=\"reset\"\n          title=\"{{resetTitle}}\"\n          (click)=\"handleReset($event)\"\n          [hidden]=\"!state.query || (state.query && !state.query.trim())\">\n          <svg\n            [ngClass]=\"cx('resetIcon')\"\n            viewBox=\"0 0 20 20\"\n            width=\"20\"\n            height=\"20\"\n          >\n            <path d=\"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z\"></path>\n          </svg>\n        </button>\n      </form>\n    </div>\n  `,\n})\nexport class NgAisSearchBox extends BaseWidget implements AfterViewInit {\n  @ViewChild('searchBox') searchBox: ElementRef;\n  @Input() public placeholder: string = 'Search';\n  @Input() public submitTitle: string = 'Submit';\n  @Input() public resetTitle: string = 'Reset';\n  @Input() public searchAsYouType: boolean = true;\n  @Input() public autofocus: boolean = false;\n\n  // Output events\n  // form\n  @Output() submit = new EventEmitter();\n  @Output() reset = new EventEmitter();\n\n  // input\n  @Output() change = new EventEmitter();\n  @Output() focus = new EventEmitter();\n  @Output() blur = new EventEmitter();\n\n  public state = {\n    query: '',\n    refine: noop,\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('SearchBox');\n    this.createWidget(connectSearchBox);\n  }\n\n  public ngAfterViewInit() {\n    if (this.autofocus) {\n      this.searchBox.nativeElement.focus();\n    }\n  }\n\n  public handleChange(query: string) {\n    this.change.emit(query);\n    if (this.searchAsYouType) {\n      this.state.refine(query);\n    }\n  }\n\n  public handleSubmit(event: Event) {\n    // send submit event to parent component\n    this.submit.emit(event);\n\n    event.preventDefault();\n\n    if (!this.searchAsYouType) {\n      this.state.refine(this.searchBox.nativeElement.value);\n    }\n  }\n\n  public handleReset(event: MouseEvent) {\n    // send reset event to parent component\n    this.reset.emit(event);\n\n    // reset search\n    this.state.refine('');\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisSearchBox } from './search-box';\n\n@NgModule({\n  declarations: [NgAisSearchBox],\n  entryComponents: [NgAisSearchBox],\n  exports: [NgAisSearchBox],\n  imports: [CommonModule],\n})\nexport class NgAisSearchBoxModule {}\n","import { Component, Input, Inject, forwardRef } from '@angular/core';\n\nimport { connectSortBy } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { noop } from '../utils';\n\nexport type SortByItem = {\n  value: string;\n  label: string;\n};\n\nexport type SortByState = {\n  currentRefinement: string | null;\n  options: SortByItem[];\n  refine: Function;\n  // TODO: add hasNoResults: boolean;\n};\n\n@Component({\n  selector: 'ais-sort-by',\n  template: `\n    <div [class]=\"cx()\">\n      <select\n        [class]=\"cx('select')\"\n        (change)=\"state.refine($event.target.value)\"\n      >\n        <option\n          [class]=\"cx('option')\"\n          *ngFor=\"let item of state.options\"\n          [value]=\"item.value\"\n          [selected]=\"item.value === state.currentRefinement\"\n        >\n          {{item.label}}\n        </option>\n      </select>\n    </div>\n  `,\n})\nexport class NgAisSortBy extends BaseWidget {\n  @Input() public items: SortByItem[];\n  @Input()\n  public transformItems?: <U extends SortByItem>(items: SortByItem[]) => U[];\n\n  public state: SortByState = {\n    currentRefinement: null,\n    options: [],\n    refine: noop,\n    // TODO: Add hasNoResults: null,\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('SortBy');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectSortBy, {\n      items: this.items,\n      transformItems: this.transformItems,\n    });\n    super.ngOnInit();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisSortBy } from './sort-by';\n\n@NgModule({\n  declarations: [NgAisSortBy],\n  entryComponents: [NgAisSortBy],\n  exports: [NgAisSortBy],\n  imports: [CommonModule],\n})\nexport class NgAisSortByModule {}\n","import { Component, Input, Inject, forwardRef } from '@angular/core';\n\nimport { connectRatingMenu } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { noop, parseNumberInput } from '../utils';\n\nexport type RatingMenuItem = {\n  count: number;\n  isRefined: boolean;\n  name: string;\n  value: string;\n  stars: boolean[];\n};\n\nexport type RatingMenuState = {\n  createURL: Function;\n  hasNoResults: boolean;\n  items: RatingMenuItem[];\n  refine: Function;\n};\n\n@Component({\n  selector: 'ais-rating-menu',\n  template: `\n    <div\n      [ngClass]=\"[\n        cx(),\n        state.items.length === 0 ? cx('', 'noRefinement') : ''\n      ]\"\n      *ngIf=\"!isHidden\"\n    >\n      <svg style=\"display:none;\">\n        <symbol\n          id=\"ais-StarRating-starSymbol\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path d=\"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z\"/>\n        </symbol>\n        <symbol\n          id=\"ais-StarRating-starEmptySymbol\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path d=\"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z\"/>\n        </symbol>\n      </svg>\n\n      <ul [class]=\"cx('list')\">\n        <li\n          *ngFor=\"let item of state.items\"\n          [class]=\"getItemClass(item)\"\n          (click)=\"handleClick($event, item.value)\"\n        >\n          <a\n            href=\"{{state.createURL(item.value)}}\"\n            [class]=\"cx('link')\"\n            (click)=\"handleClick($event, item.value)\"\n          >\n            <svg\n              width=\"24\"\n              height=\"24\"\n              *ngFor=\"let star of item.stars\"\n              [ngClass]=\"cx('starIcon') + ' ' + (star ? cx('starIcon', 'full') : cx('starIcon', 'empty'))\"\n              aria-hidden=\"true\"\n            >\n              <use\n                *ngIf=\"star\"\n                xlink:href=\"#ais-StarRating-starSymbol\"\n              >\n              </use>\n\n              <use\n                *ngIf=\"!star\"\n                xlink:href=\"#ais-StarRating-starEmptySymbol\"\n              >\n              </use>\n            </svg>\n\n            <span [class]=\"cx('label')\" aria-hidden=\"true\">{{andUpLabel}}</span>\n            <span [class]=\"cx('count')\">{{item.count}}</span>\n          </a>\n        </li>\n      </ul>\n    </div>\n  `,\n})\nexport class NgAisRatingMenu extends BaseWidget {\n  // rendering options\n  @Input() public andUpLabel: string = '& Up';\n\n  // instance options\n  @Input() public attribute: string;\n  @Input() public max?: number;\n\n  public state: RatingMenuState = {\n    createURL: noop,\n    hasNoResults: false,\n    items: [],\n    refine: noop,\n  };\n\n  get isHidden() {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('RatingMenu');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectRatingMenu, {\n      attribute: this.attribute,\n      max: parseNumberInput(this.max),\n    });\n    super.ngOnInit();\n  }\n\n  public handleClick(event: MouseEvent, value: string) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.state.refine(value);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisRatingMenu } from './rating-menu';\n\n@NgModule({\n  declarations: [NgAisRatingMenu],\n  entryComponents: [NgAisRatingMenu],\n  exports: [NgAisRatingMenu],\n  imports: [CommonModule],\n})\nexport class NgAisRatingMenuModule {}\n","import {\n  Component,\n  ContentChild,\n  TemplateRef,\n  Inject,\n  forwardRef,\n} from '@angular/core';\n\nimport { connectStats } from 'instantsearch.js/es/connectors';\n\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\n\n@Component({\n  selector: 'ais-stats',\n  template: `\n    <div [class]=\"cx()\">\n      <ng-container *ngTemplateOutlet=\"template; context: templateContext\">\n      </ng-container>\n\n      <span *ngIf=\"!template\" [class]=\"cx('text')\">\n        {{state.nbHits}} results found in {{state.processingTimeMS}}ms.\n      </span>\n    </div>\n  `,\n})\nexport class NgAisStats extends BaseWidget {\n  @ContentChild(TemplateRef) public template: any;\n\n  public state = {\n    hitPerPage: 0,\n    nbHits: 0,\n    nbPages: 0,\n    page: 0,\n    processingTimeMS: 0,\n    query: '',\n  };\n\n  get templateContext() {\n    return { state: this.state };\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('Stats');\n    this.createWidget(connectStats);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisStats } from './stats';\n\n@NgModule({\n  declarations: [NgAisStats],\n  entryComponents: [NgAisStats],\n  exports: [NgAisStats],\n  imports: [CommonModule],\n})\nexport class NgAisStatsModule {}\n","import { Component, Input, Inject, forwardRef } from '@angular/core';\n\nimport { connectToggleRefinement } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { noop } from '../utils';\n\nexport type ToggleState = {\n  createURL: Function;\n  refine: Function;\n  value: {\n    name?: string;\n    count?: number;\n    isRefined?: boolean;\n    onFacetValue?: {\n      isRefined: boolean;\n      count: number;\n    };\n    offFacetValue?: {\n      isRefined: boolean;\n      count: number;\n    };\n  };\n};\n\n@Component({\n  selector: 'ais-toggle',\n  template: `\n    <div [class]=\"cx()\">\n      <label [class]=\"cx('label')\">\n        <input\n          [class]=\"cx('checkbox')\"\n          type=\"checkbox\"\n          value=\"{{state.value.name}}\"\n          [checked]=\"state.value.isRefined\"\n          (change)=\"handleChange($event)\"\n        />\n\n        <span [class]=\"cx('labelText')\">\n          {{label || state.value.name}}\n        </span>\n\n        <span [class]=\"cx('count')\">{{state.value.count}}</span>\n      </label>\n    </div>\n  `,\n})\nexport class NgAisToggle extends BaseWidget {\n  // rendering options\n  @Input() public label: string;\n\n  // instance options\n  @Input() public attribute: string;\n  @Input() public on?: boolean | number | string;\n  @Input() public off?: boolean | number | string;\n\n  public state: ToggleState = {\n    createURL: noop,\n    refine: noop,\n    value: {},\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('ToggleRefinement');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectToggleRefinement, {\n      attribute: this.attribute,\n      on: this.on,\n      off: this.off,\n    });\n    super.ngOnInit();\n  }\n\n  public handleChange(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.state.refine(this.state.value);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisToggle } from './toggle';\n\n@NgModule({\n  declarations: [NgAisToggle],\n  entryComponents: [NgAisToggle],\n  exports: [NgAisToggle],\n  imports: [CommonModule],\n})\nexport class NgAisToggleModule {}\n","import { Inject, Component, Input, forwardRef } from '@angular/core';\n\nimport { connectRange } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { parseNumberInput, noop } from '../utils';\n\nexport type NumericRangeState = {\n  start: number[];\n  range: { min?: number; max?: number };\n  refine: Function;\n};\n\n@Component({\n  selector: 'ais-range-input',\n  template: `\n    <div [ngClass]=\"[\n        cx(), \n        !canRefine ? cx('', 'noRefinement') : ''\n      ]\">\n      <form\n        [class]=\"cx('form')\"\n        (submit)=\"handleSubmit($event)\"\n        novalidate\n      >\n        <label [class]=\"cx('label')\">\n          <span [class]=\"cx('currency')\">{{currency}}</span>\n          <input\n            [ngClass]=\"[\n              cx('input'),\n              cx('input', 'min')\n            ]\"\n            type=\"number\"\n            [min]=\"state.range.min\"\n            [max]=\"state.range.max\"\n            [placeholder]=\"state.range.min\"\n            [value]=\"minInputValue\"\n            [step]=\"step\"\n            (change)=\"handleChange($event, 'min')\"\n          />\n        </label>\n\n        <span [class]=\"cx('separator')\">{{separator}}</span>\n\n        <label [class]=\"cx('label')\">\n          <span [class]=\"cx('currency')\">{{currency}}</span>\n          <input\n            [ngClass]=\"[\n              cx('input'),\n              cx('input', 'max')\n            ]\"\n            type=\"number\"\n            [min]=\"state.range.min\"\n            [max]=\"state.range.max\"\n            [placeholder]=\"state.range.max\"\n            [value]=\"maxInputValue\"\n            [step]=\"step\"\n            (change)=\"handleChange($event, 'max')\"\n          />\n        </label>\n\n        <button\n          [class]=\"cx('submit')\"\n          (click)=\"handleSubmit($event)\"\n        >\n          {{submitLabel}}\n        </button>\n      </form>\n    </div>\n  `,\n})\nexport class NgAisRangeInput extends BaseWidget {\n  // rendering options\n  @Input() public currency: string = '$';\n  @Input() public separator: string = 'to';\n  @Input() public submitLabel: string = 'Go';\n\n  // instance options\n  @Input() public attribute: string;\n  @Input() public min?: number;\n  @Input() public max?: number;\n  @Input() public precision?: number = 0;\n\n  // inner state\n  public minInputValue?: number | string = '';\n  public maxInputValue?: number | string = '';\n\n  get step() {\n    const precision = parseNumberInput(this.precision);\n    return 1 / Math.pow(10, precision);\n  }\n\n  get canRefine() {\n    return this.state.range.min !== this.state.range.max;\n  }\n\n  public state: NumericRangeState = {\n    range: { min: undefined, max: undefined },\n    refine: noop,\n    start: [0, 0],\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('RangeInput');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectRange, {\n      attribute: this.attribute,\n      max: parseNumberInput(this.max),\n      min: parseNumberInput(this.min),\n      precision: parseNumberInput(this.precision),\n    });\n\n    super.ngOnInit();\n  }\n\n  public handleChange(event: any, type: string) {\n    const value = parseNumberInput(event.target.value);\n\n    if (type === 'min') {\n      this.minInputValue = value;\n    } else {\n      this.maxInputValue = value;\n    }\n  }\n\n  public handleSubmit(event: MouseEvent | KeyboardEvent) {\n    event.preventDefault();\n    this.state.refine([this.minInputValue, this.maxInputValue]);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisRangeInput } from './range-input';\n\n@NgModule({\n  declarations: [NgAisRangeInput],\n  entryComponents: [NgAisRangeInput],\n  exports: [NgAisRangeInput],\n  imports: [CommonModule],\n})\nexport class NgAisRangeInputModule {}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'ais-panel',\n  template: `\n    <div class=\"ais-Panel\">\n      <div *ngIf=\"header\" class=\"ais-Panel-header\">\n        {{header}}\n      </div>\n\n      <div class=\"ais-Panel-body\">\n        <ng-content></ng-content>\n      </div>\n\n      <div *ngIf=\"footer\" class=\"ais-Panel-footer\">\n        {{footer}}\n      </div>\n    </div>\n  `,\n})\nexport class NgAisPanel {\n  @Input() public header?: string;\n  @Input() public footer?: string;\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisPanel } from './panel';\nexport { NgAisPanel } from './panel';\n\n@NgModule({\n  declarations: [NgAisPanel],\n  entryComponents: [NgAisPanel],\n  exports: [NgAisPanel],\n  imports: [CommonModule],\n})\nexport class NgAisPanelModule {}\n","import {\n  Component,\n  Input,\n  Inject,\n  forwardRef,\n  KeyValueDiffer,\n  KeyValueDiffers,\n} from '@angular/core';\n\nimport { connectConfigure } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport {\n  NgAisInstantSearch,\n  SearchParameters,\n} from '../instantsearch/instantsearch';\nimport { noop } from '../utils';\n\nexport type ConfigureState = {\n  refine: Function;\n};\n\n@Component({\n  selector: 'ais-configure',\n  template: '',\n})\nexport class NgAisConfigure extends BaseWidget {\n  // instance options\n  private internalSearchParameters: SearchParameters;\n\n  private differ: KeyValueDiffer<string, any>; // SearchParameters (I don't know how to get the values of the type)\n\n  public state: ConfigureState = {\n    refine: noop,\n  };\n\n  constructor(\n    private differs: KeyValueDiffers,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('Configure');\n  }\n\n  @Input()\n  set searchParameters(values: SearchParameters) {\n    this.internalSearchParameters = values;\n    if (!this.differ && values) {\n      this.differ = this.differs.find(values).create();\n    }\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectConfigure, {\n      searchParameters: this.internalSearchParameters,\n    });\n    super.ngOnInit();\n  }\n\n  ngDoCheck() {\n    if (this.differ) {\n      const changes = this.differ.diff(this.internalSearchParameters);\n      if (changes) {\n        this.state.refine(this.internalSearchParameters);\n      }\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisConfigure } from './configure';\n\n@NgModule({\n  declarations: [NgAisConfigure],\n  entryComponents: [NgAisConfigure],\n  exports: [NgAisConfigure],\n  imports: [CommonModule],\n})\nexport class NgAisConfigureModule {}\n","import {\n  Component,\n  ContentChild,\n  TemplateRef,\n  Inject,\n  forwardRef,\n  Input,\n} from '@angular/core';\n\nimport { connectQueryRules } from 'instantsearch.js/es/connectors';\n\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\n\n@Component({\n  selector: 'ais-query-rule-custom-data',\n  template: `\n    <div [class]=\"cx()\">\n      <ng-container *ngTemplateOutlet=\"template; context: templateContext\">\n      </ng-container>\n\n      <div *ngIf=\"!template\">\n        <div *ngFor=\"let item of state.items\">\n          <pre>{{ item | json }}</pre>\n        </div>\n      </div>\n    </div>\n  `,\n})\nexport class NgAisQueryRuleCustomData extends BaseWidget {\n  @ContentChild(TemplateRef) public template: any;\n\n  @Input() public transformItems?: (items: any[]) => any[];\n\n  public state = {\n    items: [],\n  };\n\n  get templateContext() {\n    return {\n      items: this.state.items,\n    };\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('QueryRuleCustomData');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectQueryRules, {\n      transformItems: this.transformItems,\n    });\n\n    super.ngOnInit();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisQueryRuleCustomData } from './query-rule-custom-data';\n\n@NgModule({\n  declarations: [NgAisQueryRuleCustomData],\n  entryComponents: [NgAisQueryRuleCustomData],\n  exports: [NgAisQueryRuleCustomData],\n  imports: [CommonModule],\n})\nexport class NgAisQueryRuleCustomDataModule {}\n","import { Component, Input, Inject, forwardRef } from '@angular/core';\n\nimport { connectQueryRules } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\n\ntype FacetValue = string | number | boolean;\n\n@Component({\n  selector: 'ais-query-rule-context',\n  template: '',\n})\nexport class NgAisQueryRuleContext extends BaseWidget {\n  @Input()\n  public trackedFilters: {\n    [facetName: string]: (facetValues: FacetValue[]) => FacetValue[];\n  };\n  @Input() public transformRuleContexts?: (items: string[]) => string[];\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any\n  ) {\n    super('QueryRuleContext');\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectQueryRules, {\n      trackedFilters: this.trackedFilters,\n      transformRuleContexts: this.transformRuleContexts,\n    });\n\n    super.ngOnInit();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisQueryRuleContext } from './query-rule-context';\n\n@NgModule({\n  declarations: [NgAisQueryRuleContext],\n  entryComponents: [NgAisQueryRuleContext],\n  exports: [NgAisQueryRuleContext],\n  imports: [CommonModule],\n})\nexport class NgAisQueryRuleContextModule {}\n","import {\n  Component,\n  Input,\n  Inject,\n  forwardRef,\n  NgZone,\n  ContentChild,\n  ElementRef,\n  TemplateRef,\n  OnInit,\n} from '@angular/core';\n\nimport { connectVoiceSearch } from 'instantsearch.js/es/connectors';\nimport { BaseWidget } from '../base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { noop } from '../utils';\n\ntype Status =\n  | 'initial'\n  | 'askingPermission'\n  | 'waiting'\n  | 'recognizing'\n  | 'finished'\n  | 'error';\n\ntype ErrorCode =\n  | 'no-speech'\n  | 'aborted'\n  | 'audio-capture'\n  | 'network'\n  | 'not-allowed'\n  | 'service-not-allowed'\n  | 'bad-grammar'\n  | 'language-not-supported';\n\ntype TemplateContext = {\n  status: Status;\n  transcript: string;\n  isSpeechFinal: boolean;\n  errorCode?: ErrorCode;\n  isBrowserSupported: boolean;\n  isListening: boolean;\n};\n\ntype VoiceListeningState = {\n  status: Status;\n  transcript: string;\n  isSpeechFinal: boolean;\n  errorCode?: ErrorCode;\n};\n\ntype State = {\n  isBrowserSupported: boolean;\n  isListening: boolean;\n  toggleListening: () => void;\n  voiceListeningState: VoiceListeningState;\n  templateContext: TemplateContext;\n};\n\n@Component({\n  selector: 'ais-voice-search',\n  template: `\n    <div [class]=\"cx()\">\n      <button\n        type=\"button\"\n        [class]=\"cx('button')\"\n        [title]=\"state.isBrowserSupported ? buttonTitle : disabledButtonTitle\"\n        [disabled]=\"!state.isBrowserSupported\"\n        (click)=\"handleClick($event)\"\n      >\n        <ng-container *ngTemplateOutlet=\"button ? button : defaultButton; context: state.templateContext\"></ng-container>\n      </button>\n      <div [class]=\"cx('status')\">\n        <ng-container *ngTemplateOutlet=\"status ? status : defaultStatus; context: state.templateContext\"></ng-container>\n      </div>\n    </div>\n\n    <ng-template #defaultButton let-status=\"status\" let-errorCode=\"errorCode\" let-isListening=\"isListening\">\n      <svg\n        xmlns='http://www.w3.org/2000/svg'\n        width='16'\n        height='16'\n        viewBox='0 0 24 24'\n        fill='none'\n        stroke='currentColor'\n        strokeWidth='2'\n        strokeLinecap='round'\n        strokeLinejoin='round'\n      >\n        <ng-container *ngIf=\"isNotAllowedError(); then errorSvgContent else normalSvgContent\">\n        </ng-container>\n        <ng-template #errorSvgContent>\n          <line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\"></line>\n          <path d=\"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6\"></path>\n          <path d=\"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23\"></path>\n          <line x1=\"12\" y1=\"19\" x2=\"12\" y2=\"23\"></line>\n          <line x1=\"8\" y1=\"23\" x2=\"16\" y2=\"23\"></line>\n        </ng-template>\n        <ng-template #normalSvgContent>\n          <path\n            d=\"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z\"\n            [attr.fill]=\"isListening ? 'currentColor' : 'none'\"\n          ></path>\n          <path d=\"M19 10v2a7 7 0 0 1-14 0v-2\"></path>\n          <line x1=\"12\" y1=\"19\" x2=\"12\" y2=\"23\"></line>\n          <line x1=\"8\" y1=\"23\" x2=\"16\" y2=\"23\"></line>\n        </ng-template>\n      </svg>\n    </ng-template>\n    <ng-template #defaultStatus let-transcript=\"transcript\">\n      <p>{{transcript}}</p>\n    </ng-template>\n  `,\n})\nexport class NgAisVoiceSearch extends BaseWidget implements OnInit {\n  @ContentChild('button') button: TemplateRef<ElementRef>;\n  @ContentChild('status') status: TemplateRef<ElementRef>;\n\n  @Input() public searchAsYouSpeak?: boolean;\n  @Input() public buttonTitle: string = 'Search by voice';\n  @Input()\n  public disabledButtonTitle: string =\n    'Search by voice (not supported on this browser)';\n\n  public state: State = {\n    isBrowserSupported: undefined,\n    isListening: undefined,\n    toggleListening: noop,\n    voiceListeningState: {\n      status: 'initial',\n      transcript: '',\n      isSpeechFinal: false,\n      errorCode: undefined,\n    },\n    templateContext: {\n      status: 'initial',\n      errorCode: undefined,\n      transcript: '',\n      isSpeechFinal: false,\n      isListening: false,\n      isBrowserSupported: false,\n    },\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchParent: any,\n    private zone: NgZone\n  ) {\n    super('VoiceSearch');\n  }\n\n  ngOnInit() {\n    this.createWidget(connectVoiceSearch, {\n      searchAsYouSpeak: this.searchAsYouSpeak,\n    });\n    super.ngOnInit();\n  }\n\n  public handleClick = (event: MouseEvent): void => {\n    (event.currentTarget as HTMLElement).blur();\n    this.state.toggleListening();\n  };\n\n  public isNotAllowedError = (): boolean =>\n    this.state.voiceListeningState.status === 'error' &&\n    this.state.voiceListeningState.errorCode === 'not-allowed';\n\n  public updateState = (state: State): void => {\n    this.zone.run(() => {\n      this.state = {\n        ...state,\n        templateContext: {\n          status: state.voiceListeningState.status,\n          errorCode: state.voiceListeningState.errorCode,\n          transcript: state.voiceListeningState.transcript,\n          isSpeechFinal: state.voiceListeningState.isSpeechFinal,\n          isListening: state.isListening,\n          isBrowserSupported: state.isBrowserSupported,\n        },\n      };\n    });\n  };\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisVoiceSearch } from './voice-search';\n\n@NgModule({\n  declarations: [NgAisVoiceSearch],\n  entryComponents: [NgAisVoiceSearch],\n  exports: [NgAisVoiceSearch],\n  imports: [CommonModule],\n})\nexport class NgAisVoiceSearchModule {}\n","import * as algoliasearchProxy from 'algoliasearch';\nimport * as encodeProxy from 'querystring-es3/encode';\nimport { VERSION as AngularVersion } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { TransferState, StateKey } from '@angular/platform-browser';\nimport { VERSION } from './version';\n\ntype SSRSearchClientOptions = {\n  appId: string;\n  apiKey: string;\n  httpClient: HttpClient;\n  HttpHeaders: typeof HttpHeaders;\n  transferState: TransferState;\n  options?: object;\n  makeStateKey<T = void>(key: string): StateKey<T>;\n};\n\ntype RequestOptions = {\n  // Algolia only uses GET and POST methods for searching.\n  // See: https://www.algolia.com/doc/rest-api/search/#search-endpoints\n  method: 'GET' | 'POST';\n  headers: string;\n  body: string;\n};\n\nconst algoliasearch = algoliasearchProxy.default || algoliasearchProxy;\nconst encode = encodeProxy.default || encodeProxy;\n\nexport function createSSRSearchClient({\n  appId,\n  apiKey,\n  httpClient,\n  HttpHeaders,\n  transferState,\n  makeStateKey,\n  options = {},\n}: SSRSearchClientOptions) {\n  const searchClient = algoliasearch(appId, apiKey, options);\n\n  searchClient.addAlgoliaAgent(`angular (${AngularVersion.full})`);\n  searchClient.addAlgoliaAgent(`angular-instantsearch (${VERSION})`);\n  searchClient.addAlgoliaAgent(`angular-instantsearch-server (${VERSION})`);\n\n  (searchClient as any)._request = (\n    rawUrl: string,\n    options: RequestOptions\n  ) => {\n    let headers = new HttpHeaders();\n\n    headers = headers.set(\n      'content-type',\n      options.method === 'POST'\n        ? 'application/x-www-form-urlencoded'\n        : 'application/json'\n    );\n\n    headers = headers.set('accept', 'application/json');\n\n    const url =\n      rawUrl + (rawUrl.includes('?') ? '&' : '?') + encode(options.headers);\n\n    const transferStateKey = makeStateKey(`ngais(${options.body})`);\n\n    if (transferState.hasKey(transferStateKey)) {\n      const response = JSON.parse(\n        transferState.get(transferStateKey, JSON.stringify({}))\n      );\n\n      return Promise.resolve({\n        statusCode: response.status,\n        body: response.body,\n        headers: response.headers,\n      });\n    }\n\n    return new Promise((resolve, reject) => {\n      httpClient\n        .request(options.method, url, {\n          headers,\n          body: options.body,\n          observe: 'response',\n        })\n        .subscribe(\n          response => {\n            transferState.set(transferStateKey, JSON.stringify(response));\n\n            resolve({\n              statusCode: response.status,\n              body: response.body,\n              headers: response.headers,\n            });\n          },\n          response =>\n            reject({\n              statusCode: response.status,\n              body: response.body,\n              headers: response.headers,\n            })\n        );\n    });\n  };\n\n  return searchClient;\n}\n","import { AlgoliaSearchHelper } from 'algoliasearch-helper';\n\n// Transforms url query to SearchParameters\nexport function parseServerRequest(req: { url: string } | void) {\n  if (req && req.url && req.url.includes('?')) {\n    const query = req.url.split('?')[1];\n    return AlgoliaSearchHelper.getConfigurationFromQueryString(query);\n  }\n\n  return {};\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\n\n// Modules\nimport { NgAisBreadcrumbModule } from './breadcrumb/breadcrumb.module';\nexport { NgAisBreadcrumbModule };\nimport { NgAisClearRefinementsModule } from './clear-refinements/clear-refinements.module';\nexport { NgAisClearRefinementsModule };\nimport { NgAisCurrentRefinementsModule } from './current-refinements/current-refinements.module';\nexport { NgAisCurrentRefinementsModule };\nimport { NgAisHierarchicalMenuModule } from './hierarchical-menu/hierarchical-menu.module';\nexport { NgAisHierarchicalMenuModule };\nimport { NgAisHitsPerPageModule } from './hits-per-page/hits-per-page.module';\nexport { NgAisHitsPerPageModule };\nimport { NgAisHitsModule } from './hits/hits.module';\nexport { NgAisHitsModule };\nimport { NgAisInfiniteHitsModule } from './infinite-hits/infinite-hits.module';\nexport { NgAisInfiniteHitsModule };\nimport { NgAisInstantSearchModule } from './instantsearch/instantsearch.module';\nexport { NgAisInstantSearchModule };\nimport { NgAisMenuModule } from './menu/menu.module';\nexport { NgAisMenuModule };\nimport { NgAisNumericMenuModule } from './numeric-menu/numeric-menu.module';\nexport { NgAisNumericMenuModule };\nimport { NgAisPaginationModule } from './pagination/pagination.module';\nexport { NgAisPaginationModule };\nimport { NgAisRangeSliderModule } from './range-slider/range-slider.module';\nexport { NgAisRangeSliderModule };\nimport { NgAisRefinementListModule } from './refinement-list/refinement-list.module';\nexport { NgAisRefinementListModule };\nimport { NgAisSearchBoxModule } from './search-box/search-box.module';\nexport { NgAisSearchBoxModule };\nimport { NgAisSortByModule } from './sort-by/sort-by.module';\nexport { NgAisSortByModule };\nimport { NgAisRatingMenuModule } from './rating-menu/rating-menu.module';\nexport { NgAisRatingMenuModule };\nimport { NgAisStatsModule } from './stats/stats.module';\nexport { NgAisStatsModule };\nimport { NgAisToggleModule } from './toggle/toggle.module';\nexport { NgAisToggleModule };\nimport { NgAisHighlightModule } from './highlight/highlight.module';\nexport { NgAisHighlightModule };\nimport { NgAisRangeInputModule } from './range-input/range-input.module';\nexport { NgAisRangeInputModule };\nimport { NgAisPanelModule } from './panel/panel.module';\nexport { NgAisPanelModule };\nimport { NgAisConfigureModule } from './configure/configure.module';\nexport { NgAisConfigureModule };\nimport { NgAisQueryRuleCustomDataModule } from './query-rule-custom-data/query-rule-custom-data.module';\nexport { NgAisQueryRuleCustomDataModule };\nimport { NgAisQueryRuleContextModule } from './query-rule-context/query-rule-context.module';\nexport { NgAisQueryRuleContextModule };\nimport { NgAisVoiceSearchModule } from './voice-search/voice-search.module';\nexport { NgAisVoiceSearchModule };\n\n// Server-side rendering search client\nimport { createSSRSearchClient } from './create-ssr-search-client';\nexport { createSSRSearchClient };\n\nimport { parseServerRequest } from './parse-server-request';\nexport { parseServerRequest };\n\n// Custom widget with BaseWidget class\nimport { BaseWidget, Widget, Connector } from './base-widget';\nexport { BaseWidget, Widget, Connector };\n\nimport { NgAisInstantSearch } from './instantsearch/instantsearch';\nexport { NgAisInstantSearch };\n\nconst NGIS_MODULES = [\n  NgAisInstantSearchModule,\n  NgAisHitsModule,\n  NgAisSearchBoxModule,\n  NgAisClearRefinementsModule,\n  NgAisMenuModule,\n  NgAisPaginationModule,\n  NgAisRefinementListModule,\n  NgAisHitsPerPageModule,\n  NgAisSortByModule,\n  NgAisNumericMenuModule,\n  NgAisStatsModule,\n  NgAisToggleModule,\n  NgAisInfiniteHitsModule,\n  NgAisCurrentRefinementsModule,\n  NgAisHierarchicalMenuModule,\n  NgAisRatingMenuModule,\n  NgAisRangeSliderModule,\n  NgAisBreadcrumbModule,\n  NgAisHighlightModule,\n  NgAisRangeInputModule,\n  NgAisPanelModule,\n  NgAisConfigureModule,\n  NgAisQueryRuleCustomDataModule,\n  NgAisQueryRuleContextModule,\n  NgAisVoiceSearchModule,\n];\n\n@NgModule({\n  exports: NGIS_MODULES,\n  imports: [NgAisInstantSearchModule.forRoot()],\n})\nexport class NgAisRootModule {}\n\n@NgModule({ imports: NGIS_MODULES, exports: NGIS_MODULES })\nexport class NgAisModule {\n  public static forRoot(): ModuleWithProviders {\n    return { ngModule: NgAisRootModule };\n  }\n}\n"],"names":["isPlatformBrowser","Input","EventEmitter","AngularVersion","Component","Inject","PLATFORM_ID","Output","tslib_1.__extends","connectBreadcrumb","forwardRef","NgModule","CommonModule","connectClearRefinements","connectCurrentRefinements","connectHierarchicalMenu","connectHitsPerPage","connectHitsWithInsights","ContentChild","TemplateRef","connectInfiniteHitsWithInsights","connectMenu","connectNumericMenu","connectPagination","noUiSlider.create","connectRange","ViewChild","connectRefinementList","connectSearchBox","connectSortBy","connectRatingMenu","connectStats","connectToggleRefinement","connectConfigure","KeyValueDiffers","connectQueryRules","connectVoiceSearch","NgZone","algoliasearch","algoliasearchProxy.default","algoliasearchProxy","encodeProxy.default","AlgoliaSearchHelper"],"mappings":"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"}
