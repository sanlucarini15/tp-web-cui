{"version":3,"file":"angular-instantsearch.umd.js","sources":["../../node_modules/tslib/tslib.es6.js","../../src/utils.ts","../../src/typed-base-widget.ts","../../src/version.ts","../../src/instantsearch/instantsearch.ts","../../src/index-widget/index-widget.ts","../../src/breadcrumb/breadcrumb.ts","../../src/breadcrumb/breadcrumb.module.ts","../../src/clear-refinements/clear-refinements.ts","../../src/clear-refinements/clear-refinements.module.ts","../../src/current-refinements/current-refinements.ts","../../src/current-refinements/current-refinements.module.ts","../../src/hierarchical-menu/hierarchical-menu.ts","../../src/hierarchical-menu/hierarchical-menu-item.ts","../../src/hierarchical-menu/hierarchical-menu.module.ts","../../src/hits-per-page/hits-per-page.ts","../../src/hits-per-page/hits-per-page.module.ts","../../src/highlight/highlight.ts","../../src/highlight/highlight.module.ts","../../src/hits/hits.ts","../../src/hits/hits.module.ts","../../src/index-widget/index-widget.module.ts","../../src/infinite-hits/infinite-hits.ts","../../src/infinite-hits/infinite-hits.module.ts","../../src/instantsearch/instantsearch.module.ts","../../src/menu/menu.ts","../../src/menu/menu.module.ts","../../src/numeric-menu/numeric-menu.ts","../../src/numeric-menu/numeric-menu.module.ts","../../src/pagination/pagination.ts","../../src/pagination/pagination.module.ts","../../src/range-slider/range-slider.ts","../../src/range-slider/range-slider.module.ts","../../src/refinement-list/refinement-list.ts","../../src/refinement-list/facets-search.ts","../../src/refinement-list/refinement-list.module.ts","../../src/search-box/search-box.ts","../../src/search-box/search-box.module.ts","../../src/sort-by/sort-by.ts","../../src/sort-by/sort-by.module.ts","../../src/rating-menu/rating-menu.ts","../../src/rating-menu/rating-menu.module.ts","../../src/stats/stats.ts","../../src/stats/stats.module.ts","../../src/toggle/toggle.ts","../../src/toggle/toggle.module.ts","../../src/reverse-highlight/reverse-highlight.ts","../../src/reverse-highlight/reverse-highlight.module.ts","../../src/snippet/snippet.ts","../../src/snippet/snippet.module.ts","../../src/reverse-snippet/reverse-snippet.ts","../../src/reverse-snippet/reverse-snippet.module.ts","../../src/range-input/range-input.ts","../../src/range-input/range-input.module.ts","../../src/panel/panel.ts","../../src/panel/panel.module.ts","../../src/configure/configure.ts","../../src/configure/configure.module.ts","../../src/configure-related-items/configure-related-items.ts","../../src/configure-related-items/configure-related-items.module.ts","../../src/query-rule-custom-data/query-rule-custom-data.ts","../../src/query-rule-custom-data/query-rule-custom-data.module.ts","../../src/query-rule-context/query-rule-context.ts","../../src/query-rule-context/query-rule-context.module.ts","../../src/voice-search/voice-search.ts","../../src/voice-search/voice-search.module.ts","../../src/create-ssr-search-client.ts","../../src/base-widget.ts","../../src/index.ts","../../src/angular-instantsearch.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export function bem(widgetName: string) {\n  const cx = function(element?: string, subElement?: string) {\n    let cssClass = `ais-${widgetName}`;\n    if (element) {\n      cssClass += `-${element}`;\n    }\n    if (subElement) {\n      cssClass += `--${subElement}`;\n    }\n    return cssClass;\n  };\n  return cx;\n}\n\nexport function parseNumberInput(input?: number | string) {\n  return typeof input === 'string' ? parseInt(input, 10) : input;\n}\n\nexport function noop(...args: any[]): void {}\n\nexport function capitalize(s) {\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\n// See https://github.com/algolia/instantsearch.js/blob/9296022fecadfbf82f15e837c215a1356eac4bc5/src/lib/utils/range.ts\nexport function range({\n  start = 0,\n  end,\n  step = 1,\n}: {\n  start?: number;\n  end: number;\n  step?: number;\n}): number[] {\n  // We can't divide by 0 so we re-assign the step to 1 if it happens.\n  const limitStep = step === 0 ? 1 : step;\n\n  // In some cases the array to create has a decimal length.\n  // We therefore need to round the value.\n  // Example:\n  //   { start: 1, end: 5000, step: 500 }\n  //   => Array length = (5000 - 1) / 500 = 9.998\n  const arrayLength = Math.round((end - start) / limitStep);\n\n  return [...Array(arrayLength)].map(\n    (_, current) => start + current * limitStep\n  );\n}\n\n// See https://github.com/algolia/react-instantsearch/blob/86dfe8674d566124af55a8f044051d0062786c1a/packages/react-instantsearch-core/src/core/utils.ts#L138-L142\nexport function getPropertyByPath(object: object, path: string): any {\n  return path\n    .replace(/\\[(\\d+)]/g, '.$1')\n    .split('.')\n    .reduce((current, key) => (current ? current[key] : undefined), object);\n}\n","import { Input, OnDestroy, OnInit } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { bem, noop } from './utils';\nimport { NgAisInstantSearch } from './instantsearch/instantsearch';\nimport { NgAisIndex } from './index-widget/index-widget';\nimport {\n  Widget,\n  WidgetDescription,\n  Connector,\n  Unmounter,\n  Renderer,\n  UnknownWidgetParams,\n} from 'instantsearch.js/es/types';\n\nexport { Widget, Connector };\n\ntype AdditionalWidgetProperties = Partial<Widget<WidgetDescription>>;\n\nexport abstract class TypedBaseWidget<\n  TWidgetDescription extends WidgetDescription,\n  TConnectorParams extends UnknownWidgetParams\n> implements OnInit, OnDestroy {\n  @Input() public autoHideContainer?: boolean;\n\n  public widget?: Widget;\n  public state?: TWidgetDescription['renderState'];\n  public cx: ReturnType<typeof bem>;\n  public abstract instantSearchInstance: NgAisInstantSearch;\n  public abstract parentIndex?: NgAisIndex;\n\n  protected constructor(widgetName: string) {\n    this.cx = bem(widgetName);\n  }\n\n  get parent() {\n    if (this.parentIndex) {\n      return this.parentIndex;\n    }\n    return this.instantSearchInstance;\n  }\n\n  public createWidget(\n    connector: Connector<TWidgetDescription, TConnectorParams>,\n    options: TConnectorParams,\n    additionalWidgetProperties: AdditionalWidgetProperties = {}\n  ) {\n    this.widget = {\n      ...connector(this.updateState, noop as Unmounter)(options),\n      ...additionalWidgetProperties,\n    };\n  }\n\n  public ngOnInit() {\n    this.parent.addWidgets([this.widget]);\n  }\n\n  public ngOnDestroy() {\n    if (isPlatformBrowser(this.instantSearchInstance.platformId)) {\n      this.parent.removeWidgets([this.widget]);\n    }\n  }\n\n  public updateState: Renderer<\n    TWidgetDescription['renderState'],\n    TConnectorParams\n  > = (state, isFirstRendering) => {\n    if (isFirstRendering) {\n      Promise.resolve().then(() => {\n        this.state = state;\n      });\n    } else {\n      this.state = state;\n    }\n  };\n\n  /**\n   * Helper to generate class names for an item\n   * @param item element to generate a class name for\n   */\n  public getItemClass(item: { isRefined?: boolean }): string {\n    const className = this.cx('item');\n\n    if (item.isRefined) {\n      return `${className} ${this.cx('item', 'selected')}`;\n    }\n\n    return className;\n  }\n}\n","export const VERSION = '4.4.1';\n","import {\n  AfterViewInit,\n  Component,\n  Input,\n  OnInit,\n  OnDestroy,\n  Output,\n  EventEmitter,\n  Inject,\n  PLATFORM_ID,\n  VERSION as AngularVersion,\n} from '@angular/core';\n\nimport * as algoliasearchProxy from 'algoliasearch/lite';\nimport instantsearch from 'instantsearch.js/es';\n\nimport { Widget } from '../typed-base-widget';\nimport { VERSION } from '../version';\nimport { InstantSearchOptions, InstantSearch } from 'instantsearch.js/es/types';\nexport { SearchClient, Hit } from 'instantsearch.js/es/types';\nexport {\n  PlainSearchParameters as SearchParameters,\n} from 'algoliasearch-helper';\n\n// this is needed for different webpack/typescript configurations\nconst algoliasearch = algoliasearchProxy.default || algoliasearchProxy;\n\nexport type FacetSortByStringOptions =\n  | 'count'\n  | 'count:asc'\n  | 'count:desc'\n  | 'name'\n  | 'name:asc'\n  | 'name:desc'\n  | 'isRefined';\n\nexport type InstantSearchConfig = InstantSearchOptions;\nexport type InstantSearchInstance = InstantSearch;\n\n@Component({\n  selector: 'ais-instantsearch',\n  template: '<ng-content></ng-content>',\n})\nexport class NgAisInstantSearch implements AfterViewInit, OnInit, OnDestroy {\n  @Input() public config: InstantSearchConfig;\n  @Input() public instanceName: string = 'default';\n\n  @Output()\n  change: EventEmitter<{ results: {}; state: {} }> = new EventEmitter<{\n    results: {};\n    state: {};\n  }>();\n\n  public instantSearchInstance: InstantSearchInstance;\n\n  constructor(@Inject(PLATFORM_ID) public platformId: Object) {}\n\n  public ngOnInit() {\n    if (typeof this.config.searchClient.addAlgoliaAgent === 'function') {\n      this.config.searchClient.addAlgoliaAgent(\n        `angular (${AngularVersion.full})`\n      );\n      this.config.searchClient.addAlgoliaAgent(\n        `angular-instantsearch (${VERSION})`\n      );\n    }\n\n    this.instantSearchInstance = instantsearch(this.config);\n    this.instantSearchInstance.on('render', this.onRender);\n  }\n\n  public ngAfterViewInit() {\n    this.instantSearchInstance.start();\n  }\n\n  public ngOnDestroy() {\n    if (this.instantSearchInstance) {\n      this.instantSearchInstance.removeListener('render', this.onRender);\n      this.instantSearchInstance.dispose();\n    }\n  }\n\n  public addWidgets(widgets: Widget[]) {\n    this.instantSearchInstance.addWidgets(widgets);\n  }\n\n  public removeWidgets(widgets: Widget[]) {\n    this.instantSearchInstance.removeWidgets(widgets);\n  }\n\n  public refresh() {\n    this.instantSearchInstance.refresh();\n  }\n\n  onRender = () => {\n    this.change.emit({\n      results: this.instantSearchInstance.helper.lastResults,\n      state: this.instantSearchInstance.helper.state,\n    });\n  };\n}\n","import {\n  Component,\n  Input,\n  Inject,\n  forwardRef,\n  Optional,\n  SkipSelf,\n  OnInit,\n  OnDestroy,\n} from '@angular/core';\nimport { Widget } from 'instantsearch.js/es/types';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport indexWidget, {\n  IndexWidget,\n  IndexWidgetParams,\n} from 'instantsearch.js/es/widgets/index/index';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Component({\n  selector: 'ais-index',\n  template: `<ng-content></ng-content>`,\n})\nexport class NgAisIndex implements OnInit, OnDestroy {\n  @Input() public indexName: IndexWidgetParams['indexName'];\n  @Input() public indexId?: IndexWidgetParams['indexId'];\n\n  public widget?: IndexWidget;\n\n  constructor(\n    // public API does not include SkipSelf, but the index widget should accept parents, avoiding itself.\n    @SkipSelf()\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {}\n\n  get parent() {\n    if (this.parentIndex) {\n      return this.parentIndex;\n    }\n    return this.instantSearchInstance;\n  }\n\n  createWidget() {\n    this.widget = {\n      ...indexWidget({\n        indexName: this.indexName,\n        indexId: this.indexId,\n      }),\n      $$widgetType: 'ais.index',\n    };\n  }\n\n  public addWidgets(widgets: Widget[]) {\n    this.widget.addWidgets(widgets);\n  }\n\n  public removeWidgets(widgets: Widget[]) {\n    this.widget.removeWidgets(widgets);\n  }\n\n  ngOnInit() {\n    this.createWidget();\n    this.parent.addWidgets([this.widget]);\n  }\n  public ngOnDestroy() {\n    if (isPlatformBrowser(this.instantSearchInstance.platformId)) {\n      this.parent.removeWidgets([this.widget]);\n    }\n  }\n}\n","import { Component, Input, Inject, forwardRef, Optional } from '@angular/core';\nimport { connectBreadcrumb } from 'instantsearch.js/es/connectors';\nimport {\n  BreadcrumbConnectorParams,\n  BreadcrumbWidgetDescription,\n  BreadcrumbRenderState,\n  BreadcrumbConnectorParamsItem,\n} from 'instantsearch.js/es/connectors/breadcrumb/connectBreadcrumb';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop } from '../utils';\n\n@Component({\n  selector: 'ais-breadcrumb',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <ul [class]=\"cx('list')\">\n        <li\n          *ngFor=\"let item of items\"\n          [ngClass]=\"[cx('item'), item.isLast ? cx('item', 'selected') : '']\"\n          (click)=\"handleClick($event, item)\"\n        >\n          <span\n            *ngIf=\"item.separator\"\n            [class]=\"cx('separator')\"\n            aria-hidden=\"true\"\n          >\n            >\n          </span>\n          <a\n            [class]=\"cx('link')\"\n            href=\"{{state.createURL(item.value)}}\"\n            *ngIf=\"!item.isLast\"\n            (click)=\"handleClick($event, item)\"\n          >\n            {{item.label}}\n          </a>\n\n          <span *ngIf=\"item.isLast\">\n            {{item.label}}\n          </span>\n        </li>\n      </ul>\n    </div>\n  `,\n})\nexport class NgAisBreadcrumb extends TypedBaseWidget<\n  BreadcrumbWidgetDescription,\n  BreadcrumbConnectorParams\n> {\n  // instance options\n  @Input() public attributes: BreadcrumbConnectorParams['attributes'];\n  @Input() public rootPath?: BreadcrumbConnectorParams['rootPath'];\n  @Input() public separator?: BreadcrumbConnectorParams['separator'];\n  @Input() public transformItems?: BreadcrumbConnectorParams['transformItems'];\n\n  get isHidden() {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  get items() {\n    return this.state.items.map((item, idx) => ({\n      ...item,\n      separator: idx !== 0,\n      isLast: idx === this.state.items.length - 1,\n      // FIXME: get rid of this. We can use `last` local variable\n      // https://angular.io/api/common/NgForOf#local-variables\n    }));\n  }\n\n  public state: BreadcrumbRenderState = {\n    createURL: () => '#',\n    items: [],\n    refine: noop,\n    canRefine: false,\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('Breadcrumb');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectBreadcrumb,\n      {\n        attributes: this.attributes,\n        rootPath: this.rootPath,\n        separator: this.separator,\n        transformItems: this.transformItems,\n      },\n      {\n        $$widgetType: 'ais.breadcrumb',\n      }\n    );\n\n    super.ngOnInit();\n  }\n\n  public handleClick(\n    event: MouseEvent,\n    item: BreadcrumbConnectorParamsItem\n  ): void {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (item.value) {\n      this.state.refine(item.value);\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisBreadcrumb } from './breadcrumb';\n\n@NgModule({\n  declarations: [NgAisBreadcrumb],\n  entryComponents: [NgAisBreadcrumb],\n  exports: [NgAisBreadcrumb],\n  imports: [CommonModule],\n})\nexport class NgAisBreadcrumbModule {}\n","import { Component, Input, Inject, forwardRef, Optional } from '@angular/core';\nimport { connectClearRefinements } from 'instantsearch.js/es/connectors';\nimport {\n  ClearRefinementsConnectorParams,\n  ClearRefinementsWidgetDescription,\n  ClearRefinementsRenderState,\n} from 'instantsearch.js/es/connectors/clear-refinements/connectClearRefinements';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop } from '../utils';\n\n@Component({\n  selector: 'ais-clear-refinements',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <button\n        [class]=\"cx('button') + (!state.hasRefinements ? (' ' + cx('button', 'disabled')) : '')\"\n        (click)=\"handleClick($event)\"\n        [disabled]=\"!state.hasRefinements\"\n      >\n        {{resetLabel}}\n      </button>\n    </div>\n  `,\n})\nexport class NgAisClearRefinements extends TypedBaseWidget<\n  ClearRefinementsWidgetDescription,\n  ClearRefinementsConnectorParams\n> {\n  // rendering options\n  @Input() public resetLabel: string = 'Clear refinements';\n\n  // instance options\n  @Input()\n  public includedAttributes: ClearRefinementsConnectorParams['includedAttributes'];\n  @Input()\n  public excludedAttributes: ClearRefinementsConnectorParams['excludedAttributes'];\n  @Input()\n  public transformItems?: ClearRefinementsConnectorParams['transformItems'];\n\n  public state: ClearRefinementsRenderState = {\n    hasRefinements: false,\n    canRefine: false,\n    refine: noop,\n    createURL: () => '#',\n  };\n\n  get isHidden(): boolean {\n    return !this.state.hasRefinements && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('ClearRefinements');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectClearRefinements,\n      {\n        includedAttributes: this.includedAttributes,\n        excludedAttributes: this.excludedAttributes,\n        transformItems: this.transformItems,\n      },\n      {\n        $$widgetType: 'ais.clearRefinements',\n      }\n    );\n\n    super.ngOnInit();\n  }\n\n  public handleClick(event: MouseEvent) {\n    event.preventDefault();\n\n    if (this.state.hasRefinements) {\n      this.state.refine();\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisClearRefinements } from './clear-refinements';\n\n@NgModule({\n  declarations: [NgAisClearRefinements],\n  entryComponents: [NgAisClearRefinements],\n  exports: [NgAisClearRefinements],\n  imports: [CommonModule],\n})\nexport class NgAisClearRefinementsModule {}\n","import { Component, Input, Inject, forwardRef, Optional } from '@angular/core';\n\nimport { connectCurrentRefinements } from 'instantsearch.js/es/connectors';\nimport {\n  CurrentRefinementsConnectorParams,\n  CurrentRefinementsConnectorParamsRefinement,\n  CurrentRefinementsWidgetDescription,\n  CurrentRefinementsRenderState,\n} from 'instantsearch.js/es/connectors/current-refinements/connectCurrentRefinements';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop } from '../utils';\n\n@Component({\n  selector: 'ais-current-refinements',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <ul\n        [class]=\"cx('list')\"\n        *ngFor=\"let item of state.items\"\n      >\n        <li [class]=\"cx('item')\">\n          <span [class]=\"cx('label')\">{{item.label | titlecase}}:</span>\n\n          <span\n            [class]=\"cx('category')\"\n            *ngFor=\"let refinement of item.refinements\"\n          >\n            <span [class]=\"cx('categoryLabel')\">{{refinement.label}}</span>\n            <button [class]=\"cx('delete')\" (click)=\"handleClick($event, refinement)\">✕</button>\n          </span>\n        </li>\n      </ul>\n    </div>\n  `,\n})\nexport class NgAisCurrentRefinements extends TypedBaseWidget<\n  CurrentRefinementsWidgetDescription,\n  CurrentRefinementsConnectorParams\n> {\n  // instance options\n  @Input()\n  public includedAttributes?: CurrentRefinementsConnectorParams['includedAttributes'];\n  @Input()\n  public excludedAttributes?: CurrentRefinementsConnectorParams['excludedAttributes'];\n  @Input()\n  public transformItems?: CurrentRefinementsConnectorParams['transformItems'];\n\n  public state: CurrentRefinementsRenderState = {\n    createURL: () => '#',\n    refine: noop,\n    items: [],\n    canRefine: false,\n  };\n\n  get isHidden() {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('CurrentRefinements');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectCurrentRefinements,\n      {\n        includedAttributes: this.includedAttributes,\n        excludedAttributes: this.excludedAttributes,\n        transformItems: this.transformItems,\n      },\n      {\n        $$widgetType: 'ais.currentRefinements',\n      }\n    );\n    super.ngOnInit();\n  }\n\n  public handleClick(\n    event: MouseEvent,\n    refinement: CurrentRefinementsConnectorParamsRefinement\n  ) {\n    event.preventDefault();\n    this.state.refine(refinement);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisCurrentRefinements } from './current-refinements';\n\n@NgModule({\n  declarations: [NgAisCurrentRefinements],\n  entryComponents: [NgAisCurrentRefinements],\n  exports: [NgAisCurrentRefinements],\n  imports: [CommonModule],\n})\nexport class NgAisCurrentRefinementsModule {}\n","import { Component, Input, Inject, forwardRef, Optional } from '@angular/core';\n\nimport { connectHierarchicalMenu } from 'instantsearch.js/es/connectors';\nimport {\n  HierarchicalMenuConnectorParams,\n  HierarchicalMenuWidgetDescription,\n  HierarchicalMenuRenderState,\n} from 'instantsearch.js/es/connectors/hierarchical-menu/connectHierarchicalMenu';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { parseNumberInput, noop } from '../utils';\n\n@Component({\n  selector: 'ais-hierarchical-menu',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <ul [class]=\"cx('list') + ' ' + cx('list', 'lvl0')\">\n        <ais-hierarchical-menu-item\n          *ngFor=\"let item of state.items\"\n          [item]=\"item\"\n          [createURL]=\"state.createURL\"\n          [refine]=\"state.refine\"\n        >\n        </ais-hierarchical-menu-item>\n      </ul>\n    </div>\n  `,\n})\nexport class NgAisHierarchicalMenu extends TypedBaseWidget<\n  HierarchicalMenuWidgetDescription,\n  HierarchicalMenuConnectorParams\n> {\n  @Input() public attributes: HierarchicalMenuConnectorParams['attributes'];\n  @Input() public separator?: HierarchicalMenuConnectorParams['separator'];\n  @Input() public rootPath?: HierarchicalMenuConnectorParams['rootPath'];\n  @Input()\n  public showParentLevel?: HierarchicalMenuConnectorParams['showParentLevel'];\n  @Input() public limit?: HierarchicalMenuConnectorParams['limit'];\n  @Input() public sortBy?: HierarchicalMenuConnectorParams['sortBy'];\n\n  @Input()\n  public transformItems?: HierarchicalMenuConnectorParams['transformItems'];\n\n  public state: HierarchicalMenuRenderState = {\n    createURL: () => '#',\n    items: [],\n    refine: noop,\n    canRefine: false,\n    isShowingMore: false,\n    toggleShowMore: noop,\n    canToggleShowMore: false,\n    sendEvent: noop,\n  };\n\n  get isHidden(): boolean {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('HierarchicalMenu');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectHierarchicalMenu,\n      {\n        limit: parseNumberInput(this.limit),\n        attributes: this.attributes,\n        rootPath: this.rootPath,\n        separator: this.separator,\n        showParentLevel: this.showParentLevel,\n        sortBy: this.sortBy,\n        transformItems: this.transformItems,\n      },\n      {\n        $$widgetType: 'ais.hierarchicalMenu',\n      }\n    );\n\n    super.ngOnInit();\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { bem } from '../utils';\nimport {\n  HierarchicalMenuRenderState,\n  HierarchicalMenuItem,\n} from 'instantsearch.js/es/connectors/hierarchical-menu/connectHierarchicalMenu';\n\n@Component({\n  selector: 'ais-hierarchical-menu-item',\n  template: `\n    <li\n      [class]=\"getItemClass(item)\"\n      (click)=\"handleClick($event, item)\"\n    >\n      <a\n        [class]=\"cx('link')\"\n        href=\"{{createURL(item.value)}}\"\n        (click)=\"handleClick($event, item)\"\n      >\n        <span [class]=\"cx('label')\">{{item.label}}</span>\n        <span [class]=\"cx('count')\">{{item.count}}</span>\n      </a>\n\n      <ul\n        [class]=\"getListClass()\"\n        *ngIf=\"item.isRefined && isArray(item.data) && item.data.length > 0\"\n      >\n        <ais-hierarchical-menu-item\n          *ngFor=\"let child of item.data\"\n          [item]=\"child\"\n          [createURL]=\"createURL\"\n          [refine]=\"refine\"\n          [lvl]=\"lvl + 1\"\n        >\n        </ais-hierarchical-menu-item>\n      </ul>\n    </li>\n  `,\n})\nexport class NgAisHierarchicalMenuItem {\n  @Input() public lvl: number = 1;\n  @Input() public refine: HierarchicalMenuRenderState['refine'];\n  @Input() public createURL: HierarchicalMenuRenderState['createURL'];\n  @Input() public item: HierarchicalMenuItem;\n\n  public cx = bem('HierarchicalMenu');\n\n  public getItemClass(item): string {\n    let className = this.cx('item');\n\n    if (item.isRefined) {\n      className = `${className} ${this.cx('item', 'selected')}`;\n    }\n\n    if (this.isArray(item.data) && item.data.length > 0) {\n      className = `${className} ${this.cx('item', 'parent')}`;\n    }\n\n    return className;\n  }\n\n  public getListClass(): string {\n    return `${this.cx('list')} ${this.cx('list', 'child')} ${this.cx(\n      'list',\n      `lvl${this.lvl}`\n    )}`;\n  }\n\n  public isArray(potentialArray: any): boolean {\n    return Array.isArray(potentialArray);\n  }\n\n  public handleClick(event: MouseEvent, item: HierarchicalMenuItem): void {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.refine(item.value);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisHierarchicalMenu } from './hierarchical-menu';\nimport { NgAisHierarchicalMenuItem } from './hierarchical-menu-item';\n\n@NgModule({\n  declarations: [NgAisHierarchicalMenu, NgAisHierarchicalMenuItem],\n  entryComponents: [NgAisHierarchicalMenu],\n  exports: [NgAisHierarchicalMenu],\n  imports: [CommonModule],\n})\nexport class NgAisHierarchicalMenuModule {}\n","import { Component, Input, Inject, forwardRef, Optional } from '@angular/core';\n\nimport { connectHitsPerPage } from 'instantsearch.js/es/connectors';\nimport {\n  HitsPerPageConnectorParams,\n  HitsPerPageWidgetDescription,\n  HitsPerPageRenderState,\n} from 'instantsearch.js/es/connectors/hits-per-page/connectHitsPerPage';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop } from '../utils';\n\n@Component({\n  selector: 'ais-hits-per-page',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <select\n        [class]=\"cx('select')\"\n        (change)=\"state.refine($event.target.value)\"\n      >\n        <option\n          [class]=\"cx('option')\"\n          *ngFor=\"let item of state.items\"\n          [value]=\"item.value\"\n          [selected]=\"item.isRefined\"\n        >\n          {{item.label}}\n        </option>\n      </select>\n    </div>\n  `,\n})\nexport class NgAisHitsPerPage extends TypedBaseWidget<\n  HitsPerPageWidgetDescription,\n  HitsPerPageConnectorParams\n> {\n  @Input() public items: HitsPerPageConnectorParams['items'];\n  @Input() public transformItems?: HitsPerPageConnectorParams['transformItems'];\n\n  public state: HitsPerPageRenderState = {\n    items: [],\n    refine: noop,\n    hasNoResults: true, // TODO: disable <select> when true\n    canRefine: false,\n  };\n\n  get isHidden(): boolean {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('HitsPerPage');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectHitsPerPage,\n      {\n        items: this.items,\n        transformItems: this.transformItems,\n      },\n      {\n        $$widgetType: 'ais.hitsPerPage',\n      }\n    );\n    super.ngOnInit();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisHitsPerPage } from './hits-per-page';\n\n@NgModule({\n  declarations: [NgAisHitsPerPage],\n  entryComponents: [NgAisHitsPerPage],\n  exports: [NgAisHitsPerPage],\n  imports: [CommonModule],\n})\nexport class NgAisHitsPerPageModule {}\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\n\nimport { Hit } from 'instantsearch.js';\n\nimport { highlight } from 'instantsearch.js/es/helpers';\nimport { getPropertyByPath } from 'instantsearch.js/es/lib/utils';\n\n@Component({\n  selector: 'ais-highlight',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `<span class=\"ais-Highlight\" [innerHtml]=\"content\"></span>`,\n})\nexport class NgAisHighlight {\n  @Input() attribute: string;\n  @Input() hit: Partial<Hit>;\n  @Input() tagName: string = 'mark';\n\n  get content() {\n    const highlightAttributeResult = getPropertyByPath(\n      this.hit._highlightResult,\n      this.attribute\n    );\n    const fallback = getPropertyByPath(this.hit, this.attribute);\n\n    // @MAJOR drop this custom fallback once it is implemented directly in instantsearch.js v5\n    if (!highlightAttributeResult && fallback) {\n      return fallback;\n    }\n\n    return highlight({\n      attribute: this.attribute,\n      highlightedTagName: this.tagName,\n      hit: this.hit,\n    });\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisHighlight } from './highlight';\n\n@NgModule({\n  declarations: [NgAisHighlight],\n  entryComponents: [NgAisHighlight],\n  exports: [NgAisHighlight],\n  imports: [CommonModule],\n})\nexport class NgAisHighlightModule {}\n","import {\n  Inject,\n  Input,\n  Component,\n  ContentChild,\n  TemplateRef,\n  forwardRef,\n  Optional,\n} from '@angular/core';\n\nimport { connectHitsWithInsights } from 'instantsearch.js/es/connectors';\nimport {\n  HitsConnectorParams,\n  HitsWidgetDescription,\n  HitsRenderState,\n} from 'instantsearch.js/es/connectors/hits/connectHits';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\n\n@Component({\n  selector: 'ais-hits',\n  template: `\n    <div [class]=\"cx()\">\n      <ng-container *ngTemplateOutlet=\"template; context: state\"></ng-container>\n\n      <!-- default rendering if no template specified -->\n      <div *ngIf=\"!template\">\n        <ul [class]=\"cx('list')\">\n          <li\n            [class]=\"cx('item')\"\n            *ngFor=\"let hit of state.hits\"\n          >\n            <ais-highlight attribute=\"name\" [hit]=\"hit\">\n            </ais-highlight>\n          </li>\n        </ul>\n      </div>\n    </div>\n  `,\n})\nexport class NgAisHits extends TypedBaseWidget<\n  HitsWidgetDescription,\n  HitsConnectorParams\n> {\n  @ContentChild(TemplateRef, { static: false })\n  public template?: TemplateRef<any>;\n\n  @Input() public escapeHTML?: HitsConnectorParams['escapeHTML'];\n  @Input() public transformItems?: HitsConnectorParams['transformItems'];\n\n  public state: HitsRenderState = {\n    hits: [],\n    results: undefined,\n    bindEvent: undefined,\n    sendEvent: undefined,\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('Hits');\n  }\n\n  ngOnInit() {\n    this.createWidget(\n      connectHitsWithInsights,\n      {\n        escapeHTML: this.escapeHTML,\n        transformItems: this.transformItems,\n      },\n      {\n        $$widgetType: 'ais.hits',\n      }\n    );\n    super.ngOnInit();\n  }\n\n  public updateState = (state: HitsRenderState, isFirstRendering: boolean) => {\n    if (isFirstRendering) return;\n    this.state = state;\n  };\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisHighlightModule } from '../highlight/highlight.module';\nimport { NgAisHits } from './hits';\n\n@NgModule({\n  declarations: [NgAisHits],\n  entryComponents: [NgAisHits],\n  exports: [NgAisHits],\n  imports: [CommonModule, NgAisHighlightModule],\n})\nexport class NgAisHitsModule {}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\n\nimport { NgAisIndex } from './index-widget';\n\n@NgModule({\n  declarations: [NgAisIndex],\n  entryComponents: [NgAisIndex],\n  exports: [NgAisIndex],\n  imports: [CommonModule],\n})\nexport class NgAisIndexModule {\n  public static forRoot(): ModuleWithProviders<NgAisIndexModule> {\n    return {\n      ngModule: NgAisIndexModule,\n      providers: [],\n    };\n  }\n}\n","import {\n  Component,\n  ContentChild,\n  Input,\n  TemplateRef,\n  Inject,\n  forwardRef,\n  Optional,\n} from '@angular/core';\nimport { connectInfiniteHitsWithInsights } from 'instantsearch.js/es/connectors';\nimport {\n  InfiniteHitsConnectorParams,\n  InfiniteHitsWidgetDescription,\n  InfiniteHitsRenderState,\n} from 'instantsearch.js/es/connectors/infinite-hits/connectInfiniteHits';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop } from '../utils';\n\n@Component({\n  selector: 'ais-infinite-hits',\n  template: `\n    <div [class]=\"cx()\">\n      <ng-container *ngTemplateOutlet=\"template; context: state\"></ng-container>\n\n      <!-- default rendering if no template specified -->\n      <button\n        [ngClass]=\"[cx('loadPrevious'), this.state.isFirstPage ? cx('loadPrevious', 'disabled') : '']\"\n        (click)=\"showPreviousHandler($event)\"\n        [disabled]=\"state.isFirstPage\"\n        *ngIf=\"showPrevious && !template\"\n      >\n        {{showPreviousLabel}}\n      </button>\n\n      <div *ngIf=\"!template\">\n        <ul [class]=\"cx('list')\">\n          <li\n            [class]=\"cx('item')\"\n            *ngFor=\"let hit of state.hits\"\n          >\n            <ais-highlight attribute=\"name\" [hit]=\"hit\">\n            </ais-highlight>\n          </li>\n        </ul>\n      </div>\n\n      <button\n        [ngClass]=\"[cx('loadMore'), this.state.isLastPage ? cx('loadMore', 'disabled') : '']\"\n        (click)=\"showMoreHandler($event)\"\n        [disabled]=\"state.isLastPage\"\n        *ngIf=\"!template\"\n      >\n        {{showMoreLabel}}\n      </button>\n    </div>\n  `,\n})\nexport class NgAisInfiniteHits extends TypedBaseWidget<\n  InfiniteHitsWidgetDescription,\n  InfiniteHitsConnectorParams\n> {\n  @ContentChild(TemplateRef, { static: false })\n  public template?: any;\n\n  // rendering options\n  @Input() public escapeHTML: InfiniteHitsConnectorParams['escapeHTML'];\n  @Input()\n  public showPrevious: InfiniteHitsConnectorParams['showPrevious'] = false;\n  @Input() public showPreviousLabel: string = 'Show previous results';\n  @Input() public showMoreLabel: string = 'Show more results';\n  @Input()\n  public transformItems?: InfiniteHitsConnectorParams['transformItems'];\n\n  public state: InfiniteHitsRenderState = {\n    hits: [],\n    results: undefined,\n    currentPageHits: [],\n    isFirstPage: false,\n    isLastPage: false,\n    showMore: noop,\n    showPrevious: noop,\n    sendEvent: noop,\n    bindEvent: () => '',\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('InfiniteHits');\n  }\n\n  ngOnInit() {\n    this.createWidget(\n      connectInfiniteHitsWithInsights,\n      {\n        escapeHTML: this.escapeHTML,\n        transformItems: this.transformItems,\n      },\n      {\n        $$widgetType: 'ais.infiniteHits',\n      }\n    );\n    super.ngOnInit();\n  }\n\n  public showMoreHandler(event: MouseEvent) {\n    event.preventDefault();\n    this.state.showMore();\n  }\n\n  public showPreviousHandler(event: MouseEvent) {\n    event.preventDefault();\n    this.state.showPrevious();\n  }\n\n  updateState = (state, isFirstRendering: boolean) => {\n    if (isFirstRendering) return;\n    this.state = state;\n  };\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisHighlightModule } from '../highlight/highlight.module';\nimport { NgAisInfiniteHits } from './infinite-hits';\n\n@NgModule({\n  declarations: [NgAisInfiniteHits],\n  entryComponents: [NgAisInfiniteHits],\n  exports: [NgAisInfiniteHits],\n  imports: [CommonModule, NgAisHighlightModule],\n})\nexport class NgAisInfiniteHitsModule {}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\n\nimport { NgAisInstantSearch } from './instantsearch';\n\n@NgModule({\n  declarations: [NgAisInstantSearch],\n  entryComponents: [NgAisInstantSearch],\n  exports: [NgAisInstantSearch],\n  imports: [CommonModule],\n})\nexport class NgAisInstantSearchModule {\n  public static forRoot(): ModuleWithProviders<NgAisInstantSearchModule> {\n    return {\n      ngModule: NgAisInstantSearchModule,\n      providers: [],\n    };\n  }\n}\n","import { Component, Input, Inject, forwardRef, Optional } from '@angular/core';\n\nimport { connectMenu } from 'instantsearch.js/es/connectors';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop } from '../utils';\nimport {\n  MenuConnectorParams,\n  MenuWidgetDescription,\n  MenuRenderState,\n  MenuItem,\n} from 'instantsearch.js/es/connectors/menu/connectMenu';\n\n@Component({\n  selector: 'ais-menu',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <ul [class]=\"cx('list')\">\n        <li\n          [class]=\"getItemClass(item)\"\n          *ngFor=\"let item of state.items\"\n          (click)=\"handleClick($event, item.value)\"\n        >\n          <a\n            href=\"{{state.createURL(item.value)}}\"\n            [class]=\"cx('link')\"\n            (click)=\"handleClick($event, item.value)\"\n          >\n            <span [class]=\"cx('label')\">{{item.label}}</span>\n            <span [class]=\"cx('count')\">{{item.count}}</span>\n          </a>\n        </li>\n      </ul>\n\n      <button\n        *ngIf=\"showMore\"\n        (click)=\"state.toggleShowMore()\"\n        [class]=\"showMoreClass\"\n        [disabled]=\"!state.canToggleShowMore\"\n      >\n        {{state.isShowingMore ? showLessLabel : showMoreLabel}}\n      </button>\n    </div>\n  `,\n})\nexport class NgAisMenu extends TypedBaseWidget<\n  MenuWidgetDescription,\n  MenuConnectorParams\n> {\n  // rendering options\n  @Input() public showMoreLabel: string = 'Show more';\n  @Input() public showLessLabel: string = 'Show less';\n\n  // instance options\n  @Input() public attribute: MenuConnectorParams['attribute'];\n  @Input() public showMore?: MenuConnectorParams['showMore'];\n  @Input() public limit?: MenuConnectorParams['limit'];\n  @Input() public showMoreLimit?: MenuConnectorParams['showMoreLimit'];\n  @Input() public sortBy?: MenuConnectorParams['sortBy'];\n  @Input() public transformItems?: MenuConnectorParams['transformItems'];\n\n  public state: MenuRenderState = {\n    items: [],\n    refine: noop,\n    createURL: () => '#',\n    canRefine: false,\n    isShowingMore: false,\n    canToggleShowMore: false,\n    toggleShowMore: noop,\n    sendEvent: noop,\n  };\n\n  get isHidden() {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  get showMoreClass() {\n    let className = this.cx('showMore');\n\n    if (!this.state.canToggleShowMore) {\n      className = `${className} ${this.cx('showMore', 'disabled')}`;\n    }\n\n    return className;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('Menu');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectMenu,\n      {\n        attribute: this.attribute,\n        showMore: this.showMore,\n        limit: this.limit,\n        showMoreLimit: this.showMoreLimit,\n        sortBy: this.sortBy,\n        transformItems: this.transformItems,\n      },\n      {\n        $$widgetType: 'ais.menu',\n      }\n    );\n\n    super.ngOnInit();\n  }\n\n  handleClick(event: MouseEvent, value: MenuItem['value']) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.state.refine(value);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisMenu } from './menu';\n\n@NgModule({\n  declarations: [NgAisMenu],\n  entryComponents: [NgAisMenu],\n  exports: [NgAisMenu],\n  imports: [CommonModule],\n})\nexport class NgAisMenuModule {}\n","import { Component, Input, Inject, forwardRef, Optional } from '@angular/core';\n\nimport { connectNumericMenu } from 'instantsearch.js/es/connectors';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop } from '../utils';\nimport {\n  NumericMenuConnectorParams,\n  NumericMenuWidgetDescription,\n  NumericMenuRenderState,\n} from 'instantsearch.js/es/connectors/numeric-menu/connectNumericMenu';\n\n@Component({\n  selector: 'ais-numeric-menu',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <ul [class]=\"cx('list')\">\n        <li\n          [class]=\"getItemClass(item)\"\n          *ngFor=\"let item of state.items\"\n        >\n          <label [class]=\"cx('label')\">\n            <input\n              [class]=\"cx('radio')\"\n              type=\"radio\"\n              name=\"NumericMenu\"\n              [checked]=\"item.isRefined\"\n              (change)=\"refine($event, item)\"\n            />\n            <span [class]=\"cx('labelText')\">{{item.label}}</span>\n          </label>\n        </li>\n      </ul>\n    </div>\n  `,\n})\nexport class NgAisNumericMenu extends TypedBaseWidget<\n  NumericMenuWidgetDescription,\n  NumericMenuConnectorParams\n> {\n  @Input() public attribute: NumericMenuConnectorParams['attribute'];\n  @Input() public items: NumericMenuConnectorParams['items'];\n  @Input() public transformItems?: NumericMenuConnectorParams['transformItems'];\n\n  public state: NumericMenuRenderState = {\n    items: [],\n    refine: noop,\n    createURL: () => '#',\n    hasNoResults: true,\n    sendEvent: noop,\n    canRefine: false,\n  };\n\n  get isHidden() {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('NumericMenu');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectNumericMenu,\n      {\n        attribute: this.attribute,\n        items: this.items,\n        transformItems: this.transformItems,\n      },\n      {\n        $$widgetType: 'ais.numericMenu',\n      }\n    );\n    super.ngOnInit();\n  }\n\n  public refine(event: Event, item: { value: string }) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.state.refine(item.value);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisNumericMenu } from './numeric-menu';\n\n@NgModule({\n  declarations: [NgAisNumericMenu],\n  entryComponents: [NgAisNumericMenu],\n  exports: [NgAisNumericMenu],\n  imports: [CommonModule],\n})\nexport class NgAisNumericMenuModule {}\n","import { Component, Input, Inject, forwardRef, Optional } from '@angular/core';\nimport { connectPagination } from 'instantsearch.js/es/connectors';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { parseNumberInput, noop, range } from '../utils';\nimport {\n  PaginationConnectorParams,\n  PaginationWidgetDescription,\n  PaginationRenderState,\n} from 'instantsearch.js/es/connectors/pagination/connectPagination';\n\nexport { PaginationConnectorParams, PaginationRenderState };\n\n@Component({\n  selector: 'ais-pagination',\n  template: `\n    <div [ngClass]=\"[cx(), state.nbPages <= 1 ? cx('', 'noRefinement') : '']\">\n      <ul [class]=\"cx('list')\">\n        <li\n          *ngIf=\"showFirst\"\n          (click)=\"refine($event, 0)\"\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'firstPage') +\n            (state.currentRefinement === 0 ? ' ' + cx('item', 'disabled') : '')\n          \"\n        >\n          <a\n            [href]=\"state.createURL(0)\"\n            [class]=\"cx('link')\"\n          >\n            ‹‹\n          </a>\n        </li>\n\n        <li\n          *ngIf=\"showPrevious\"\n          (click)=\"refine($event, state.currentRefinement - 1)\"\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'previousPage') +\n            (state.currentRefinement === 0 ? ' ' + cx('item', 'disabled') : '')\n          \"\n        >\n          <a\n            [href]=\"state.createURL(state.currentRefinement - 1)\"\n            [class]=\"cx('link')\"\n          >\n            ‹\n          </a>\n        </li>\n\n        <li\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'page') +\n            (state.currentRefinement === page ? ' ' + cx('item', 'selected') : '')\n          \"\n          *ngFor=\"let page of state.pages\"\n          (click)=\"refine($event, page)\"\n        >\n          <a\n            [class]=\"cx('link')\"\n            [href]=\"state.createURL(page)\"\n          >\n            {{page + 1}}\n          </a>\n        </li>\n\n        <li\n          *ngIf=\"showNext\"\n          (click)=\"refine($event, state.currentRefinement + 1)\"\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'nextPage') +\n            (state.currentRefinement + 1 === state.nbPages ? ' ' + cx('item', 'disabled') : '')\n          \"\n        >\n          <a\n            [href]=\"state.createURL(state.currentRefinement + 1)\"\n            [class]=\"cx('link')\"\n          >\n            ›\n          </a>\n        </li>\n\n        <li\n          *ngIf=\"showLast\"\n          (click)=\"refine($event, state.nbPages - 1)\"\n          [class]=\"\n            cx('item') +\n            ' ' +\n            cx('item', 'lastPage') +\n            (state.currentRefinement + 1 === state.nbPages ? ' ' + cx('item', 'disabled') : '')\n          \"\n        >\n          <a\n            [href]=\"state.createURL(state.nbPages - 1)\"\n            [class]=\"cx('link')\"\n          >\n            ››\n          </a>\n        </li>\n      </ul>\n    </div>\n  `,\n})\nexport class NgAisPagination extends TypedBaseWidget<\n  PaginationWidgetDescription,\n  PaginationConnectorParams\n> {\n  // rendering options\n  @Input() public showFirst: boolean = true;\n  @Input() public showLast: boolean = true;\n  @Input() public showPrevious: boolean = true;\n  @Input() public showNext: boolean = true;\n\n  // instance options\n  @Input() public padding?: PaginationConnectorParams['padding'];\n  @Input() public totalPages?: PaginationConnectorParams['totalPages'];\n  // TODO: check if this works, padding and totalPages are most likely strings when passed to the template\n\n  public state: PaginationRenderState = {\n    createURL: () => '#',\n    currentRefinement: 0,\n    nbHits: 0,\n    nbPages: 0,\n    refine: noop,\n    pages: [],\n    canRefine: false,\n    isFirstPage: false,\n    isLastPage: false,\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('Pagination');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectPagination,\n      {\n        padding: parseNumberInput(this.padding),\n        totalPages: parseNumberInput(this.totalPages),\n      },\n      {\n        $$widgetType: 'ais.pagination',\n      }\n    );\n    super.ngOnInit();\n  }\n\n  public refine(event: MouseEvent, page: number) {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (\n      page < 0 ||\n      page === this.state.currentRefinement ||\n      page >= this.state.nbPages\n    ) {\n      return;\n    }\n\n    this.state.refine(page);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisPagination } from './pagination';\n\n@NgModule({\n  declarations: [NgAisPagination],\n  entryComponents: [NgAisPagination],\n  exports: [NgAisPagination],\n  imports: [CommonModule],\n})\nexport class NgAisPaginationModule {}\n","import {\n  Component,\n  Input,\n  ViewChild,\n  Inject,\n  forwardRef,\n  Optional,\n} from '@angular/core';\n\nimport { connectRange } from 'instantsearch.js/es/connectors';\nimport * as noUiSlider from 'nouislider';\n\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { parseNumberInput, noop } from '../utils';\nimport {\n  RangeBoundaries,\n  RangeConnectorParams,\n  RangeWidgetDescription,\n  RangeRenderState,\n} from 'instantsearch.js/es/connectors/range/connectRange';\n\n@Component({\n  selector: 'ais-range-slider',\n  template: `\n    <div [class]=\"cx()\">\n      <div [class]=\"cx('body')\">\n        <div #sliderContainer></div>\n      </div>\n    </div>\n  `,\n})\nexport class NgAisRangeSlider extends TypedBaseWidget<\n  RangeWidgetDescription,\n  RangeConnectorParams\n> {\n  @ViewChild('sliderContainer', { static: false })\n  public sliderContainer: any;\n\n  // rendering options\n  @Input() public pips: boolean = true;\n  @Input() public tooltips: boolean = true;\n\n  // instance options\n  @Input() public attribute: RangeConnectorParams['attribute'];\n  @Input() public min?: RangeConnectorParams['min'];\n  @Input() public max?: RangeConnectorParams['max'];\n  @Input() public precision?: RangeConnectorParams['precision'];\n\n  public state: RangeRenderState = {\n    canRefine: false,\n    format: {\n      from: () => '',\n      to: () => '',\n    },\n    range: { min: 0, max: 1 },\n    refine: noop,\n    start: [0, 1],\n    sendEvent: noop,\n  };\n\n  private slider: any;\n\n  get step() {\n    // compute step from the precision value\n    const precision = parseNumberInput(this.precision) || 2;\n    return 1 / Math.pow(10, precision);\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('RangeSlider');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectRange,\n      {\n        attribute: this.attribute,\n        max: parseNumberInput(this.max),\n        min: parseNumberInput(this.min),\n        precision: parseNumberInput(this.precision),\n      },\n      {\n        $$widgetType: 'ais.rangeSlider',\n      }\n    );\n\n    super.ngOnInit();\n  }\n\n  public updateState = (state: RangeRenderState, isFirstRendering: boolean) => {\n    if (isFirstRendering) {\n      // create slider\n      const config = {\n        animate: false,\n        behaviour: 'snap',\n        connect: true,\n        range: { min: 0, max: 1 },\n        start: [0, 1],\n        step: this.step,\n        tooltips: this.tooltips && [\n          { to: this.formatTooltip },\n          { to: this.formatTooltip },\n        ],\n      };\n\n      // tslint:disable-next-line: no-boolean-literal-compare (pips is @Input, so could be not a boolean)\n      if (this.pips === true || typeof this.pips === 'undefined') {\n        Object.assign(config, {\n          pips: {\n            density: 3,\n            mode: 'positions',\n            stepped: true,\n            values: [0, 50, 100],\n          },\n        });\n      } else if (this.pips !== undefined) {\n        Object.assign(config, { pips: this.pips });\n      }\n\n      this.slider = noUiSlider.create(\n        this.sliderContainer.nativeElement,\n        config\n      );\n\n      // register listen events\n      this.sliderContainer.nativeElement.noUiSlider.on(\n        'change',\n        this.handleChange\n      );\n    }\n\n    // update component inner state\n    this.state = state;\n\n    // update the slider state\n    const {\n      range: { min, max },\n      start,\n    } = state;\n\n    const disabled = min === max;\n    const range = disabled ? { min, max: max + 0.0001 } : { min, max };\n\n    // TODO: test this as we're nolonger passing disable\n    // it seems the API has changed: slider.setAttribute('disabled', true) / slider.removeAttribute('disabled');\n    // see: https://refreshless.com/nouislider/more/#section-disable\n    this.slider.updateOptions({ range, start });\n  };\n\n  public handleChange = (values: RangeBoundaries) => {\n    this.state.refine(values);\n  };\n\n  public formatTooltip = (value: number) => {\n    return value.toFixed(parseNumberInput(this.precision));\n  };\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisRangeSlider } from './range-slider';\n\n@NgModule({\n  declarations: [NgAisRangeSlider],\n  entryComponents: [NgAisRangeSlider],\n  exports: [NgAisRangeSlider],\n  imports: [CommonModule],\n})\nexport class NgAisRangeSliderModule {}\n","import { Component, Input, Inject, forwardRef, Optional } from '@angular/core';\nimport { connectRefinementList } from 'instantsearch.js/es/connectors';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop, parseNumberInput } from '../utils';\nimport {\n  RefinementListConnectorParams,\n  RefinementListWidgetDescription,\n  RefinementListRenderState,\n  RefinementListItem,\n} from 'instantsearch.js/es/connectors/refinement-list/connectRefinementList';\n\n@Component({\n  selector: 'ais-refinement-list',\n  template: `\n    <div\n      [class]=\"cx()\"\n      *ngIf=\"!isHidden\"\n    >\n      <div\n        *ngIf=\"searchable\"\n        [class]=\"cx('searchBox')\"\n      >\n        <ais-facets-search\n          [search]=\"state.searchForItems\"\n          [searchPlaceholder]=\"searchPlaceholder\"\n        >\n        </ais-facets-search>\n      </div>\n\n      <ul [class]=\"cx('list')\">\n        <li\n          [class]=\"getItemClass(item)\"\n          *ngFor=\"let item of state.items\"\n          (click)=\"refine($event, item)\"\n        >\n          <label [class]=\"cx('label')\">\n            <input\n              [class]=\"cx('checkbox')\"\n              type=\"checkbox\"\n              value=\"{{item.value}}\"\n              [checked]=\"item.isRefined\"\n            />\n            <span [class]=\"cx('labelText')\">\n              <ais-highlight attribute=\"highlighted\" [hit]=\"item\"></ais-highlight>\n            </span>\n            <span [class]=\"cx('count')\">{{item.count}}</span>\n          </label>\n        </li>\n      </ul>\n\n      <button\n        [class]=\"cx('showMore')\"\n        *ngIf=\"showMore\"\n        (click)=\"state.toggleShowMore()\"\n        [disabled]=\"!state.canToggleShowMore\"\n      >\n        {{state.isShowingMore ? showLessLabel : showMoreLabel}}\n      </button>\n    </div>\n  `,\n})\nexport class NgAisRefinementList extends TypedBaseWidget<\n  RefinementListWidgetDescription,\n  RefinementListConnectorParams\n> {\n  // rendering options\n  @Input() public showMoreLabel: string = 'Show more';\n  @Input() public showLessLabel: string = 'Show less';\n  @Input() public searchable?: boolean;\n  @Input() public searchPlaceholder: string = 'Search here...';\n\n  // instance options\n  @Input() public attribute: RefinementListConnectorParams['attribute'];\n  @Input() public operator: RefinementListConnectorParams['operator'];\n  @Input() public limit: RefinementListConnectorParams['limit'];\n  @Input() public showMore: RefinementListConnectorParams['showMore'];\n  @Input() public showMoreLimit: RefinementListConnectorParams['showMoreLimit'];\n  @Input() public sortBy: RefinementListConnectorParams['sortBy'];\n  @Input()\n  public transformItems?: RefinementListConnectorParams['transformItems'];\n\n  public state: RefinementListRenderState = {\n    canRefine: false,\n    canToggleShowMore: false,\n    createURL: () => '',\n    isShowingMore: false,\n    items: [],\n    refine: noop,\n    toggleShowMore: noop,\n    searchForItems: noop,\n    isFromSearch: false,\n    hasExhaustiveItems: false,\n    sendEvent: noop,\n  };\n\n  get isHidden() {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('RefinementList');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectRefinementList,\n      {\n        showMore: this.showMore,\n        limit: parseNumberInput(this.limit),\n        showMoreLimit: parseNumberInput(this.showMoreLimit),\n        attribute: this.attribute,\n        operator: this.operator,\n        sortBy: this.sortBy,\n        escapeFacetValues: true,\n        transformItems: this.transformItems,\n      },\n      {\n        $$widgetType: 'ais.refinementList',\n      }\n    );\n\n    super.ngOnInit();\n  }\n\n  public refine(event: MouseEvent, item: RefinementListItem) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this.state.canRefine) {\n      // update UI directly, it will update the checkbox state\n      item.isRefined = !item.isRefined;\n\n      // refine through Algolia API\n      this.state.refine(item.value);\n    }\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { bem } from '../utils';\n\n@Component({\n  selector: 'ais-facets-search',\n  template: `\n    <div [class]=\"cx()\">\n      <form\n        [class]=\"cx('form')\"\n        (submit)=\"handleSubmit($event)\"\n        novalidate\n      >\n        <input\n          [class]=\"cx('input')\"\n          autocapitalize=\"off\"\n          autocorrect=\"off\"\n          placeholder=\"{{searchPlaceholder}}\"\n          role=\"textbox\"\n          spellcheck=\"false\"\n          type=\"text\"\n          [value]=\"searchQuery\"\n          (input)=\"handleChange($event.target.value)\"\n        />\n\n        <button\n          [class]=\"cx('submit')\"\n          title=\"Submit the search query.\"\n          type=\"submit\"\n        >\n          <svg\n            [ngClass]=\"cx('submitIcon')\"\n            viewBox=\"0 0 40 40\"\n            width=\"10\"\n            height=\"10\"\n          >\n            <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n          </svg>\n        </button>\n\n        <button\n          [class]=\"cx('reset')\"\n          type=\"reset\"\n          title=\"Clear the search query.\"\n          hidden\n        >\n          <svg\n            [ngClass]=\"cx('resetIcon')\"\n            viewBox=\"0 0 20 20\"\n            width=\"10\"\n            height=\"10\"\n          >\n            <path d=\"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z\"></path>\n          </svg>\n        </button>\n      </form>\n    </div>\n  `,\n})\nexport class NgAisFacetsSearch {\n  @Input() public searchPlaceholder: string;\n  @Input() public search: Function;\n\n  public cx = bem('SearchBox');\n\n  public searchQuery = '';\n\n  public handleChange(value: string) {\n    this.searchQuery = value;\n    this.search(value);\n  }\n\n  public handleSubmit(event) {\n    event.preventDefault();\n    this.search(this.searchQuery);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisHighlightModule } from '../highlight/highlight.module';\nimport { NgAisRefinementList } from './refinement-list';\nimport { NgAisFacetsSearch } from './facets-search';\n\n@NgModule({\n  declarations: [NgAisRefinementList, NgAisFacetsSearch],\n  entryComponents: [NgAisRefinementList],\n  exports: [NgAisRefinementList],\n  imports: [CommonModule, NgAisHighlightModule],\n})\nexport class NgAisRefinementListModule {}\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  Inject,\n  forwardRef,\n  ViewChild,\n  AfterViewInit,\n  ElementRef,\n  Optional,\n  DoCheck,\n} from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop } from '../utils';\nimport {\n  SearchBoxConnectorParams,\n  SearchBoxWidgetDescription,\n  SearchBoxRenderState,\n} from 'instantsearch.js/es/connectors/search-box/connectSearchBox';\n\n@Component({\n  selector: 'ais-search-box',\n  template: `\n    <div [class]=\"cx()\">\n      <form\n        [class]=\"cx('form')\"\n        novalidate\n        (submit)=\"handleSubmit($event)\"\n      >\n        <input\n          [class]=\"cx('input')\"\n          autocapitalize=\"off\"\n          autocorrect=\"off\"\n          placeholder=\"{{placeholder}}\"\n          role=\"textbox\"\n          spellcheck=\"false\"\n          type=\"text\"\n          [value]=\"query\"\n          (input)=\"handleChange($event.target.value)\"\n          (focus)=\"focus.emit($event)\"\n          (blur)=\"blur.emit($event)\"\n          #searchBox\n        />\n\n        <button\n          [class]=\"cx('submit')\"\n          type=\"submit\"\n          title=\"{{submitTitle}}\"\n        >\n          <svg\n            [ngClass]=\"cx('submitIcon')\"\n            viewBox=\"0 0 40 40\"\n            width=\"40\"\n            height=\"40\"\n          >\n            <path d=\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"></path>\n          </svg>\n        </button>\n\n        <button\n          [class]=\"cx('reset')\"\n          type=\"reset\"\n          title=\"{{resetTitle}}\"\n          (click)=\"handleReset($event)\"\n          [hidden]=\"!state.query || (state.query && !state.query.trim()) || (state.isSearchStalled && showLoadingIndicator)\">\n          <svg\n            [ngClass]=\"cx('resetIcon')\"\n            viewBox=\"0 0 20 20\"\n            width=\"20\"\n            height=\"20\"\n          >\n            <path d=\"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z\"></path>\n          </svg>\n        </button>\n\n        <span\n          [class]=\"cx('loadingIndicator')\"\n          [hidden]=\"!showLoadingIndicator || !state.isSearchStalled\"\n        >\n          <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 38 38\"\n            stroke=\"#444\"\n            [ngClass]=\"cx('loadingIcon')\"\n          >\n            <g fill=\"none\" fillRule=\"evenodd\">\n              <g transform=\"translate(1 1)\" strokeWidth=\"2\">\n                <circle strokeOpacity=\".5\" cx=\"18\" cy=\"18\" r=\"18\" />\n                <path d=\"M36 18c0-9.94-8.06-18-18-18\">\n                  <animateTransform\n                    attributeName=\"transform\"\n                    type=\"rotate\"\n                    from=\"0 18 18\"\n                    to=\"360 18 18\"\n                    dur=\"1s\"\n                    repeatCount=\"indefinite\"\n                  />\n                </path>\n              </g>\n            </g>\n          </svg>\n        </span>\n      </form>\n    </div>\n  `,\n})\nexport class NgAisSearchBox\n  extends TypedBaseWidget<SearchBoxWidgetDescription, SearchBoxConnectorParams>\n  implements AfterViewInit, DoCheck {\n  @ViewChild('searchBox', { static: false })\n  searchBox: ElementRef;\n  @Input() public placeholder: string = 'Search';\n  @Input() public submitTitle: string = 'Submit';\n  @Input() public resetTitle: string = 'Reset';\n  @Input() public searchAsYouType: boolean = true;\n  @Input() public autofocus: boolean = false;\n  @Input() public showLoadingIndicator: boolean = true;\n\n  // Output events\n  // form\n  @Output() submit = new EventEmitter();\n  @Output() reset = new EventEmitter();\n\n  // input\n  @Output() change = new EventEmitter();\n  @Output() focus = new EventEmitter();\n  @Output() blur = new EventEmitter();\n\n  public query = '';\n\n  public state: SearchBoxRenderState = {\n    query: '',\n    refine: noop,\n    clear: noop,\n    isSearchStalled: false,\n  };\n\n  private document: Document;\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch,\n    @Inject(DOCUMENT) private injectedDocument: Document\n  ) {\n    super('SearchBox');\n    this.createWidget(\n      connectSearchBox,\n      {},\n      {\n        $$widgetType: 'ais.searchBox',\n      }\n    );\n    this.document = injectedDocument;\n  }\n\n  public ngAfterViewInit() {\n    if (this.autofocus) {\n      this.searchBox.nativeElement.focus();\n    }\n  }\n\n  public ngDoCheck() {\n    // We bypass the state update if the input is focused to avoid concurrent\n    // updates when typing.\n    if (\n      this.query !== this.state.query &&\n      this.searchBox &&\n      this.searchBox.nativeElement &&\n      this.document.activeElement !== this.searchBox.nativeElement\n    ) {\n      this.query = this.state.query;\n    }\n  }\n\n  public handleChange(query: string) {\n    this.change.emit(query);\n    if (this.searchAsYouType) {\n      this.state.refine(query);\n    }\n  }\n\n  public handleSubmit(event: Event) {\n    // send submit event to parent component\n    this.submit.emit(event);\n\n    event.preventDefault();\n\n    if (!this.searchAsYouType) {\n      this.state.refine(this.searchBox.nativeElement.value);\n    }\n  }\n\n  public handleReset(event: MouseEvent) {\n    // send reset event to parent component\n    this.reset.emit(event);\n\n    // reset search\n    this.state.refine('');\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisSearchBox } from './search-box';\n\n@NgModule({\n  declarations: [NgAisSearchBox],\n  entryComponents: [NgAisSearchBox],\n  exports: [NgAisSearchBox],\n  imports: [CommonModule],\n})\nexport class NgAisSearchBoxModule {}\n","import { Component, Input, Inject, forwardRef, Optional } from '@angular/core';\n\nimport { connectSortBy } from 'instantsearch.js/es/connectors';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop } from '../utils';\nimport {\n  SortByConnector,\n  SortByConnectorParams,\n  SortByWidgetDescription,\n  SortByRenderState,\n  SortByItem,\n} from 'instantsearch.js/es/connectors/sort-by/connectSortBy';\n\nexport {\n  SortByConnector,\n  SortByConnectorParams,\n  SortByWidgetDescription,\n  SortByRenderState,\n  SortByItem,\n};\n\n@Component({\n  selector: 'ais-sort-by',\n  template: `\n    <div [class]=\"cx()\">\n      <select\n        [class]=\"cx('select')\"\n        (change)=\"state.refine($event.target.value)\"\n      >\n        <option\n          [class]=\"cx('option')\"\n          *ngFor=\"let item of state.options\"\n          [value]=\"item.value\"\n          [selected]=\"item.value === state.currentRefinement\"\n        >\n          {{item.label}}\n        </option>\n      </select>\n    </div>\n  `,\n})\nexport class NgAisSortBy extends TypedBaseWidget<\n  SortByWidgetDescription,\n  SortByConnectorParams\n> {\n  @Input() public items: SortByItem[];\n  @Input()\n  public transformItems?: <U extends SortByItem>(items: SortByItem[]) => U[];\n\n  public state: SortByRenderState = {\n    currentRefinement: null,\n    options: [],\n    refine: noop,\n    hasNoResults: false,\n    canRefine: false,\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('SortBy');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectSortBy,\n      {\n        items: this.items,\n        transformItems: this.transformItems,\n      },\n      {\n        $$widgetType: 'ais.sortBy',\n      }\n    );\n    super.ngOnInit();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisSortBy } from './sort-by';\n\n@NgModule({\n  declarations: [NgAisSortBy],\n  entryComponents: [NgAisSortBy],\n  exports: [NgAisSortBy],\n  imports: [CommonModule],\n})\nexport class NgAisSortByModule {}\n","import { Component, Input, Inject, forwardRef, Optional } from '@angular/core';\n\nimport { connectRatingMenu } from 'instantsearch.js/es/connectors';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop, parseNumberInput } from '../utils';\nimport {\n  RatingMenuConnectorParams,\n  RatingMenuWidgetDescription,\n  RatingMenuRenderState,\n} from 'instantsearch.js/es/connectors/rating-menu/connectRatingMenu';\n\n@Component({\n  selector: 'ais-rating-menu',\n  template: `\n    <div\n      [ngClass]=\"[\n        cx(),\n        state.items.length === 0 ? cx('', 'noRefinement') : ''\n      ]\"\n      *ngIf=\"!isHidden\"\n    >\n      <svg style=\"display:none;\">\n        <symbol\n          id=\"ais-StarRating-starSymbol\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path d=\"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z\"/>\n        </symbol>\n        <symbol\n          id=\"ais-StarRating-starEmptySymbol\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path d=\"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z\"/>\n        </symbol>\n      </svg>\n\n      <ul [class]=\"cx('list')\">\n        <li\n          *ngFor=\"let item of state.items\"\n          [class]=\"getItemClass(item)\"\n          (click)=\"handleClick($event, item.value)\"\n        >\n          <a\n            href=\"{{state.createURL(item.value)}}\"\n            [class]=\"cx('link')\"\n            (click)=\"handleClick($event, item.value)\"\n          >\n            <svg\n              width=\"24\"\n              height=\"24\"\n              *ngFor=\"let star of item.stars\"\n              [ngClass]=\"cx('starIcon') + ' ' + (star ? cx('starIcon', 'full') : cx('starIcon', 'empty'))\"\n              aria-hidden=\"true\"\n            >\n              <use\n                *ngIf=\"star\"\n                xlink:href=\"#ais-StarRating-starSymbol\"\n              >\n              </use>\n\n              <use\n                *ngIf=\"!star\"\n                xlink:href=\"#ais-StarRating-starEmptySymbol\"\n              >\n              </use>\n            </svg>\n\n            <span [class]=\"cx('label')\" aria-hidden=\"true\">{{andUpLabel}}</span>\n            <span [class]=\"cx('count')\">{{item.count}}</span>\n          </a>\n        </li>\n      </ul>\n    </div>\n  `,\n})\nexport class NgAisRatingMenu extends TypedBaseWidget<\n  RatingMenuWidgetDescription,\n  RatingMenuConnectorParams\n> {\n  // rendering options\n  @Input() public andUpLabel: string = '& Up';\n\n  // instance options\n  @Input() public attribute: string;\n  @Input() public max?: number;\n\n  public state: RatingMenuRenderState = {\n    createURL: () => '#',\n    hasNoResults: false,\n    items: [],\n    refine: noop,\n    canRefine: false,\n    sendEvent: noop,\n  };\n\n  get isHidden() {\n    return this.state.items.length === 0 && this.autoHideContainer;\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('RatingMenu');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectRatingMenu,\n      {\n        attribute: this.attribute,\n        max: parseNumberInput(this.max),\n      },\n      {\n        $$widgetType: 'ais.ratingMenu',\n      }\n    );\n    super.ngOnInit();\n  }\n\n  public handleClick(event: MouseEvent, value: string) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.state.refine(value);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisRatingMenu } from './rating-menu';\n\n@NgModule({\n  declarations: [NgAisRatingMenu],\n  entryComponents: [NgAisRatingMenu],\n  exports: [NgAisRatingMenu],\n  imports: [CommonModule],\n})\nexport class NgAisRatingMenuModule {}\n","import {\n  Component,\n  ContentChild,\n  TemplateRef,\n  Inject,\n  forwardRef,\n  Optional,\n} from '@angular/core';\n\nimport { connectStats } from 'instantsearch.js/es/connectors';\n\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport {\n  StatsConnectorParams,\n  StatsWidgetDescription,\n  StatsRenderState,\n} from 'instantsearch.js/es/connectors/stats/connectStats';\n\n@Component({\n  selector: 'ais-stats',\n  template: `\n    <div [class]=\"cx()\">\n      <ng-container *ngTemplateOutlet=\"template; context: templateContext\">\n      </ng-container>\n\n      <span *ngIf=\"!template\" [class]=\"cx('text')\">\n        {{state.nbHits}} results found in {{state.processingTimeMS}}ms.\n      </span>\n    </div>\n  `,\n})\nexport class NgAisStats extends TypedBaseWidget<\n  StatsWidgetDescription,\n  StatsConnectorParams\n> {\n  @ContentChild(TemplateRef, { static: false })\n  public template: any;\n\n  public state: StatsRenderState = {\n    nbHits: 0,\n    nbPages: 0,\n    page: 0,\n    processingTimeMS: 0,\n    query: '',\n    areHitsSorted: false,\n  };\n\n  get templateContext() {\n    return { state: this.state };\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('Stats');\n    this.createWidget(\n      connectStats,\n      {},\n      {\n        $$widgetType: 'ais.stats',\n      }\n    );\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisStats } from './stats';\n\n@NgModule({\n  declarations: [NgAisStats],\n  entryComponents: [NgAisStats],\n  exports: [NgAisStats],\n  imports: [CommonModule],\n})\nexport class NgAisStatsModule {}\n","import { Component, Input, Inject, forwardRef, Optional } from '@angular/core';\n\nimport { connectToggleRefinement } from 'instantsearch.js/es/connectors';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop } from '../utils';\nimport {\n  ToggleRefinementConnectorParams,\n  ToggleRefinementWidgetDescription,\n  ToggleRefinementRenderState,\n} from 'instantsearch.js/es/connectors/toggle-refinement/connectToggleRefinement';\n\n@Component({\n  selector: 'ais-toggle',\n  template: `\n    <div [class]='cx()'>\n      <label [class]=\"cx('label')\">\n        <input\n          [class]=\"cx('checkbox')\"\n          type='checkbox'\n          value='{{state.value.name}}'\n          [checked]='state.value.isRefined'\n          (change)='handleChange($event)'\n        />\n\n        <span [class]=\"cx('labelText')\">\n          {{label || state.value.name}}\n        </span>\n\n        <span [class]=\"cx('count')\">{{state.value.count}}</span>\n      </label>\n    </div>\n  `,\n})\nexport class NgAisToggle extends TypedBaseWidget<\n  ToggleRefinementWidgetDescription,\n  ToggleRefinementConnectorParams\n> {\n  // rendering options\n  @Input() public label: string;\n\n  // instance options\n  @Input() public attribute: ToggleRefinementConnectorParams['attribute'];\n  @Input() public on?: ToggleRefinementConnectorParams['on'];\n  @Input() public off?: ToggleRefinementConnectorParams['off'];\n\n  public state: ToggleRefinementRenderState = {\n    canRefine: false,\n    sendEvent: undefined,\n    value: {\n      count: undefined,\n      isRefined: false,\n      name: '',\n      offFacetValue: undefined,\n      onFacetValue: undefined,\n    },\n    createURL: () => '#',\n    refine: noop,\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('ToggleRefinement');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectToggleRefinement,\n      {\n        attribute: this.attribute,\n        on: this.on,\n        off: this.off,\n      },\n      {\n        $$widgetType: 'ais.toggleRefinement',\n      }\n    );\n    super.ngOnInit();\n  }\n\n  public handleChange(event: Event) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.state.refine(this.state.value);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisToggle } from './toggle';\n\n@NgModule({\n  declarations: [NgAisToggle],\n  entryComponents: [NgAisToggle],\n  exports: [NgAisToggle],\n  imports: [CommonModule],\n})\nexport class NgAisToggleModule {}\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\n\nimport { Hit } from 'instantsearch.js';\nimport { reverseHighlight } from 'instantsearch.js/es/helpers';\n\n@Component({\n  selector: 'ais-reverse-highlight',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `<span class=\"ais-ReverseHighlight\" [innerHtml]=\"content\"></span>`,\n})\nexport class NgAisReverseHighlight {\n  @Input() attribute: string;\n  @Input() hit: Partial<Hit>;\n  @Input() highlightedTagName: string = 'mark';\n\n  get content() {\n    return reverseHighlight({\n      attribute: this.attribute,\n      hit: this.hit,\n      highlightedTagName: this.highlightedTagName,\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\n\nimport { NgAisReverseHighlight } from './reverse-highlight';\n\n@NgModule({\n  declarations: [NgAisReverseHighlight],\n  exports: [NgAisReverseHighlight],\n})\nexport class NgAisReverseHighlightModule {}\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\n\nimport { Hit } from 'instantsearch.js';\nimport { snippet } from 'instantsearch.js/es/helpers';\n\n@Component({\n  selector: 'ais-snippet',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `<span class=\"ais-Snippet\" [innerHtml]=\"content\"></span>`,\n})\nexport class NgAisSnippet {\n  @Input() attribute: string;\n  @Input() hit: Partial<Hit>;\n  @Input() highlightedTagName: string = 'mark';\n\n  get content() {\n    return snippet({\n      attribute: this.attribute,\n      hit: this.hit,\n      highlightedTagName: this.highlightedTagName,\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\n\nimport { NgAisSnippet } from './snippet';\n\n@NgModule({\n  declarations: [NgAisSnippet],\n  exports: [NgAisSnippet],\n})\nexport class NgAisSnippetModule {}\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\n\nimport { Hit } from 'instantsearch.js';\nimport { reverseSnippet } from 'instantsearch.js/es/helpers';\n\n@Component({\n  selector: 'ais-reverse-snippet',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `<span class=\"ais-ReverseSnippet\" [innerHtml]=\"content\"></span>`,\n})\nexport class NgAisReverseSnippet {\n  @Input() attribute: string;\n  @Input() hit: Partial<Hit>;\n  @Input() highlightedTagName: string = 'mark';\n\n  get content() {\n    return reverseSnippet({\n      attribute: this.attribute,\n      hit: this.hit,\n      highlightedTagName: this.highlightedTagName,\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\n\nimport { NgAisReverseSnippet } from './reverse-snippet';\n\n@NgModule({\n  declarations: [NgAisReverseSnippet],\n  exports: [NgAisReverseSnippet],\n})\nexport class NgAisReverseSnippetModule {}\n","import { Inject, Component, Input, forwardRef, Optional } from '@angular/core';\n\nimport { connectRange } from 'instantsearch.js/es/connectors';\nimport {\n  RangeConnectorParams,\n  RangeWidgetDescription,\n  RangeRenderState,\n} from 'instantsearch.js/es/connectors/range/connectRange';\n\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { parseNumberInput, noop } from '../utils';\n\n@Component({\n  selector: 'ais-range-input',\n  template: `\n    <div [ngClass]=\"[\n        cx(),\n        !canRefine ? cx('', 'noRefinement') : ''\n      ]\">\n      <form\n        [class]=\"cx('form')\"\n        (submit)=\"handleSubmit($event)\"\n        novalidate\n      >\n        <label [class]=\"cx('label')\">\n          <span [class]=\"cx('currency')\">{{currency}}</span>\n          <input\n            [ngClass]=\"[\n              cx('input'),\n              cx('input', 'min')\n            ]\"\n            type=\"number\"\n            [min]=\"state.range.min\"\n            [max]=\"state.range.max\"\n            [placeholder]=\"state.range.min\"\n            [value]=\"minInputValue\"\n            [step]=\"step\"\n            (change)=\"handleChange($event, 'min')\"\n          />\n        </label>\n\n        <span [class]=\"cx('separator')\">{{separator}}</span>\n\n        <label [class]=\"cx('label')\">\n          <span [class]=\"cx('currency')\">{{currency}}</span>\n          <input\n            [ngClass]=\"[\n              cx('input'),\n              cx('input', 'max')\n            ]\"\n            type=\"number\"\n            [min]=\"state.range.min\"\n            [max]=\"state.range.max\"\n            [placeholder]=\"state.range.max\"\n            [value]=\"maxInputValue\"\n            [step]=\"step\"\n            (change)=\"handleChange($event, 'max')\"\n          />\n        </label>\n\n        <button\n          [class]=\"cx('submit')\"\n          (click)=\"handleSubmit($event)\"\n        >\n          {{submitLabel}}\n        </button>\n      </form>\n    </div>\n  `,\n})\nexport class NgAisRangeInput extends TypedBaseWidget<\n  RangeWidgetDescription,\n  RangeConnectorParams\n> {\n  // rendering options\n  @Input() public currency: string = '$';\n  @Input() public separator: string = 'to';\n  @Input() public submitLabel: string = 'Go';\n\n  // instance options\n  @Input() public attribute: RangeConnectorParams['attribute'];\n  @Input() public min?: RangeConnectorParams['min'];\n  @Input() public max?: RangeConnectorParams['max'];\n  @Input() public precision?: RangeConnectorParams['precision'] = 0;\n\n  // inner state\n  public minInputValue?: number;\n  public maxInputValue?: number;\n\n  get step() {\n    const precision = parseNumberInput(this.precision);\n    return 1 / Math.pow(10, precision);\n  }\n\n  get canRefine() {\n    return this.state.range.min !== this.state.range.max;\n  }\n\n  public state: RangeRenderState = {\n    range: { min: undefined, max: undefined },\n    refine: noop,\n    start: [0, 0],\n    // TODO: use canRefine & format\n    canRefine: false,\n    format: {\n      from: () => '',\n      to: () => '',\n    },\n    sendEvent: undefined,\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('RangeInput');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectRange,\n      {\n        attribute: this.attribute,\n        max: parseNumberInput(this.max),\n        min: parseNumberInput(this.min),\n        precision: parseNumberInput(this.precision),\n      },\n      {\n        $$widgetType: 'ais.rangeInput',\n      }\n    );\n\n    super.ngOnInit();\n  }\n\n  public handleChange(event: any, type: string) {\n    const value = parseNumberInput(event.target.value);\n\n    if (type === 'min') {\n      this.minInputValue = value;\n    } else {\n      this.maxInputValue = value;\n    }\n  }\n\n  public handleSubmit(event: Event) {\n    event.preventDefault();\n    this.state.refine([this.minInputValue, this.maxInputValue]);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisRangeInput } from './range-input';\n\n@NgModule({\n  declarations: [NgAisRangeInput],\n  entryComponents: [NgAisRangeInput],\n  exports: [NgAisRangeInput],\n  imports: [CommonModule],\n})\nexport class NgAisRangeInputModule {}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'ais-panel',\n  template: `\n    <div class=\"ais-Panel\">\n      <div *ngIf=\"header\" class=\"ais-Panel-header\">\n        {{header}}\n      </div>\n\n      <div class=\"ais-Panel-body\">\n        <ng-content></ng-content>\n      </div>\n\n      <div *ngIf=\"footer\" class=\"ais-Panel-footer\">\n        {{footer}}\n      </div>\n    </div>\n  `,\n})\nexport class NgAisPanel {\n  @Input() public header?: string;\n  @Input() public footer?: string;\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisPanel } from './panel';\nexport { NgAisPanel } from './panel';\n\n@NgModule({\n  declarations: [NgAisPanel],\n  entryComponents: [NgAisPanel],\n  exports: [NgAisPanel],\n  imports: [CommonModule],\n})\nexport class NgAisPanelModule {}\n","import {\n  Component,\n  Input,\n  Inject,\n  forwardRef,\n  KeyValueDiffer,\n  KeyValueDiffers,\n  Optional,\n} from '@angular/core';\n\nimport { connectConfigure } from 'instantsearch.js/es/connectors';\nimport {\n  ConfigureWidgetDescription,\n  ConfigureRenderState,\n  ConfigureConnectorParams,\n} from 'instantsearch.js/es/connectors/configure/connectConfigure';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop } from '../utils';\n\n@Component({\n  selector: 'ais-configure',\n  template: '',\n})\nexport class NgAisConfigure extends TypedBaseWidget<\n  ConfigureWidgetDescription,\n  ConfigureConnectorParams\n> {\n  // instance options\n  private internalSearchParameters: ConfigureConnectorParams['searchParameters'];\n\n  private differ: KeyValueDiffer<string, any>;\n\n  public state: ConfigureRenderState = {\n    refine: noop,\n  };\n\n  constructor(\n    private differs: KeyValueDiffers,\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('Configure');\n  }\n\n  @Input()\n  set searchParameters(values: ConfigureConnectorParams['searchParameters']) {\n    this.internalSearchParameters = values;\n    if (!this.differ && values) {\n      this.differ = this.differs.find(values).create();\n    }\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectConfigure,\n      {\n        searchParameters: this.internalSearchParameters,\n      },\n      {\n        $$widgetType: 'ais.configure',\n      }\n    );\n    super.ngOnInit();\n  }\n\n  ngDoCheck() {\n    if (this.differ) {\n      const changes = this.differ.diff(this.internalSearchParameters);\n      if (changes) {\n        this.state.refine(this.internalSearchParameters);\n      }\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisConfigure } from './configure';\n\n@NgModule({\n  declarations: [NgAisConfigure],\n  entryComponents: [NgAisConfigure],\n  exports: [NgAisConfigure],\n  imports: [CommonModule],\n})\nexport class NgAisConfigureModule {}\n","import { Component, forwardRef, Inject, Input, Optional } from '@angular/core';\n\nimport { EXPERIMENTAL_connectConfigureRelatedItems } from 'instantsearch.js/es/connectors';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport {\n  ConfigureRelatedItemsConnectorParams,\n  ConfigureRelatedItemsWidgetDescription,\n} from 'instantsearch.js/es/connectors/configure-related-items/connectConfigureRelatedItems';\n\n@Component({\n  selector: 'ais-experimental-configure-related-items',\n  template: '',\n})\nexport class NgAisConfigureRelatedItems extends TypedBaseWidget<\n  ConfigureRelatedItemsWidgetDescription,\n  ConfigureRelatedItemsConnectorParams\n> {\n  @Input() hit: ConfigureRelatedItemsConnectorParams['hit'];\n  @Input()\n  public matchingPatterns: ConfigureRelatedItemsConnectorParams['matchingPatterns'];\n  @Input()\n  public transformSearchParameters: ConfigureRelatedItemsConnectorParams['transformSearchParameters'];\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('ExperimentalConfigureRelatedItems');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      EXPERIMENTAL_connectConfigureRelatedItems,\n      {\n        hit: this.hit,\n        matchingPatterns: this.matchingPatterns,\n        transformSearchParameters: this.transformSearchParameters,\n      },\n      {\n        $$widgetType: 'ais.configureRelatedItems',\n      }\n    );\n\n    super.ngOnInit();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisConfigureRelatedItems } from './configure-related-items';\n\n@NgModule({\n  declarations: [NgAisConfigureRelatedItems],\n  entryComponents: [NgAisConfigureRelatedItems],\n  exports: [NgAisConfigureRelatedItems],\n  imports: [CommonModule],\n})\nexport class NgAisConfigureRelatedItemsModule {}\n","import {\n  Component,\n  ContentChild,\n  TemplateRef,\n  Inject,\n  forwardRef,\n  Input,\n  Optional,\n} from '@angular/core';\n\nimport { connectQueryRules } from 'instantsearch.js/es/connectors';\nimport {\n  QueryRulesConnectorParams,\n  QueryRulesWidgetDescription,\n  QueryRulesRenderState,\n} from 'instantsearch.js/es/connectors/query-rules/connectQueryRules';\n\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\n\n@Component({\n  selector: 'ais-query-rule-custom-data',\n  template: `\n    <div [class]='cx()'>\n      <ng-container *ngTemplateOutlet='template; context: templateContext'>\n      </ng-container>\n\n      <div *ngIf='!template'>\n        <div *ngFor='let item of state.items'>\n          <pre>{{ item | json }}</pre>\n        </div>\n      </div>\n    </div>\n  `,\n})\nexport class NgAisQueryRuleCustomData extends TypedBaseWidget<\n  QueryRulesWidgetDescription,\n  QueryRulesConnectorParams\n> {\n  @ContentChild(TemplateRef, { static: false })\n  public template: any;\n\n  @Input() public transformItems?: QueryRulesConnectorParams['transformItems'];\n\n  public state: QueryRulesRenderState = {\n    items: [],\n  };\n\n  get templateContext() {\n    return {\n      items: this.state.items,\n    };\n  }\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('QueryRuleCustomData');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectQueryRules,\n      {\n        transformItems: this.transformItems,\n      },\n      {\n        $$widgetType: 'ais.queryRuleCustomData',\n      }\n    );\n\n    super.ngOnInit();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisQueryRuleCustomData } from './query-rule-custom-data';\n\n@NgModule({\n  declarations: [NgAisQueryRuleCustomData],\n  entryComponents: [NgAisQueryRuleCustomData],\n  exports: [NgAisQueryRuleCustomData],\n  imports: [CommonModule],\n})\nexport class NgAisQueryRuleCustomDataModule {}\n","import { Component, Input, Inject, forwardRef, Optional } from '@angular/core';\n\nimport { connectQueryRules } from 'instantsearch.js/es/connectors';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport {\n  QueryRulesConnectorParams,\n  QueryRulesWidgetDescription,\n} from 'instantsearch.js/es/connectors/query-rules/connectQueryRules';\n\n@Component({\n  selector: 'ais-query-rule-context',\n  template: '',\n})\nexport class NgAisQueryRuleContext extends TypedBaseWidget<\n  QueryRulesWidgetDescription,\n  QueryRulesConnectorParams\n> {\n  @Input() public trackedFilters: QueryRulesConnectorParams['trackedFilters'];\n  @Input()\n  public transformRuleContexts?: QueryRulesConnectorParams['transformRuleContexts'];\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch\n  ) {\n    super('QueryRuleContext');\n  }\n\n  public ngOnInit() {\n    this.createWidget(\n      connectQueryRules,\n      {\n        trackedFilters: this.trackedFilters,\n        transformRuleContexts: this.transformRuleContexts,\n      },\n      {\n        $$widgetType: 'ais.queryRuleContext',\n      }\n    );\n\n    super.ngOnInit();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisQueryRuleContext } from './query-rule-context';\n\n@NgModule({\n  declarations: [NgAisQueryRuleContext],\n  entryComponents: [NgAisQueryRuleContext],\n  exports: [NgAisQueryRuleContext],\n  imports: [CommonModule],\n})\nexport class NgAisQueryRuleContextModule {}\n","import {\n  Component,\n  Input,\n  Inject,\n  forwardRef,\n  NgZone,\n  ContentChild,\n  ElementRef,\n  TemplateRef,\n  OnInit,\n  Optional,\n} from '@angular/core';\n\nimport { connectVoiceSearch } from 'instantsearch.js/es/connectors';\nimport { TypedBaseWidget } from '../typed-base-widget';\nimport { NgAisInstantSearch } from '../instantsearch/instantsearch';\nimport { NgAisIndex } from '../index-widget/index-widget';\nimport { noop } from '../utils';\nimport {\n  VoiceSearchConnectorParams,\n  VoiceSearchWidgetDescription,\n  VoiceSearchRenderState,\n} from 'instantsearch.js/es/connectors/voice-search/connectVoiceSearch';\n\n@Component({\n  selector: 'ais-voice-search',\n  template: `\n    <div [class]=\"cx()\">\n      <button\n        type=\"button\"\n        [class]=\"cx('button')\"\n        [title]=\"state.isBrowserSupported ? buttonTitle : disabledButtonTitle\"\n        [disabled]=\"!state.isBrowserSupported\"\n        (click)=\"handleClick($event)\"\n      >\n        <ng-container *ngTemplateOutlet=\"button ? button : defaultButton; context: templateContext\"></ng-container>\n      </button>\n      <div [class]=\"cx('status')\">\n        <ng-container *ngTemplateOutlet=\"status ? status : defaultStatus; context: templateContext\"></ng-container>\n      </div>\n    </div>\n\n    <ng-template #defaultButton let-status=\"status\" let-errorCode=\"errorCode\" let-isListening=\"isListening\">\n      <svg\n        xmlns='http://www.w3.org/2000/svg'\n        width='16'\n        height='16'\n        viewBox='0 0 24 24'\n        fill='none'\n        stroke='currentColor'\n        strokeWidth='2'\n        strokeLinecap='round'\n        strokeLinejoin='round'\n      >\n        <ng-container *ngIf=\"isNotAllowedError(); then errorSvgContent else normalSvgContent\">\n        </ng-container>\n        <ng-template #errorSvgContent>\n          <line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\"></line>\n          <path d=\"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6\"></path>\n          <path d=\"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23\"></path>\n          <line x1=\"12\" y1=\"19\" x2=\"12\" y2=\"23\"></line>\n          <line x1=\"8\" y1=\"23\" x2=\"16\" y2=\"23\"></line>\n        </ng-template>\n        <ng-template #normalSvgContent>\n          <path\n            d=\"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z\"\n            [attr.fill]=\"isListening ? 'currentColor' : 'none'\"\n          ></path>\n          <path d=\"M19 10v2a7 7 0 0 1-14 0v-2\"></path>\n          <line x1=\"12\" y1=\"19\" x2=\"12\" y2=\"23\"></line>\n          <line x1=\"8\" y1=\"23\" x2=\"16\" y2=\"23\"></line>\n        </ng-template>\n      </svg>\n    </ng-template>\n    <ng-template #defaultStatus let-transcript=\"transcript\">\n      <p>{{transcript}}</p>\n    </ng-template>\n  `,\n})\nexport class NgAisVoiceSearch\n  extends TypedBaseWidget<\n    VoiceSearchWidgetDescription,\n    VoiceSearchConnectorParams\n  >\n  implements OnInit {\n  @ContentChild('button', { static: false })\n  button: TemplateRef<ElementRef>;\n  @ContentChild('status', { static: false })\n  status: TemplateRef<ElementRef>;\n\n  // rendering options\n  @Input() public buttonTitle: string = 'Search by voice';\n  @Input()\n  public disabledButtonTitle: string =\n    'Search by voice (not supported on this browser)';\n\n  // instance option\n  @Input()\n  public searchAsYouSpeak?: VoiceSearchConnectorParams['searchAsYouSpeak'];\n\n  public state: VoiceSearchRenderState = {\n    isBrowserSupported: undefined,\n    isListening: undefined,\n    toggleListening: noop,\n    voiceListeningState: {\n      status: 'initial',\n      transcript: '',\n      isSpeechFinal: false,\n      errorCode: undefined,\n    },\n  };\n\n  public templateContext: VoiceSearchRenderState['voiceListeningState'] & {\n    isListening: boolean;\n    isBrowserSupported: boolean;\n  } = {\n    status: 'initial',\n    errorCode: undefined,\n    transcript: '',\n    isSpeechFinal: false,\n    isListening: false,\n    isBrowserSupported: false,\n  };\n\n  constructor(\n    @Inject(forwardRef(() => NgAisIndex))\n    @Optional()\n    public parentIndex: NgAisIndex,\n    @Inject(forwardRef(() => NgAisInstantSearch))\n    public instantSearchInstance: NgAisInstantSearch,\n    private zone: NgZone\n  ) {\n    super('VoiceSearch');\n  }\n\n  ngOnInit() {\n    this.createWidget(\n      connectVoiceSearch,\n      {\n        searchAsYouSpeak: this.searchAsYouSpeak,\n      },\n      {\n        $$widgetType: 'ais.voiceSearch',\n      }\n    );\n    super.ngOnInit();\n  }\n\n  public handleClick = (event: MouseEvent): void => {\n    (event.currentTarget as HTMLElement).blur();\n    this.state.toggleListening();\n  };\n\n  public isNotAllowedError = (): boolean =>\n    this.state.voiceListeningState.status === 'error' &&\n    this.state.voiceListeningState.errorCode === 'not-allowed';\n\n  public updateState = (state: VoiceSearchRenderState): void => {\n    this.zone.run(() => {\n      this.templateContext = {\n        status: state.voiceListeningState.status,\n        errorCode: state.voiceListeningState.errorCode,\n        transcript: state.voiceListeningState.transcript,\n        isSpeechFinal: state.voiceListeningState.isSpeechFinal,\n        isListening: state.isListening,\n        isBrowserSupported: state.isBrowserSupported,\n      };\n      this.state = state;\n    });\n  };\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgAisVoiceSearch } from './voice-search';\n\n@NgModule({\n  declarations: [NgAisVoiceSearch],\n  entryComponents: [NgAisVoiceSearch],\n  exports: [NgAisVoiceSearch],\n  imports: [CommonModule],\n})\nexport class NgAisVoiceSearchModule {}\n","import * as algoliasearchProxy from 'algoliasearch/lite';\nimport * as encodeProxy from 'querystring-es3/encode';\nimport { VERSION as AngularVersion } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { TransferState, StateKey } from '@angular/platform-browser';\nimport { VERSION } from './version';\n\ntype SSRSearchClientOptions = {\n  appId: string;\n  apiKey: string;\n  httpClient: HttpClient;\n  HttpHeaders: typeof HttpHeaders;\n  transferState: TransferState;\n  options?: object;\n  makeStateKey<T = void>(key: string): StateKey<T>;\n};\n\ntype RequestOptions = {\n  // Algolia only uses GET and POST methods for searching.\n  // See: https://www.algolia.com/doc/rest-api/search/#search-endpoints\n  method: 'GET' | 'POST';\n  headers: string;\n  body: string;\n};\n\n// compatibility with different typescript settings:\n// - esModuleInterop\n// - allowSyntheticDefaultImports\nconst algoliasearch = (typeof algoliasearchProxy.default === 'function'\n  ? algoliasearchProxy.default\n  : algoliasearchProxy) as typeof algoliasearchProxy.default extends Function\n  ? typeof algoliasearchProxy.default\n  : typeof algoliasearchProxy;\n\nconst encode = encodeProxy.default || encodeProxy;\n\nexport function createSSRSearchClient({\n  appId,\n  apiKey,\n  httpClient,\n  HttpHeaders,\n  transferState,\n  makeStateKey,\n  options = {},\n}: SSRSearchClientOptions) {\n  // A custom network request needs to be done, using TransferState of Angular.\n  // This is done to make sure the request done backend for SSR doesn't get\n  // made again frontend during hydration.\n  // For compatibility with both v3 and v4 of algoliasearch, we are overriding the\n  // network request function in two places:\n  // v4: custom \"requester\"\n  // v3: override \"_request\" on the prototype\n  // since neither v3 uses the requester argument, and v4 use the _request, we\n  // can safely do this without checking the version\n  const searchClient = algoliasearch(appId, apiKey, {\n    ...options,\n    requester: {\n      send({ headers, method, url, data }) {\n        const transferStateKey = makeStateKey<string>(`ngais(${data})`);\n\n        if (transferState.hasKey(transferStateKey)) {\n          const response = JSON.parse(\n            transferState.get(transferStateKey, JSON.stringify({}))\n          );\n\n          return Promise.resolve({\n            status: response.status,\n            content: JSON.stringify(response.body),\n            isTimedOut: false,\n          });\n        }\n\n        return new Promise((resolve, reject) => {\n          httpClient\n            .request(method, url, {\n              headers,\n              body: data,\n              observe: 'response',\n            })\n            .subscribe(\n              response => {\n                transferState.set(transferStateKey, JSON.stringify(response));\n\n                resolve({\n                  status: response.status,\n                  content: JSON.stringify(response.body),\n                  isTimedOut: false,\n                });\n              },\n              response =>\n                reject({\n                  status: response.status,\n                  body: response.body,\n                })\n            );\n        });\n      },\n    },\n  });\n\n  searchClient.addAlgoliaAgent(`angular (${AngularVersion.full})`);\n  searchClient.addAlgoliaAgent(`angular-instantsearch (${VERSION})`);\n  searchClient.addAlgoliaAgent(`angular-instantsearch-server (${VERSION})`);\n\n  (searchClient as any)._request = (\n    rawUrl: string,\n    options: RequestOptions\n  ) => {\n    let headers = new HttpHeaders();\n\n    headers = headers.set(\n      'content-type',\n      options.method === 'POST'\n        ? 'application/x-www-form-urlencoded'\n        : 'application/json'\n    );\n\n    headers = headers.set('accept', 'application/json');\n\n    const url =\n      rawUrl + (rawUrl.includes('?') ? '&' : '?') + encode(options.headers);\n\n    const transferStateKey = makeStateKey<string>(`ngais(${options.body})`);\n\n    if (transferState.hasKey(transferStateKey)) {\n      const response = JSON.parse(\n        transferState.get(transferStateKey, JSON.stringify({}))\n      );\n\n      return Promise.resolve({\n        statusCode: response.status,\n        body: response.body,\n        headers: response.headers,\n      });\n    }\n\n    return new Promise((resolve, reject) => {\n      httpClient\n        .request(options.method, url, {\n          headers,\n          body: options.body,\n          observe: 'response',\n        })\n        .subscribe(\n          response => {\n            transferState.set(transferStateKey, JSON.stringify(response));\n\n            resolve({\n              statusCode: response.status,\n              body: response.body,\n              headers: response.headers,\n            });\n          },\n          response =>\n            reject({\n              statusCode: response.status,\n              body: response.body,\n              headers: response.headers,\n            })\n        );\n    });\n  };\n\n  return searchClient;\n}\n","import { Input, OnDestroy, OnInit } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { bem, noop } from './utils';\nimport { NgAisInstantSearch } from './instantsearch/instantsearch';\nimport { NgAisIndex } from './index-widget/index-widget';\nimport { Widget as W } from 'instantsearch.js/es/types';\nimport { IndexWidget } from 'instantsearch.js/es/widgets/index/index';\n\nexport type Widget = W | IndexWidget;\n\n// TODO: use Connector type from InstantSearch. Not yet possible now,\n// since non-ts connectors can't have generics like Connector has,\n// as well as sometimes being not accurate enough / missing keys.\nexport type Connector = (\n  renderFn: (state: object, isFirstRendering: boolean) => void,\n  unmountFn: () => void\n) => (widgetOptions?: object) => Widget;\n\nexport abstract class BaseWidget<TState extends Record<string, unknown> = {}>\n  implements OnInit, OnDestroy {\n  @Input() public autoHideContainer?: boolean;\n\n  public widget?: Widget;\n  public state?: TState = {} as TState;\n  public cx: ReturnType<typeof bem>;\n  public abstract instantSearchInstance: NgAisInstantSearch;\n  public abstract parentIndex?: NgAisIndex;\n\n  constructor(widgetName: string) {\n    this.cx = bem(widgetName);\n  }\n\n  get parent() {\n    if (this.parentIndex) {\n      return this.parentIndex;\n    }\n    return this.instantSearchInstance;\n  }\n\n  public createWidget(\n    connector: Connector,\n    options: object = {},\n    additionalWidgetProperties: object = {}\n  ) {\n    this.widget = {\n      ...connector(this.updateState, noop)(options),\n      ...additionalWidgetProperties,\n    };\n  }\n\n  public ngOnInit() {\n    this.parent.addWidgets([this.widget]);\n  }\n\n  public ngOnDestroy() {\n    if (isPlatformBrowser(this.instantSearchInstance.platformId)) {\n      this.parent.removeWidgets([this.widget]);\n    }\n  }\n\n  public updateState = (\n    state: TState,\n    isFirstRendering: boolean\n  ): Promise<void> | void => {\n    if (isFirstRendering) {\n      return Promise.resolve().then(() => {\n        this.state = state;\n      });\n    }\n\n    this.state = state;\n  };\n\n  /**\n   * Helper to generate class names for an item\n   * @param item element to generate a class name for\n   */\n  public getItemClass(item: { isRefined?: boolean }) {\n    const className = this.cx('item');\n\n    if (item.isRefined) {\n      return `${className} ${this.cx('item', 'selected')}`;\n    }\n\n    return className;\n  }\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\n\n// Modules\nimport { NgAisBreadcrumbModule } from './breadcrumb/breadcrumb.module';\nexport { NgAisBreadcrumbModule };\n\nimport { NgAisClearRefinementsModule } from './clear-refinements/clear-refinements.module';\nexport { NgAisClearRefinementsModule };\n\nimport { NgAisCurrentRefinementsModule } from './current-refinements/current-refinements.module';\nexport { NgAisCurrentRefinementsModule };\n\nimport { NgAisHierarchicalMenuModule } from './hierarchical-menu/hierarchical-menu.module';\nexport { NgAisHierarchicalMenuModule };\n\nimport { NgAisHitsPerPageModule } from './hits-per-page/hits-per-page.module';\nexport { NgAisHitsPerPageModule };\n\nimport { NgAisHitsModule } from './hits/hits.module';\nexport { NgAisHitsModule };\n\nimport { NgAisIndexModule } from './index-widget/index-widget.module';\nexport { NgAisIndexModule };\n\nimport { NgAisInfiniteHitsModule } from './infinite-hits/infinite-hits.module';\nexport { NgAisInfiniteHitsModule };\n\nimport { NgAisInstantSearchModule } from './instantsearch/instantsearch.module';\nexport { NgAisInstantSearchModule };\n\nimport { NgAisMenuModule } from './menu/menu.module';\nexport { NgAisMenuModule };\n\nimport { NgAisNumericMenuModule } from './numeric-menu/numeric-menu.module';\nexport { NgAisNumericMenuModule };\n\nimport { NgAisPaginationModule } from './pagination/pagination.module';\nexport { NgAisPaginationModule };\n\nimport { NgAisRangeSliderModule } from './range-slider/range-slider.module';\nexport { NgAisRangeSliderModule };\n\nimport { NgAisRefinementListModule } from './refinement-list/refinement-list.module';\nexport { NgAisRefinementListModule };\n\nimport { NgAisSearchBoxModule } from './search-box/search-box.module';\nexport { NgAisSearchBoxModule };\n\nimport { NgAisSortByModule } from './sort-by/sort-by.module';\nexport { NgAisSortByModule };\n\nimport { NgAisRatingMenuModule } from './rating-menu/rating-menu.module';\nexport { NgAisRatingMenuModule };\n\nimport { NgAisStatsModule } from './stats/stats.module';\nexport { NgAisStatsModule };\n\nimport { NgAisToggleModule } from './toggle/toggle.module';\nexport { NgAisToggleModule };\n\nimport { NgAisHighlightModule } from './highlight/highlight.module';\nexport { NgAisHighlightModule };\n\nimport { NgAisReverseHighlightModule } from './reverse-highlight/reverse-highlight.module';\nexport { NgAisReverseHighlightModule };\n\nimport { NgAisSnippetModule } from './snippet/snippet.module';\nexport { NgAisSnippetModule };\n\nimport { NgAisReverseSnippetModule } from './reverse-snippet/reverse-snippet.module';\nexport { NgAisReverseSnippetModule };\n\nimport { NgAisRangeInputModule } from './range-input/range-input.module';\nexport { NgAisRangeInputModule };\n\nimport { NgAisPanelModule } from './panel/panel.module';\nexport { NgAisPanelModule };\n\nimport { NgAisConfigureModule } from './configure/configure.module';\nexport { NgAisConfigureModule };\n\nimport { NgAisConfigureRelatedItemsModule } from './configure-related-items/configure-related-items.module';\nexport { NgAisConfigureRelatedItemsModule };\n\nimport { NgAisQueryRuleCustomDataModule } from './query-rule-custom-data/query-rule-custom-data.module';\nexport { NgAisQueryRuleCustomDataModule };\n\nimport { NgAisQueryRuleContextModule } from './query-rule-context/query-rule-context.module';\nexport { NgAisQueryRuleContextModule };\n\nimport { NgAisVoiceSearchModule } from './voice-search/voice-search.module';\nexport { NgAisVoiceSearchModule };\n\n// Server-side rendering\nexport { createSSRSearchClient } from './create-ssr-search-client';\n\n// Custom widget with BaseWidget class\nexport { BaseWidget, Widget, Connector } from './base-widget';\nexport { TypedBaseWidget } from './typed-base-widget';\n\nexport { NgAisInstantSearch } from './instantsearch/instantsearch';\nexport { NgAisIndex } from './index-widget/index-widget';\n\nconst NGIS_MODULES = [\n  NgAisInstantSearchModule,\n  NgAisIndexModule,\n  NgAisHitsModule,\n  NgAisSearchBoxModule,\n  NgAisClearRefinementsModule,\n  NgAisMenuModule,\n  NgAisPaginationModule,\n  NgAisRefinementListModule,\n  NgAisHitsPerPageModule,\n  NgAisSortByModule,\n  NgAisNumericMenuModule,\n  NgAisStatsModule,\n  NgAisToggleModule,\n  NgAisInfiniteHitsModule,\n  NgAisCurrentRefinementsModule,\n  NgAisHierarchicalMenuModule,\n  NgAisRatingMenuModule,\n  NgAisRangeSliderModule,\n  NgAisBreadcrumbModule,\n  NgAisHighlightModule,\n  NgAisReverseHighlightModule,\n  NgAisSnippetModule,\n  NgAisReverseSnippetModule,\n  NgAisRangeInputModule,\n  NgAisPanelModule,\n  NgAisConfigureModule,\n  NgAisConfigureRelatedItemsModule,\n  NgAisQueryRuleCustomDataModule,\n  NgAisQueryRuleContextModule,\n  NgAisVoiceSearchModule,\n];\n\n@NgModule({\n  exports: NGIS_MODULES,\n  imports: [NgAisInstantSearchModule.forRoot()],\n})\nexport class NgAisRootModule {}\n\n@NgModule({ imports: NGIS_MODULES, exports: NGIS_MODULES })\nexport class NgAisModule {\n  public static forRoot(): ModuleWithProviders<NgAisRootModule> {\n    return { ngModule: NgAisRootModule };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {NgAisBreadcrumb as ɵb} from './breadcrumb/breadcrumb';\nexport {NgAisClearRefinements as ɵc} from './clear-refinements/clear-refinements';\nexport {NgAisConfigureRelatedItems as ɵba} from './configure-related-items/configure-related-items';\nexport {NgAisConfigure as ɵz} from './configure/configure';\nexport {NgAisCurrentRefinements as ɵd} from './current-refinements/current-refinements';\nexport {NgAisHierarchicalMenu as ɵe} from './hierarchical-menu/hierarchical-menu';\nexport {NgAisHierarchicalMenuItem as ɵf} from './hierarchical-menu/hierarchical-menu-item';\nexport {NgAisHighlight as ɵi} from './highlight/highlight';\nexport {NgAisHitsPerPage as ɵg} from './hits-per-page/hits-per-page';\nexport {NgAisHits as ɵh} from './hits/hits';\nexport {NgAisInfiniteHits as ɵj} from './infinite-hits/infinite-hits';\nexport {NgAisMenu as ɵk} from './menu/menu';\nexport {NgAisNumericMenu as ɵl} from './numeric-menu/numeric-menu';\nexport {NgAisPagination as ɵm} from './pagination/pagination';\nexport {NgAisPanel as ɵa} from './panel/panel';\nexport {NgAisQueryRuleContext as ɵbc} from './query-rule-context/query-rule-context';\nexport {NgAisQueryRuleCustomData as ɵbb} from './query-rule-custom-data/query-rule-custom-data';\nexport {NgAisRangeInput as ɵy} from './range-input/range-input';\nexport {NgAisRangeSlider as ɵn} from './range-slider/range-slider';\nexport {NgAisRatingMenu as ɵs} from './rating-menu/rating-menu';\nexport {NgAisFacetsSearch as ɵp} from './refinement-list/facets-search';\nexport {NgAisRefinementList as ɵo} from './refinement-list/refinement-list';\nexport {NgAisReverseHighlight as ɵv} from './reverse-highlight/reverse-highlight';\nexport {NgAisReverseSnippet as ɵx} from './reverse-snippet/reverse-snippet';\nexport {NgAisSearchBox as ɵq} from './search-box/search-box';\nexport {NgAisSnippet as ɵw} from './snippet/snippet';\nexport {NgAisSortBy as ɵr} from './sort-by/sort-by';\nexport {NgAisStats as ɵt} from './stats/stats';\nexport {NgAisToggle as ɵu} from './toggle/toggle';\nexport {NgAisVoiceSearch as ɵbd} from './voice-search/voice-search';"],"names":["isPlatformBrowser","Input","algoliasearch","algoliasearchProxy","EventEmitter","AngularVersion","instantsearch","Component","Inject","PLATFORM_ID","Output","indexWidget","SkipSelf","forwardRef","Optional","connectBreadcrumb","NgModule","CommonModule","connectClearRefinements","connectCurrentRefinements","connectHierarchicalMenu","connectHitsPerPage","getPropertyByPath","highlight","ChangeDetectionStrategy","connectHitsWithInsights","ContentChild","TemplateRef","connectInfiniteHitsWithInsights","connectMenu","connectNumericMenu","connectPagination","noUiSlider","connectRange","ViewChild","connectRefinementList","connectSearchBox","DOCUMENT","connectSortBy","connectRatingMenu","connectStats","connectToggleRefinement","reverseHighlight","snippet","reverseSnippet","connectConfigure","KeyValueDiffers","EXPERIMENTAL_connectConfigureRelatedItems","connectQueryRules","connectVoiceSearch","NgZone","encodeProxy"],"mappings":"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"}